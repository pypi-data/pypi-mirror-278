import{r as N,j as S,af as Bt,bT as Ht,I as Re,aX as Ei,aW as re,dp as gn,ah as wi,u as Nt,B as et,dq as Si,dr as Ti,f as wr,ds as Ai,dt as Oi,du as Ci,dv as Mi,dw as Sr,dx as Pi,cN as Di,aV as mn,h as Ni,bR as Li,aw as Ri,dy as Ii,dz as ki,dA as Be,dB as xi,dC as ji,dD as $i,dE as nr,bd as Fi,dF as Ui,dG as zi,dH as Hi,dI as Bi,dJ as Gi,dK as Wi,dL as Vi,bv as Ki,bC as Xi,bw as Yi,by as Tr,bz as Fn,bA as Ji,dM as qi,J as rr,dN as Zi}from"./index-86768d23.js";import{I as tt}from"./input-13e7a0de.js";import{S as Qi,d as ea}from"./index-6451e54f.js";import{T as ir}from"./textarea-04e722a8.js";function ao({value:a,onChange:t,disabled:n,editNode:i=!1,componentName:c,playgroundDisabled:e}){return N.useEffect(()=>{n&&a.length>0&&a[0]!==""&&t([""])},[n]),typeof a=="string"&&(a=[a]),a!=null&&a.length||(a=[""]),S.jsx("div",{className:Bt(a.length>1&&i?"my-1":"","flex flex-col gap-3"),children:a.map((r,s)=>S.jsxs("div",{className:"flex w-full gap-3",children:[S.jsx(tt,{disabled:n||e,type:"text",value:r,className:i?"input-edit-node":"",placeholder:"Type something...",onChange:u=>{let h=Ht.cloneDeep(a);h[s]=u.target.value,t(h)},"data-testid":`input-list-input${i?"-edit":""}_${c}-`+s}),s===a.length-1?S.jsx("button",{onClick:u=>{let h=Ht.cloneDeep(a);h.push(""),t(h),u.preventDefault()},"data-testid":`input-list-plus-btn${i?"-edit":""}_${c}-`+s,disabled:n||e,children:S.jsx(Re,{name:"Plus",className:"h-4 w-4 hover:text-accent-foreground"})}):S.jsx("button",{"data-testid":`input-list-minus-btn${i?"-edit":""}_${c}-`+s,onClick:u=>{let h=Ht.cloneDeep(a);h.splice(s,1),t(h),u.preventDefault()},disabled:n||e,children:S.jsx(Re,{name:"X",className:`h-4 w-4 ${n||e?"":"hover:text-accent-foreground"}`})})]},s))})}var Ar={exports:{}},ta="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",na=ta,ra=na;function Or(){}function Cr(){}Cr.resetWarningCache=Or;var ia=function(){function a(i,c,e,r,s,u){if(u!==ra){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}a.isRequired=a;function t(){return a}var n={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:t,element:a,elementType:a,instanceOf:t,node:a,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Cr,resetWarningCache:Or};return n.PropTypes=n,n};Ar.exports=ia();var vn=Ar.exports;const so=Ei(vn);var Lt={},Un={},_n={exports:{}};_n.exports;(function(a,t){var n=200,i="__lodash_hash_undefined__",c=1,e=2,r=9007199254740991,s="[object Arguments]",u="[object Array]",h="[object AsyncFunction]",f="[object Boolean]",l="[object Date]",p="[object Error]",d="[object Function]",_="[object GeneratorFunction]",v="[object Map]",b="[object Number]",A="[object Null]",w="[object Object]",O="[object Promise]",I="[object Proxy]",W="[object RegExp]",k="[object Set]",H="[object String]",F="[object Symbol]",j="[object Undefined]",U="[object WeakMap]",R="[object ArrayBuffer]",T="[object DataView]",V="[object Float32Array]",J="[object Float64Array]",Ge="[object Int8Array]",B="[object Int16Array]",q="[object Int32Array]",oe="[object Uint8Array]",fe="[object Uint8ClampedArray]",K="[object Uint16Array]",Oe="[object Uint32Array]",Z=/[\\^$.*+?()[\]{}|]/g,_e=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,z={};z[V]=z[J]=z[Ge]=z[B]=z[q]=z[oe]=z[fe]=z[K]=z[Oe]=!0,z[s]=z[u]=z[R]=z[f]=z[T]=z[l]=z[p]=z[d]=z[v]=z[b]=z[w]=z[W]=z[k]=z[H]=z[U]=!1;var je=typeof re=="object"&&re&&re.Object===Object&&re,nt=typeof self=="object"&&self&&self.Object===Object&&self,ue=je||nt||Function("return this")(),We=t&&!t.nodeType&&t,It=We&&!0&&a&&!a.nodeType&&a,$e=It&&It.exports===We,rt=$e&&je.process,Ie=function(){try{return rt&&rt.binding&&rt.binding("util")}catch{}}(),bt=Ie&&Ie.isTypedArray;function kt(o,m){for(var y=-1,M=o==null?0:o.length,Q=0,$=[];++y<M;){var te=o[y];m(te,y,o)&&($[Q++]=te)}return $}function Ve(o,m){for(var y=-1,M=m.length,Q=o.length;++y<M;)o[Q+y]=m[y];return o}function yt(o,m){for(var y=-1,M=o==null?0:o.length;++y<M;)if(m(o[y],y,o))return!0;return!1}function Et(o,m){for(var y=-1,M=Array(o);++y<o;)M[y]=m(y);return M}function Wt(o){return function(m){return o(m)}}function Vt(o,m){return o.has(m)}function wn(o,m){return o==null?void 0:o[m]}function xt(o){var m=-1,y=Array(o.size);return o.forEach(function(M,Q){y[++m]=[Q,M]}),y}function it(o,m){return function(y){return o(m(y))}}function Ke(o){var m=-1,y=Array(o.size);return o.forEach(function(M){y[++m]=M}),y}var Xe=Array.prototype,Kt=Function.prototype,at=Object.prototype,wt=ue["__core-js_shared__"],St=Kt.toString,be=at.hasOwnProperty,st=function(){var o=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),ot=at.toString,Ce=RegExp("^"+St.call(be).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=$e?ue.Buffer:void 0,Ye=ue.Symbol,Tt=ue.Uint8Array,Xt=at.propertyIsEnumerable,lt=Xe.splice,Ue=Ye?Ye.toStringTag:void 0,Yt=Object.getOwnPropertySymbols,ne=Fe?Fe.isBuffer:void 0,Je=it(Object.keys,Object),At=Pt(ue,"DataView"),ct=Pt(ue,"Map"),Ot=Pt(ue,"Promise"),ft=Pt(ue,"Set"),Ct=Pt(ue,"WeakMap"),qe=Pt(Object,"create"),Sn=ht(At),Jt=ht(ct),qt=ht(Ot),Tn=ht(ft),ve=ht(Ct),ut=Ye?Ye.prototype:void 0,Mt=ut?ut.valueOf:void 0;function ke(o){var m=-1,y=o==null?0:o.length;for(this.clear();++m<y;){var M=o[m];this.set(M[0],M[1])}}function Zt(){this.__data__=qe?qe(null):{},this.size=0}function Qt(o){var m=this.has(o)&&delete this.__data__[o];return this.size-=m?1:0,m}function Me(o){var m=this.__data__;if(qe){var y=m[o];return y===i?void 0:y}return be.call(m,o)?m[o]:void 0}function en(o){var m=this.__data__;return qe?m[o]!==void 0:be.call(m,o)}function tn(o,m){var y=this.__data__;return this.size+=this.has(o)?0:1,y[o]=qe&&m===void 0?i:m,this}ke.prototype.clear=Zt,ke.prototype.delete=Qt,ke.prototype.get=Me,ke.prototype.has=en,ke.prototype.set=tn;function we(o){var m=-1,y=o==null?0:o.length;for(this.clear();++m<y;){var M=o[m];this.set(M[0],M[1])}}function nn(){this.__data__=[],this.size=0}function An(o){var m=this.__data__,y=an(m,o);if(y<0)return!1;var M=m.length-1;return y==M?m.pop():lt.call(m,y,1),--this.size,!0}function P(o){var m=this.__data__,y=an(m,o);return y<0?void 0:m[y][1]}function g(o){return an(this.__data__,o)>-1}function E(o,m){var y=this.__data__,M=an(y,o);return M<0?(++this.size,y.push([o,m])):y[M][1]=m,this}we.prototype.clear=nn,we.prototype.delete=An,we.prototype.get=P,we.prototype.has=g,we.prototype.set=E;function C(o){var m=-1,y=o==null?0:o.length;for(this.clear();++m<y;){var M=o[m];this.set(M[0],M[1])}}function x(){this.size=0,this.__data__={hash:new ke,map:new(ct||we),string:new ke}}function ae(o){var m=sn(this,o).delete(o);return this.size-=m?1:0,m}function ie(o){return sn(this,o).get(o)}function he(o){return sn(this,o).has(o)}function pe(o,m){var y=sn(this,o),M=y.size;return y.set(o,m),this.size+=y.size==M?0:1,this}C.prototype.clear=x,C.prototype.delete=ae,C.prototype.get=ie,C.prototype.has=he,C.prototype.set=pe;function xe(o){var m=-1,y=o==null?0:o.length;for(this.__data__=new C;++m<y;)this.add(o[m])}function le(o){return this.__data__.set(o,i),this}function rn(o){return this.__data__.has(o)}xe.prototype.add=xe.prototype.push=le,xe.prototype.has=rn;function Pe(o){var m=this.__data__=new we(o);this.size=m.size}function Yr(){this.__data__=new we,this.size=0}function Jr(o){var m=this.__data__,y=m.delete(o);return this.size=m.size,y}function qr(o){return this.__data__.get(o)}function Zr(o){return this.__data__.has(o)}function Qr(o,m){var y=this.__data__;if(y instanceof we){var M=y.__data__;if(!ct||M.length<n-1)return M.push([o,m]),this.size=++y.size,this;y=this.__data__=new C(M)}return y.set(o,m),this.size=y.size,this}Pe.prototype.clear=Yr,Pe.prototype.delete=Jr,Pe.prototype.get=qr,Pe.prototype.has=Zr,Pe.prototype.set=Qr;function ei(o,m){var y=on(o),M=!y&&gi(o),Q=!y&&!M&&On(o),$=!y&&!M&&!Q&&er(o),te=y||M||Q||$,se=te?Et(o.length,String):[],ce=se.length;for(var ee in o)(m||be.call(o,ee))&&!(te&&(ee=="length"||Q&&(ee=="offset"||ee=="parent")||$&&(ee=="buffer"||ee=="byteLength"||ee=="byteOffset")||fi(ee,ce)))&&se.push(ee);return se}function an(o,m){for(var y=o.length;y--;)if(Jn(o[y][0],m))return y;return-1}function ti(o,m,y){var M=m(o);return on(o)?M:Ve(M,y(o))}function jt(o){return o==null?o===void 0?j:A:Ue&&Ue in Object(o)?li(o):di(o)}function Vn(o){return $t(o)&&jt(o)==s}function Kn(o,m,y,M,Q){return o===m?!0:o==null||m==null||!$t(o)&&!$t(m)?o!==o&&m!==m:ni(o,m,y,M,Kn,Q)}function ni(o,m,y,M,Q,$){var te=on(o),se=on(m),ce=te?u:Ze(o),ee=se?u:Ze(m);ce=ce==s?w:ce,ee=ee==s?w:ee;var ye=ce==w,De=ee==w,de=ce==ee;if(de&&On(o)){if(!On(m))return!1;te=!0,ye=!1}if(de&&!ye)return $||($=new Pe),te||er(o)?Xn(o,m,y,M,Q,$):si(o,m,ce,y,M,Q,$);if(!(y&c)){var Se=ye&&be.call(o,"__wrapped__"),Te=De&&be.call(m,"__wrapped__");if(Se||Te){var Qe=Se?o.value():o,ze=Te?m.value():m;return $||($=new Pe),Q(Qe,ze,y,M,$)}}return de?($||($=new Pe),oi(o,m,y,M,Q,$)):!1}function ri(o){if(!Qn(o)||hi(o))return!1;var m=qn(o)?Ce:_e;return m.test(ht(o))}function ii(o){return $t(o)&&Zn(o.length)&&!!z[jt(o)]}function ai(o){if(!pi(o))return Je(o);var m=[];for(var y in Object(o))be.call(o,y)&&y!="constructor"&&m.push(y);return m}function Xn(o,m,y,M,Q,$){var te=y&c,se=o.length,ce=m.length;if(se!=ce&&!(te&&ce>se))return!1;var ee=$.get(o);if(ee&&$.get(m))return ee==m;var ye=-1,De=!0,de=y&e?new xe:void 0;for($.set(o,m),$.set(m,o);++ye<se;){var Se=o[ye],Te=m[ye];if(M)var Qe=te?M(Te,Se,ye,m,o,$):M(Se,Te,ye,o,m,$);if(Qe!==void 0){if(Qe)continue;De=!1;break}if(de){if(!yt(m,function(ze,pt){if(!Vt(de,pt)&&(Se===ze||Q(Se,ze,y,M,$)))return de.push(pt)})){De=!1;break}}else if(!(Se===Te||Q(Se,Te,y,M,$))){De=!1;break}}return $.delete(o),$.delete(m),De}function si(o,m,y,M,Q,$,te){switch(y){case T:if(o.byteLength!=m.byteLength||o.byteOffset!=m.byteOffset)return!1;o=o.buffer,m=m.buffer;case R:return!(o.byteLength!=m.byteLength||!$(new Tt(o),new Tt(m)));case f:case l:case b:return Jn(+o,+m);case p:return o.name==m.name&&o.message==m.message;case W:case H:return o==m+"";case v:var se=xt;case k:var ce=M&c;if(se||(se=Ke),o.size!=m.size&&!ce)return!1;var ee=te.get(o);if(ee)return ee==m;M|=e,te.set(o,m);var ye=Xn(se(o),se(m),M,Q,$,te);return te.delete(o),ye;case F:if(Mt)return Mt.call(o)==Mt.call(m)}return!1}function oi(o,m,y,M,Q,$){var te=y&c,se=Yn(o),ce=se.length,ee=Yn(m),ye=ee.length;if(ce!=ye&&!te)return!1;for(var De=ce;De--;){var de=se[De];if(!(te?de in m:be.call(m,de)))return!1}var Se=$.get(o);if(Se&&$.get(m))return Se==m;var Te=!0;$.set(o,m),$.set(m,o);for(var Qe=te;++De<ce;){de=se[De];var ze=o[de],pt=m[de];if(M)var tr=te?M(pt,ze,de,m,o,$):M(ze,pt,de,o,m,$);if(!(tr===void 0?ze===pt||Q(ze,pt,y,M,$):tr)){Te=!1;break}Qe||(Qe=de=="constructor")}if(Te&&!Qe){var ln=o.constructor,cn=m.constructor;ln!=cn&&"constructor"in o&&"constructor"in m&&!(typeof ln=="function"&&ln instanceof ln&&typeof cn=="function"&&cn instanceof cn)&&(Te=!1)}return $.delete(o),$.delete(m),Te}function Yn(o){return ti(o,vi,ci)}function sn(o,m){var y=o.__data__;return ui(m)?y[typeof m=="string"?"string":"hash"]:y.map}function Pt(o,m){var y=wn(o,m);return ri(y)?y:void 0}function li(o){var m=be.call(o,Ue),y=o[Ue];try{o[Ue]=void 0;var M=!0}catch{}var Q=ot.call(o);return M&&(m?o[Ue]=y:delete o[Ue]),Q}var ci=Yt?function(o){return o==null?[]:(o=Object(o),kt(Yt(o),function(m){return Xt.call(o,m)}))}:bi,Ze=jt;(At&&Ze(new At(new ArrayBuffer(1)))!=T||ct&&Ze(new ct)!=v||Ot&&Ze(Ot.resolve())!=O||ft&&Ze(new ft)!=k||Ct&&Ze(new Ct)!=U)&&(Ze=function(o){var m=jt(o),y=m==w?o.constructor:void 0,M=y?ht(y):"";if(M)switch(M){case Sn:return T;case Jt:return v;case qt:return O;case Tn:return k;case ve:return U}return m});function fi(o,m){return m=m??r,!!m&&(typeof o=="number"||X.test(o))&&o>-1&&o%1==0&&o<m}function ui(o){var m=typeof o;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?o!=="__proto__":o===null}function hi(o){return!!st&&st in o}function pi(o){var m=o&&o.constructor,y=typeof m=="function"&&m.prototype||at;return o===y}function di(o){return ot.call(o)}function ht(o){if(o!=null){try{return St.call(o)}catch{}try{return o+""}catch{}}return""}function Jn(o,m){return o===m||o!==o&&m!==m}var gi=Vn(function(){return arguments}())?Vn:function(o){return $t(o)&&be.call(o,"callee")&&!Xt.call(o,"callee")},on=Array.isArray;function mi(o){return o!=null&&Zn(o.length)&&!qn(o)}var On=ne||yi;function _i(o,m){return Kn(o,m)}function qn(o){if(!Qn(o))return!1;var m=jt(o);return m==d||m==_||m==h||m==I}function Zn(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=r}function Qn(o){var m=typeof o;return o!=null&&(m=="object"||m=="function")}function $t(o){return o!=null&&typeof o=="object"}var er=bt?Wt(bt):ii;function vi(o){return mi(o)?ei(o):ai(o)}function bi(){return[]}function yi(){return!1}a.exports=_i})(_n,_n.exports);var Mr=_n.exports,Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.getAceInstance=Le.debounce=Le.editorEvents=Le.editorOptions=void 0;var aa=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];Le.editorOptions=aa;var sa=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];Le.editorEvents=sa;var oa=function(){var a;return typeof window>"u"?(re.window={},a=gn,delete re.window):window.ace?(a=window.ace,a.acequire=window.ace.require||window.ace.acequire):a=gn,a};Le.getAceInstance=oa;var la=function(a,t){var n=null;return function(){var i=this,c=arguments;clearTimeout(n),n=setTimeout(function(){a.apply(i,c)},t)}};Le.debounce=la;var ca=re&&re.__extends||function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(i[e]=c[e])},a(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),kn=re&&re.__assign||function(){return kn=Object.assign||function(a){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(a[c]=t[c])}return a},kn.apply(this,arguments)};Object.defineProperty(Un,"__esModule",{value:!0});var fa=gn,D=vn,ar=N,fn=Mr,Dt=Le,sr=(0,Dt.getAceInstance)(),ua=function(a){ca(t,a);function t(n){var i=a.call(this,n)||this;return Dt.editorEvents.forEach(function(c){i[c]=i[c].bind(i)}),i.debounce=Dt.debounce,i}return t.prototype.isInShadow=function(n){for(var i=n&&n.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,i=this.props,c=i.className,e=i.onBeforeLoad,r=i.onValidate,s=i.mode,u=i.focus,h=i.theme,f=i.fontSize,l=i.value,p=i.defaultValue,d=i.showGutter,_=i.wrapEnabled,v=i.showPrintMargin,b=i.scrollMargin,A=b===void 0?[0,0,0,0]:b,w=i.keyboardHandler,O=i.onLoad,I=i.commands,W=i.annotations,k=i.markers,H=i.placeholder;this.editor=sr.edit(this.refEditor),e&&e(sr);for(var F=Object.keys(this.props.editorProps),j=0;j<F.length;j++)this.editor[F[j]]=this.props.editorProps[F[j]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(A[0],A[1],A[2],A[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof s=="string"?"ace/mode/".concat(s):s),h&&h!==""&&this.editor.setTheme("ace/theme/".concat(h)),this.editor.setFontSize(typeof f=="number"?"".concat(f,"px"):f),this.editor.getSession().setValue(p||l||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(d),this.editor.getSession().setUseWrapMode(_),this.editor.setShowPrintMargin(v),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),H&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),r&&this.editor.getSession().on("changeAnnotation",function(){var R=n.editor.getSession().getAnnotations();n.props.onValidate(R)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(W||[]),k&&k.length>0&&this.handleMarkers(k);var U=this.editor.$options;Dt.editorOptions.forEach(function(R){U.hasOwnProperty(R)?n.editor.setOption(R,n.props[R]):n.props[R]&&console.warn("ReactAce: editor option ".concat(R," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(I)&&I.forEach(function(R){typeof R.exec=="string"?n.editor.commands.bindKey(R.bindKey,R.exec):n.editor.commands.addCommand(R)}),w&&this.editor.setKeyboardHandler("ace/keyboard/"+w),c&&(this.refEditor.className+=" "+c),O&&O(this.editor),this.editor.resize(),u&&this.editor.focus()},t.prototype.componentDidUpdate=function(n){for(var i=n,c=this.props,e=0;e<Dt.editorOptions.length;e++){var r=Dt.editorOptions[e];c[r]!==i[r]&&this.editor.setOption(r,c[r])}if(c.className!==i.className){var s=this.refEditor.className,u=s.trim().split(" "),h=i.className.trim().split(" ");h.forEach(function(p){var d=u.indexOf(p);u.splice(d,1)}),this.refEditor.className=" "+c.className+" "+u.join(" ")}var f=this.editor&&c.value!=null&&this.editor.getValue()!==c.value;if(f){this.silent=!0;var l=this.editor.session.selection.toJSON();this.editor.setValue(c.value,c.cursorStart),this.editor.session.selection.fromJSON(l),this.silent=!1}c.placeholder!==i.placeholder&&this.updatePlaceholder(),c.mode!==i.mode&&this.editor.getSession().setMode(typeof c.mode=="string"?"ace/mode/".concat(c.mode):c.mode),c.theme!==i.theme&&this.editor.setTheme("ace/theme/"+c.theme),c.keyboardHandler!==i.keyboardHandler&&(c.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+c.keyboardHandler):this.editor.setKeyboardHandler(null)),c.fontSize!==i.fontSize&&this.editor.setFontSize(typeof c.fontSize=="number"?"".concat(c.fontSize,"px"):c.fontSize),c.wrapEnabled!==i.wrapEnabled&&this.editor.getSession().setUseWrapMode(c.wrapEnabled),c.showPrintMargin!==i.showPrintMargin&&this.editor.setShowPrintMargin(c.showPrintMargin),c.showGutter!==i.showGutter&&this.editor.renderer.setShowGutter(c.showGutter),fn(c.setOptions,i.setOptions)||this.handleOptions(c),(f||!fn(c.annotations,i.annotations))&&this.editor.getSession().setAnnotations(c.annotations||[]),!fn(c.markers,i.markers)&&Array.isArray(c.markers)&&this.handleMarkers(c.markers),fn(c.scrollMargin,i.scrollMargin)||this.handleScrollMargins(c.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var i=this.editor.getValue();this.props.onChange(i,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var i=this.editor.getSelection();this.props.onSelectionChange(i,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var i=this.editor.getSelection();this.props.onCursorChange(i,n)}},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},t.prototype.onCopy=function(n){var i=n.text;this.props.onCopy&&this.props.onCopy(i)},t.prototype.onPaste=function(n){var i=n.text;this.props.onPaste&&this.props.onPaste(i)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n){for(var i=Object.keys(n.setOptions),c=0;c<i.length;c++)this.editor.setOption(i[c],n.setOptions[i[c]])},t.prototype.handleMarkers=function(n){var i=this,c=this.editor.getSession().getMarkers(!0);for(var e in c)c.hasOwnProperty(e)&&this.editor.getSession().removeMarker(c[e].id);c=this.editor.getSession().getMarkers(!1);for(var e in c)c.hasOwnProperty(e)&&c[e].clazz!=="ace_active-line"&&c[e].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(c[e].id);n.forEach(function(r){var s=r.startRow,u=r.startCol,h=r.endRow,f=r.endCol,l=r.className,p=r.type,d=r.inFront,_=d===void 0?!1:d,v=new fa.Range(s,u,h,f);i.editor.getSession().addMarker(v,l,p,_)})},t.prototype.updatePlaceholder=function(){var n=this.editor,i=this.props.placeholder,c=!n.session.getValue().length,e=n.renderer.placeholderNode;!c&&e?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):c&&!e?(e=n.renderer.placeholderNode=document.createElement("div"),e.textContent=i||"",e.className="ace_comment ace_placeholder",e.style.padding="0 9px",e.style.position="absolute",e.style.zIndex="3",n.renderer.scroller.appendChild(e)):c&&e&&(e.textContent=i)},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,i=n.name,c=n.width,e=n.height,r=n.style,s=kn({width:c,height:e},r);return ar.createElement("div",{ref:this.updateRef,id:i,style:s})},t.propTypes={mode:D.oneOfType([D.string,D.object]),focus:D.bool,theme:D.string,name:D.string,className:D.string,height:D.string,width:D.string,fontSize:D.oneOfType([D.number,D.string]),showGutter:D.bool,onChange:D.func,onCopy:D.func,onPaste:D.func,onFocus:D.func,onInput:D.func,onBlur:D.func,onScroll:D.func,value:D.string,defaultValue:D.string,onLoad:D.func,onSelectionChange:D.func,onCursorChange:D.func,onBeforeLoad:D.func,onValidate:D.func,minLines:D.number,maxLines:D.number,readOnly:D.bool,highlightActiveLine:D.bool,tabSize:D.number,showPrintMargin:D.bool,cursorStart:D.number,debounceChangePeriod:D.number,editorProps:D.object,setOptions:D.object,style:D.object,scrollMargin:D.array,annotations:D.array,markers:D.array,keyboardHandler:D.string,wrapEnabled:D.bool,enableSnippets:D.bool,enableBasicAutocompletion:D.oneOfType([D.bool,D.array]),enableLiveAutocompletion:D.oneOfType([D.bool,D.array]),navigateToFileEnd:D.bool,commands:D.array,placeholder:D.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(ar.Component);Un.default=ua;var zn={},bn={},Pr={exports:{}};(function(a,t){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,i,c){var e=n("./lib/oop");n("./lib/lang");var r=n("./lib/event_emitter").EventEmitter,s=n("./editor").Editor,u=n("./virtual_renderer").VirtualRenderer,h=n("./edit_session").EditSession,f;f=function(l,p,d){this.BELOW=1,this.BESIDE=0,this.$container=l,this.$theme=p,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(d||1),this.$cEditor=this.$editors[0],this.on("focus",(function(_){this.$cEditor=_}).bind(this))},(function(){e.implement(this,r),this.$createEditor=function(){var l=document.createElement("div");l.className=this.$editorCSS,l.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(l);var p=new s(new u(l,this.$theme));return p.on("focus",(function(){this._emit("focus",p)}).bind(this)),this.$editors.push(p),p.setFontSize(this.$fontSize),p},this.setSplits=function(l){var p;if(l<1)throw"The number of splits have to be > 0!";if(l!=this.$splits){if(l>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<l;)p=this.$editors[this.$splits],this.$container.appendChild(p.container),p.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<l;)this.$createEditor(),this.$splits++}else for(;this.$splits>l;)p=this.$editors[this.$splits-1],this.$container.removeChild(p.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(l){return this.$editors[l]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(l){this.$editors.forEach(function(p){p.setTheme(l)})},this.setKeyboardHandler=function(l){this.$editors.forEach(function(p){p.setKeyboardHandler(l)})},this.forEach=function(l,p){this.$editors.forEach(l,p)},this.$fontSize="",this.setFontSize=function(l){this.$fontSize=l,this.forEach(function(p){p.setFontSize(l)})},this.$cloneSession=function(l){var p=new h(l.getDocument(),l.getMode()),d=l.getUndoManager();return p.setUndoManager(d),p.setTabSize(l.getTabSize()),p.setUseSoftTabs(l.getUseSoftTabs()),p.setOverwrite(l.getOverwrite()),p.setBreakpoints(l.getBreakpoints()),p.setUseWrapMode(l.getUseWrapMode()),p.setUseWorker(l.getUseWorker()),p.setWrapLimitRange(l.$wrapLimitRange.min,l.$wrapLimitRange.max),p.$foldData=l.$cloneFoldData(),p},this.setSession=function(l,p){var d;p==null?d=this.$cEditor:d=this.$editors[p];var _=this.$editors.some(function(v){return v.session===l});return _&&(l=this.$cloneSession(l)),d.setSession(l),l},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(l){this.$orientation!=l&&(this.$orientation=l,this.resize())},this.resize=function(){var l=this.$container.clientWidth,p=this.$container.clientHeight,d;if(this.$orientation==this.BESIDE)for(var _=l/this.$splits,v=0;v<this.$splits;v++)d=this.$editors[v],d.container.style.width=_+"px",d.container.style.top="0px",d.container.style.left=v*_+"px",d.container.style.height=p+"px",d.resize();else for(var b=p/this.$splits,v=0;v<this.$splits;v++)d=this.$editors[v],d.container.style.width=l+"px",d.container.style.top=v*b+"px",d.container.style.left="0px",d.container.style.height=b+"px",d.resize()}}).call(f.prototype),i.Split=f}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(n,i,c){c.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){a&&(a.exports=n)})}()})(Pr);var ha=Pr.exports,pa="Expected a function",Dr="__lodash_hash_undefined__",Nr=1/0,da="[object Function]",ga="[object GeneratorFunction]",ma="[object Symbol]",_a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,va=/^\w*$/,ba=/^\./,ya=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ea=/[\\^$.*+?()[\]{}|]/g,wa=/\\(\\)?/g,Sa=/^\[object .+?Constructor\]$/,Ta=typeof re=="object"&&re&&re.Object===Object&&re,Aa=typeof self=="object"&&self&&self.Object===Object&&self,Hn=Ta||Aa||Function("return this")();function Oa(a,t){return a==null?void 0:a[t]}function Ca(a){var t=!1;if(a!=null&&typeof a.toString!="function")try{t=!!(a+"")}catch{}return t}var Ma=Array.prototype,Pa=Function.prototype,Lr=Object.prototype,Cn=Hn["__core-js_shared__"],or=function(){var a=/[^.]+$/.exec(Cn&&Cn.keys&&Cn.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Rr=Pa.toString,Bn=Lr.hasOwnProperty,Ir=Lr.toString,Da=RegExp("^"+Rr.call(Bn).replace(Ea,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lr=Hn.Symbol,Na=Ma.splice,La=kr(Hn,"Map"),Gt=kr(Object,"create"),cr=lr?lr.prototype:void 0,fr=cr?cr.toString:void 0;function _t(a){var t=-1,n=a?a.length:0;for(this.clear();++t<n;){var i=a[t];this.set(i[0],i[1])}}function Ra(){this.__data__=Gt?Gt(null):{}}function Ia(a){return this.has(a)&&delete this.__data__[a]}function ka(a){var t=this.__data__;if(Gt){var n=t[a];return n===Dr?void 0:n}return Bn.call(t,a)?t[a]:void 0}function xa(a){var t=this.__data__;return Gt?t[a]!==void 0:Bn.call(t,a)}function ja(a,t){var n=this.__data__;return n[a]=Gt&&t===void 0?Dr:t,this}_t.prototype.clear=Ra;_t.prototype.delete=Ia;_t.prototype.get=ka;_t.prototype.has=xa;_t.prototype.set=ja;function Rt(a){var t=-1,n=a?a.length:0;for(this.clear();++t<n;){var i=a[t];this.set(i[0],i[1])}}function $a(){this.__data__=[]}function Fa(a){var t=this.__data__,n=yn(t,a);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Na.call(t,n,1),!0}function Ua(a){var t=this.__data__,n=yn(t,a);return n<0?void 0:t[n][1]}function za(a){return yn(this.__data__,a)>-1}function Ha(a,t){var n=this.__data__,i=yn(n,a);return i<0?n.push([a,t]):n[i][1]=t,this}Rt.prototype.clear=$a;Rt.prototype.delete=Fa;Rt.prototype.get=Ua;Rt.prototype.has=za;Rt.prototype.set=Ha;function vt(a){var t=-1,n=a?a.length:0;for(this.clear();++t<n;){var i=a[t];this.set(i[0],i[1])}}function Ba(){this.__data__={hash:new _t,map:new(La||Rt),string:new _t}}function Ga(a){return En(this,a).delete(a)}function Wa(a){return En(this,a).get(a)}function Va(a){return En(this,a).has(a)}function Ka(a,t){return En(this,a).set(a,t),this}vt.prototype.clear=Ba;vt.prototype.delete=Ga;vt.prototype.get=Wa;vt.prototype.has=Va;vt.prototype.set=Ka;function yn(a,t){for(var n=a.length;n--;)if(is(a[n][0],t))return n;return-1}function Xa(a,t){t=Za(t,a)?[t]:qa(t);for(var n=0,i=t.length;a!=null&&n<i;)a=a[ns(t[n++])];return n&&n==i?a:void 0}function Ya(a){if(!jr(a)||es(a))return!1;var t=as(a)||Ca(a)?Da:Sa;return t.test(rs(a))}function Ja(a){if(typeof a=="string")return a;if(Wn(a))return fr?fr.call(a):"";var t=a+"";return t=="0"&&1/a==-Nr?"-0":t}function qa(a){return xr(a)?a:ts(a)}function En(a,t){var n=a.__data__;return Qa(t)?n[typeof t=="string"?"string":"hash"]:n.map}function kr(a,t){var n=Oa(a,t);return Ya(n)?n:void 0}function Za(a,t){if(xr(a))return!1;var n=typeof a;return n=="number"||n=="symbol"||n=="boolean"||a==null||Wn(a)?!0:va.test(a)||!_a.test(a)||t!=null&&a in Object(t)}function Qa(a){var t=typeof a;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?a!=="__proto__":a===null}function es(a){return!!or&&or in a}var ts=Gn(function(a){a=os(a);var t=[];return ba.test(a)&&t.push(""),a.replace(ya,function(n,i,c,e){t.push(c?e.replace(wa,"$1"):i||n)}),t});function ns(a){if(typeof a=="string"||Wn(a))return a;var t=a+"";return t=="0"&&1/a==-Nr?"-0":t}function rs(a){if(a!=null){try{return Rr.call(a)}catch{}try{return a+""}catch{}}return""}function Gn(a,t){if(typeof a!="function"||t&&typeof t!="function")throw new TypeError(pa);var n=function(){var i=arguments,c=t?t.apply(this,i):i[0],e=n.cache;if(e.has(c))return e.get(c);var r=a.apply(this,i);return n.cache=e.set(c,r),r};return n.cache=new(Gn.Cache||vt),n}Gn.Cache=vt;function is(a,t){return a===t||a!==a&&t!==t}var xr=Array.isArray;function as(a){var t=jr(a)?Ir.call(a):"";return t==da||t==ga}function jr(a){var t=typeof a;return!!a&&(t=="object"||t=="function")}function ss(a){return!!a&&typeof a=="object"}function Wn(a){return typeof a=="symbol"||ss(a)&&Ir.call(a)==ma}function os(a){return a==null?"":Ja(a)}function ls(a,t,n){var i=a==null?void 0:Xa(a,t);return i===void 0?n:i}var cs=ls,fs=re&&re.__extends||function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(i[e]=c[e])},a(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),xn=re&&re.__assign||function(){return xn=Object.assign||function(a){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(a[c]=t[c])}return a},xn.apply(this,arguments)};Object.defineProperty(bn,"__esModule",{value:!0});var gt=Le,Mn=(0,gt.getAceInstance)(),us=gn,hs=ha,L=vn,ur=N,Pn=Mr,He=cs,ps=function(a){fs(t,a);function t(n){var i=a.call(this,n)||this;return gt.editorEvents.forEach(function(c){i[c]=i[c].bind(i)}),i.debounce=gt.debounce,i}return t.prototype.isInShadow=function(n){for(var i=n&&n.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,i=this.props,c=i.className,e=i.onBeforeLoad,r=i.mode,s=i.focus,u=i.theme,h=i.fontSize,f=i.value,l=i.defaultValue,p=i.cursorStart,d=i.showGutter,_=i.wrapEnabled,v=i.showPrintMargin,b=i.scrollMargin,A=b===void 0?[0,0,0,0]:b,w=i.keyboardHandler,O=i.onLoad,I=i.commands,W=i.annotations,k=i.markers,H=i.splits;this.editor=Mn.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(u)),e&&e(Mn);var F=Object.keys(this.props.editorProps),j=new hs.Split(this.editor.container,"ace/theme/".concat(u),H);this.editor.env.split=j,this.splitEditor=j.getEditor(0),this.split=j,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var U=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),j.forEach(function(T,V){for(var J=0;J<F.length;J++)T[F[J]]=n.props.editorProps[F[J]];var Ge=He(l,V),B=He(f,V,"");T.session.setUndoManager(new Mn.UndoManager),T.setTheme("ace/theme/".concat(u)),T.renderer.setScrollMargin(A[0],A[1],A[2],A[3]),T.getSession().setMode("ace/mode/".concat(r)),T.setFontSize(h),T.renderer.setShowGutter(d),T.getSession().setUseWrapMode(_),T.setShowPrintMargin(v),T.on("focus",n.onFocus),T.on("blur",n.onBlur),T.on("input",n.onInput),T.on("copy",n.onCopy),T.on("paste",n.onPaste),T.on("change",n.onChange),T.getSession().selection.on("changeSelection",n.onSelectionChange),T.getSession().selection.on("changeCursor",n.onCursorChange),T.session.on("changeScrollTop",n.onScroll),T.setValue(Ge===void 0?B:Ge,p);var q=He(W,V,[]),oe=He(k,V,[]);T.getSession().setAnnotations(q),oe&&oe.length>0&&n.handleMarkers(oe,T);for(var J=0;J<gt.editorOptions.length;J++){var fe=gt.editorOptions[J];U.hasOwnProperty(fe)?T.setOption(fe,n.props[fe]):n.props[fe]&&console.warn("ReaceAce: editor option ".concat(fe," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,T),Array.isArray(I)&&I.forEach(function(K){typeof K.exec=="string"?T.commands.bindKey(K.bindKey,K.exec):T.commands.addCommand(K)}),w&&T.setKeyboardHandler("ace/keyboard/"+w)}),c&&(this.refEditor.className+=" "+c),s&&this.splitEditor.focus();var R=this.editor.env.split;R.setOrientation(this.props.orientation==="below"?R.BELOW:R.BESIDE),R.resize(!0),O&&O(R)},t.prototype.componentDidUpdate=function(n){var i=this,c=n,e=this.props,r=this.editor.env.split;if(e.splits!==c.splits&&r.setSplits(e.splits),e.orientation!==c.orientation&&r.setOrientation(e.orientation==="below"?r.BELOW:r.BESIDE),r.forEach(function(f,l){e.mode!==c.mode&&f.getSession().setMode("ace/mode/"+e.mode),e.keyboardHandler!==c.keyboardHandler&&(e.keyboardHandler?f.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):f.setKeyboardHandler(null)),e.fontSize!==c.fontSize&&f.setFontSize(e.fontSize),e.wrapEnabled!==c.wrapEnabled&&f.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==c.showPrintMargin&&f.setShowPrintMargin(e.showPrintMargin),e.showGutter!==c.showGutter&&f.renderer.setShowGutter(e.showGutter);for(var p=0;p<gt.editorOptions.length;p++){var d=gt.editorOptions[p];e[d]!==c[d]&&f.setOption(d,e[d])}Pn(e.setOptions,c.setOptions)||i.handleOptions(e,f);var _=He(e.value,l,"");if(f.getValue()!==_){i.silent=!0;var v=f.session.selection.toJSON();f.setValue(_,e.cursorStart),f.session.selection.fromJSON(v),i.silent=!1}var b=He(e.annotations,l,[]),A=He(c.annotations,l,[]);Pn(b,A)||f.getSession().setAnnotations(b);var w=He(e.markers,l,[]),O=He(c.markers,l,[]);!Pn(w,O)&&Array.isArray(w)&&i.handleMarkers(w,f)}),e.className!==c.className){var s=this.refEditor.className,u=s.trim().split(" "),h=c.className.trim().split(" ");h.forEach(function(f){var l=u.indexOf(f);u.splice(l,1)}),this.refEditor.className=" "+e.className+" "+u.join(" ")}e.theme!==c.theme&&r.setTheme("ace/theme/"+e.theme),e.focus&&!c.focus&&this.splitEditor.focus(),(e.height!==this.props.height||e.width!==this.props.width)&&this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var i=[];this.editor.env.split.forEach(function(c){i.push(c.getValue())}),this.props.onChange(i,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var i=[];this.editor.env.split.forEach(function(c){i.push(c.getSelection())}),this.props.onSelectionChange(i,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var i=[];this.editor.env.split.forEach(function(c){i.push(c.getSelection())}),this.props.onCursorChange(i,n)}},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},t.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},t.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n,i){for(var c=Object.keys(n.setOptions),e=0;e<c.length;e++)i.setOption(c[e],n.setOptions[c[e]])},t.prototype.handleMarkers=function(n,i){var c=i.getSession().getMarkers(!0);for(var e in c)c.hasOwnProperty(e)&&i.getSession().removeMarker(c[e].id);c=i.getSession().getMarkers(!1);for(var e in c)c.hasOwnProperty(e)&&i.getSession().removeMarker(c[e].id);n.forEach(function(r){var s=r.startRow,u=r.startCol,h=r.endRow,f=r.endCol,l=r.className,p=r.type,d=r.inFront,_=d===void 0?!1:d,v=new us.Range(s,u,h,f);i.getSession().addMarker(v,l,p,_)})},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,i=n.name,c=n.width,e=n.height,r=n.style,s=xn({width:c,height:e},r);return ur.createElement("div",{ref:this.updateRef,id:i,style:s})},t.propTypes={className:L.string,debounceChangePeriod:L.number,defaultValue:L.arrayOf(L.string),focus:L.bool,fontSize:L.oneOfType([L.number,L.string]),height:L.string,mode:L.string,name:L.string,onBlur:L.func,onChange:L.func,onCopy:L.func,onFocus:L.func,onInput:L.func,onLoad:L.func,onPaste:L.func,onScroll:L.func,orientation:L.string,showGutter:L.bool,splits:L.number,theme:L.string,value:L.arrayOf(L.string),width:L.string,onSelectionChange:L.func,onCursorChange:L.func,onBeforeLoad:L.func,minLines:L.number,maxLines:L.number,readOnly:L.bool,highlightActiveLine:L.bool,tabSize:L.number,showPrintMargin:L.bool,cursorStart:L.number,editorProps:L.object,setOptions:L.object,style:L.object,scrollMargin:L.array,annotations:L.array,markers:L.array,keyboardHandler:L.string,wrapEnabled:L.bool,enableBasicAutocompletion:L.oneOfType([L.bool,L.array]),enableLiveAutocompletion:L.oneOfType([L.bool,L.array]),commands:L.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(ur.Component);bn.default=ps;var $r={exports:{}};(function(a){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,i=1,c=0;t.Diff=function(e,r){return[e,r]},t.prototype.diff_main=function(e,r,s,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var h=u;if(e==null||r==null)throw new Error("Null input. (diff_main)");if(e==r)return e?[new t.Diff(c,e)]:[];typeof s>"u"&&(s=!0);var f=s,l=this.diff_commonPrefix(e,r),p=e.substring(0,l);e=e.substring(l),r=r.substring(l),l=this.diff_commonSuffix(e,r);var d=e.substring(e.length-l);e=e.substring(0,e.length-l),r=r.substring(0,r.length-l);var _=this.diff_compute_(e,r,f,h);return p&&_.unshift(new t.Diff(c,p)),d&&_.push(new t.Diff(c,d)),this.diff_cleanupMerge(_),_},t.prototype.diff_compute_=function(e,r,s,u){var h;if(!e)return[new t.Diff(i,r)];if(!r)return[new t.Diff(n,e)];var f=e.length>r.length?e:r,l=e.length>r.length?r:e,p=f.indexOf(l);if(p!=-1)return h=[new t.Diff(i,f.substring(0,p)),new t.Diff(c,l),new t.Diff(i,f.substring(p+l.length))],e.length>r.length&&(h[0][0]=h[2][0]=n),h;if(l.length==1)return[new t.Diff(n,e),new t.Diff(i,r)];var d=this.diff_halfMatch_(e,r);if(d){var _=d[0],v=d[1],b=d[2],A=d[3],w=d[4],O=this.diff_main(_,b,s,u),I=this.diff_main(v,A,s,u);return O.concat([new t.Diff(c,w)],I)}return s&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,u):this.diff_bisect_(e,r,u)},t.prototype.diff_lineMode_=function(e,r,s){var u=this.diff_linesToChars_(e,r);e=u.chars1,r=u.chars2;var h=u.lineArray,f=this.diff_main(e,r,!1,s);this.diff_charsToLines_(f,h),this.diff_cleanupSemantic(f),f.push(new t.Diff(c,""));for(var l=0,p=0,d=0,_="",v="";l<f.length;){switch(f[l][0]){case i:d++,v+=f[l][1];break;case n:p++,_+=f[l][1];break;case c:if(p>=1&&d>=1){f.splice(l-p-d,p+d),l=l-p-d;for(var b=this.diff_main(_,v,!1,s),A=b.length-1;A>=0;A--)f.splice(l,0,b[A]);l=l+b.length}d=0,p=0,_="",v="";break}l++}return f.pop(),f},t.prototype.diff_bisect_=function(e,r,s){for(var u=e.length,h=r.length,f=Math.ceil((u+h)/2),l=f,p=2*f,d=new Array(p),_=new Array(p),v=0;v<p;v++)d[v]=-1,_[v]=-1;d[l+1]=0,_[l+1]=0;for(var b=u-h,A=b%2!=0,w=0,O=0,I=0,W=0,k=0;k<f&&!(new Date().getTime()>s);k++){for(var H=-k+w;H<=k-O;H+=2){var F=l+H,j;H==-k||H!=k&&d[F-1]<d[F+1]?j=d[F+1]:j=d[F-1]+1;for(var U=j-H;j<u&&U<h&&e.charAt(j)==r.charAt(U);)j++,U++;if(d[F]=j,j>u)O+=2;else if(U>h)w+=2;else if(A){var R=l+b-H;if(R>=0&&R<p&&_[R]!=-1){var T=u-_[R];if(j>=T)return this.diff_bisectSplit_(e,r,j,U,s)}}}for(var V=-k+I;V<=k-W;V+=2){var R=l+V,T;V==-k||V!=k&&_[R-1]<_[R+1]?T=_[R+1]:T=_[R-1]+1;for(var J=T-V;T<u&&J<h&&e.charAt(u-T-1)==r.charAt(h-J-1);)T++,J++;if(_[R]=T,T>u)W+=2;else if(J>h)I+=2;else if(!A){var F=l+b-V;if(F>=0&&F<p&&d[F]!=-1){var j=d[F],U=l+j-F;if(T=u-T,j>=T)return this.diff_bisectSplit_(e,r,j,U,s)}}}}return[new t.Diff(n,e),new t.Diff(i,r)]},t.prototype.diff_bisectSplit_=function(e,r,s,u,h){var f=e.substring(0,s),l=r.substring(0,u),p=e.substring(s),d=r.substring(u),_=this.diff_main(f,l,!1,h),v=this.diff_main(p,d,!1,h);return _.concat(v)},t.prototype.diff_linesToChars_=function(e,r){var s=[],u={};s[0]="";function h(d){for(var _="",v=0,b=-1,A=s.length;b<d.length-1;){b=d.indexOf(`
`,v),b==-1&&(b=d.length-1);var w=d.substring(v,b+1);(u.hasOwnProperty?u.hasOwnProperty(w):u[w]!==void 0)?_+=String.fromCharCode(u[w]):(A==f&&(w=d.substring(v),b=d.length),_+=String.fromCharCode(A),u[w]=A,s[A++]=w),v=b+1}return _}var f=4e4,l=h(e);f=65535;var p=h(r);return{chars1:l,chars2:p,lineArray:s}},t.prototype.diff_charsToLines_=function(e,r){for(var s=0;s<e.length;s++){for(var u=e[s][1],h=[],f=0;f<u.length;f++)h[f]=r[u.charCodeAt(f)];e[s][1]=h.join("")}},t.prototype.diff_commonPrefix=function(e,r){if(!e||!r||e.charAt(0)!=r.charAt(0))return 0;for(var s=0,u=Math.min(e.length,r.length),h=u,f=0;s<h;)e.substring(f,h)==r.substring(f,h)?(s=h,f=s):u=h,h=Math.floor((u-s)/2+s);return h},t.prototype.diff_commonSuffix=function(e,r){if(!e||!r||e.charAt(e.length-1)!=r.charAt(r.length-1))return 0;for(var s=0,u=Math.min(e.length,r.length),h=u,f=0;s<h;)e.substring(e.length-h,e.length-f)==r.substring(r.length-h,r.length-f)?(s=h,f=s):u=h,h=Math.floor((u-s)/2+s);return h},t.prototype.diff_commonOverlap_=function(e,r){var s=e.length,u=r.length;if(s==0||u==0)return 0;s>u?e=e.substring(s-u):s<u&&(r=r.substring(0,s));var h=Math.min(s,u);if(e==r)return h;for(var f=0,l=1;;){var p=e.substring(h-l),d=r.indexOf(p);if(d==-1)return f;l+=d,(d==0||e.substring(h-l)==r.substring(0,l))&&(f=l,l++)}},t.prototype.diff_halfMatch_=function(e,r){if(this.Diff_Timeout<=0)return null;var s=e.length>r.length?e:r,u=e.length>r.length?r:e;if(s.length<4||u.length*2<s.length)return null;var h=this;function f(O,I,W){for(var k=O.substring(W,W+Math.floor(O.length/4)),H=-1,F="",j,U,R,T;(H=I.indexOf(k,H+1))!=-1;){var V=h.diff_commonPrefix(O.substring(W),I.substring(H)),J=h.diff_commonSuffix(O.substring(0,W),I.substring(0,H));F.length<J+V&&(F=I.substring(H-J,H)+I.substring(H,H+V),j=O.substring(0,W-J),U=O.substring(W+V),R=I.substring(0,H-J),T=I.substring(H+V))}return F.length*2>=O.length?[j,U,R,T,F]:null}var l=f(s,u,Math.ceil(s.length/4)),p=f(s,u,Math.ceil(s.length/2)),d;if(!l&&!p)return null;p?l?d=l[4].length>p[4].length?l:p:d=p:d=l;var _,v,b,A;e.length>r.length?(_=d[0],v=d[1],b=d[2],A=d[3]):(b=d[0],A=d[1],_=d[2],v=d[3]);var w=d[4];return[_,v,b,A,w]},t.prototype.diff_cleanupSemantic=function(e){for(var r=!1,s=[],u=0,h=null,f=0,l=0,p=0,d=0,_=0;f<e.length;)e[f][0]==c?(s[u++]=f,l=d,p=_,d=0,_=0,h=e[f][1]):(e[f][0]==i?d+=e[f][1].length:_+=e[f][1].length,h&&h.length<=Math.max(l,p)&&h.length<=Math.max(d,_)&&(e.splice(s[u-1],0,new t.Diff(n,h)),e[s[u-1]+1][0]=i,u--,u--,f=u>0?s[u-1]:-1,l=0,p=0,d=0,_=0,h=null,r=!0)),f++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),f=1;f<e.length;){if(e[f-1][0]==n&&e[f][0]==i){var v=e[f-1][1],b=e[f][1],A=this.diff_commonOverlap_(v,b),w=this.diff_commonOverlap_(b,v);A>=w?(A>=v.length/2||A>=b.length/2)&&(e.splice(f,0,new t.Diff(c,b.substring(0,A))),e[f-1][1]=v.substring(0,v.length-A),e[f+1][1]=b.substring(A),f++):(w>=v.length/2||w>=b.length/2)&&(e.splice(f,0,new t.Diff(c,v.substring(0,w))),e[f-1][0]=i,e[f-1][1]=b.substring(0,b.length-w),e[f+1][0]=n,e[f+1][1]=v.substring(w),f++),f++}f++}},t.prototype.diff_cleanupSemanticLossless=function(e){function r(w,O){if(!w||!O)return 6;var I=w.charAt(w.length-1),W=O.charAt(0),k=I.match(t.nonAlphaNumericRegex_),H=W.match(t.nonAlphaNumericRegex_),F=k&&I.match(t.whitespaceRegex_),j=H&&W.match(t.whitespaceRegex_),U=F&&I.match(t.linebreakRegex_),R=j&&W.match(t.linebreakRegex_),T=U&&w.match(t.blanklineEndRegex_),V=R&&O.match(t.blanklineStartRegex_);return T||V?5:U||R?4:k&&!F&&j?3:F||j?2:k||H?1:0}for(var s=1;s<e.length-1;){if(e[s-1][0]==c&&e[s+1][0]==c){var u=e[s-1][1],h=e[s][1],f=e[s+1][1],l=this.diff_commonSuffix(u,h);if(l){var p=h.substring(h.length-l);u=u.substring(0,u.length-l),h=p+h.substring(0,h.length-l),f=p+f}for(var d=u,_=h,v=f,b=r(u,h)+r(h,f);h.charAt(0)===f.charAt(0);){u+=h.charAt(0),h=h.substring(1)+f.charAt(0),f=f.substring(1);var A=r(u,h)+r(h,f);A>=b&&(b=A,d=u,_=h,v=f)}e[s-1][1]!=d&&(d?e[s-1][1]=d:(e.splice(s-1,1),s--),e[s][1]=_,v?e[s+1][1]=v:(e.splice(s+1,1),s--))}s++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,s=[],u=0,h=null,f=0,l=!1,p=!1,d=!1,_=!1;f<e.length;)e[f][0]==c?(e[f][1].length<this.Diff_EditCost&&(d||_)?(s[u++]=f,l=d,p=_,h=e[f][1]):(u=0,h=null),d=_=!1):(e[f][0]==n?_=!0:d=!0,h&&(l&&p&&d&&_||h.length<this.Diff_EditCost/2&&l+p+d+_==3)&&(e.splice(s[u-1],0,new t.Diff(n,h)),e[s[u-1]+1][0]=i,u--,h=null,l&&p?(d=_=!0,u=0):(u--,f=u>0?s[u-1]:-1,d=_=!1),r=!0)),f++;r&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(c,""));for(var r=0,s=0,u=0,h="",f="",l;r<e.length;)switch(e[r][0]){case i:u++,f+=e[r][1],r++;break;case n:s++,h+=e[r][1],r++;break;case c:s+u>1?(s!==0&&u!==0&&(l=this.diff_commonPrefix(f,h),l!==0&&(r-s-u>0&&e[r-s-u-1][0]==c?e[r-s-u-1][1]+=f.substring(0,l):(e.splice(0,0,new t.Diff(c,f.substring(0,l))),r++),f=f.substring(l),h=h.substring(l)),l=this.diff_commonSuffix(f,h),l!==0&&(e[r][1]=f.substring(f.length-l)+e[r][1],f=f.substring(0,f.length-l),h=h.substring(0,h.length-l))),r-=s+u,e.splice(r,s+u),h.length&&(e.splice(r,0,new t.Diff(n,h)),r++),f.length&&(e.splice(r,0,new t.Diff(i,f)),r++),r++):r!==0&&e[r-1][0]==c?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,u=0,s=0,h="",f="";break}e[e.length-1][1]===""&&e.pop();var p=!1;for(r=1;r<e.length-1;)e[r-1][0]==c&&e[r+1][0]==c&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),p=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),p=!0)),r++;p&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,r){var s=0,u=0,h=0,f=0,l;for(l=0;l<e.length&&(e[l][0]!==i&&(s+=e[l][1].length),e[l][0]!==n&&(u+=e[l][1].length),!(s>r));l++)h=s,f=u;return e.length!=l&&e[l][0]===n?f:f+(r-h)},t.prototype.diff_prettyHtml=function(e){for(var r=[],s=/&/g,u=/</g,h=/>/g,f=/\n/g,l=0;l<e.length;l++){var p=e[l][0],d=e[l][1],_=d.replace(s,"&amp;").replace(u,"&lt;").replace(h,"&gt;").replace(f,"&para;<br>");switch(p){case i:r[l]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case n:r[l]='<del style="background:#ffe6e6;">'+_+"</del>";break;case c:r[l]="<span>"+_+"</span>";break}}return r.join("")},t.prototype.diff_text1=function(e){for(var r=[],s=0;s<e.length;s++)e[s][0]!==i&&(r[s]=e[s][1]);return r.join("")},t.prototype.diff_text2=function(e){for(var r=[],s=0;s<e.length;s++)e[s][0]!==n&&(r[s]=e[s][1]);return r.join("")},t.prototype.diff_levenshtein=function(e){for(var r=0,s=0,u=0,h=0;h<e.length;h++){var f=e[h][0],l=e[h][1];switch(f){case i:s+=l.length;break;case n:u+=l.length;break;case c:r+=Math.max(s,u),s=0,u=0;break}}return r+=Math.max(s,u),r},t.prototype.diff_toDelta=function(e){for(var r=[],s=0;s<e.length;s++)switch(e[s][0]){case i:r[s]="+"+encodeURI(e[s][1]);break;case n:r[s]="-"+e[s][1].length;break;case c:r[s]="="+e[s][1].length;break}return r.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,r){for(var s=[],u=0,h=0,f=r.split(/\t/g),l=0;l<f.length;l++){var p=f[l].substring(1);switch(f[l].charAt(0)){case"+":try{s[u++]=new t.Diff(i,decodeURI(p))}catch{throw new Error("Illegal escape in diff_fromDelta: "+p)}break;case"-":case"=":var d=parseInt(p,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+p);var _=e.substring(h,h+=d);f[l].charAt(0)=="="?s[u++]=new t.Diff(c,_):s[u++]=new t.Diff(n,_);break;default:if(f[l])throw new Error("Invalid diff operation in diff_fromDelta: "+f[l])}}if(h!=e.length)throw new Error("Delta length ("+h+") does not equal source text length ("+e.length+").");return s},t.prototype.match_main=function(e,r,s){if(e==null||r==null||s==null)throw new Error("Null input. (match_main)");return s=Math.max(0,Math.min(s,e.length)),e==r?0:e.length?e.substring(s,s+r.length)==r?s:this.match_bitap_(e,r,s):-1},t.prototype.match_bitap_=function(e,r,s){if(r.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(r),h=this;function f(j,U){var R=j/r.length,T=Math.abs(s-U);return h.Match_Distance?R+T/h.Match_Distance:T?1:R}var l=this.Match_Threshold,p=e.indexOf(r,s);p!=-1&&(l=Math.min(f(0,p),l),p=e.lastIndexOf(r,s+r.length),p!=-1&&(l=Math.min(f(0,p),l)));var d=1<<r.length-1;p=-1;for(var _,v,b=r.length+e.length,A,w=0;w<r.length;w++){for(_=0,v=b;_<v;)f(w,s+v)<=l?_=v:b=v,v=Math.floor((b-_)/2+_);b=v;var O=Math.max(1,s-v+1),I=Math.min(s+v,e.length)+r.length,W=Array(I+2);W[I+1]=(1<<w)-1;for(var k=I;k>=O;k--){var H=u[e.charAt(k-1)];if(w===0?W[k]=(W[k+1]<<1|1)&H:W[k]=(W[k+1]<<1|1)&H|((A[k+1]|A[k])<<1|1)|A[k+1],W[k]&d){var F=f(w,k-1);if(F<=l)if(l=F,p=k-1,p>s)O=Math.max(1,2*s-p);else break}}if(f(w+1,s)>l)break;A=W}return p},t.prototype.match_alphabet_=function(e){for(var r={},s=0;s<e.length;s++)r[e.charAt(s)]=0;for(var s=0;s<e.length;s++)r[e.charAt(s)]|=1<<e.length-s-1;return r},t.prototype.patch_addContext_=function(e,r){if(r.length!=0){if(e.start2===null)throw Error("patch not initialized");for(var s=r.substring(e.start2,e.start2+e.length1),u=0;r.indexOf(s)!=r.lastIndexOf(s)&&s.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,s=r.substring(e.start2-u,e.start2+e.length1+u);u+=this.Patch_Margin;var h=r.substring(e.start2-u,e.start2);h&&e.diffs.unshift(new t.Diff(c,h));var f=r.substring(e.start2+e.length1,e.start2+e.length1+u);f&&e.diffs.push(new t.Diff(c,f)),e.start1-=h.length,e.start2-=h.length,e.length1+=h.length+f.length,e.length2+=h.length+f.length}},t.prototype.patch_make=function(e,r,s){var u,h;if(typeof e=="string"&&typeof r=="string"&&typeof s>"u")u=e,h=this.diff_main(u,r,!0),h.length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(e&&typeof e=="object"&&typeof r>"u"&&typeof s>"u")h=e,u=this.diff_text1(h);else if(typeof e=="string"&&r&&typeof r=="object"&&typeof s>"u")u=e,h=r;else if(typeof e=="string"&&typeof r=="string"&&s&&typeof s=="object")u=e,h=s;else throw new Error("Unknown call format to patch_make.");if(h.length===0)return[];for(var f=[],l=new t.patch_obj,p=0,d=0,_=0,v=u,b=u,A=0;A<h.length;A++){var w=h[A][0],O=h[A][1];switch(!p&&w!==c&&(l.start1=d,l.start2=_),w){case i:l.diffs[p++]=h[A],l.length2+=O.length,b=b.substring(0,_)+O+b.substring(_);break;case n:l.length1+=O.length,l.diffs[p++]=h[A],b=b.substring(0,_)+b.substring(_+O.length);break;case c:O.length<=2*this.Patch_Margin&&p&&h.length!=A+1?(l.diffs[p++]=h[A],l.length1+=O.length,l.length2+=O.length):O.length>=2*this.Patch_Margin&&p&&(this.patch_addContext_(l,v),f.push(l),l=new t.patch_obj,p=0,v=b,d=_);break}w!==i&&(d+=O.length),w!==n&&(_+=O.length)}return p&&(this.patch_addContext_(l,v),f.push(l)),f},t.prototype.patch_deepCopy=function(e){for(var r=[],s=0;s<e.length;s++){var u=e[s],h=new t.patch_obj;h.diffs=[];for(var f=0;f<u.diffs.length;f++)h.diffs[f]=new t.Diff(u.diffs[f][0],u.diffs[f][1]);h.start1=u.start1,h.start2=u.start2,h.length1=u.length1,h.length2=u.length2,r[s]=h}return r},t.prototype.patch_apply=function(e,r){if(e.length==0)return[r,[]];e=this.patch_deepCopy(e);var s=this.patch_addPadding(e);r=s+r+s,this.patch_splitMax(e);for(var u=0,h=[],f=0;f<e.length;f++){var l=e[f].start2+u,p=this.diff_text1(e[f].diffs),d,_=-1;if(p.length>this.Match_MaxBits?(d=this.match_main(r,p.substring(0,this.Match_MaxBits),l),d!=-1&&(_=this.match_main(r,p.substring(p.length-this.Match_MaxBits),l+p.length-this.Match_MaxBits),(_==-1||d>=_)&&(d=-1))):d=this.match_main(r,p,l),d==-1)h[f]=!1,u-=e[f].length2-e[f].length1;else{h[f]=!0,u=d-l;var v;if(_==-1?v=r.substring(d,d+p.length):v=r.substring(d,_+this.Match_MaxBits),p==v)r=r.substring(0,d)+this.diff_text2(e[f].diffs)+r.substring(d+p.length);else{var b=this.diff_main(p,v,!1);if(p.length>this.Match_MaxBits&&this.diff_levenshtein(b)/p.length>this.Patch_DeleteThreshold)h[f]=!1;else{this.diff_cleanupSemanticLossless(b);for(var A=0,w,O=0;O<e[f].diffs.length;O++){var I=e[f].diffs[O];I[0]!==c&&(w=this.diff_xIndex(b,A)),I[0]===i?r=r.substring(0,d+w)+I[1]+r.substring(d+w):I[0]===n&&(r=r.substring(0,d+w)+r.substring(d+this.diff_xIndex(b,A+I[1].length))),I[0]!==n&&(A+=I[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,h]},t.prototype.patch_addPadding=function(e){for(var r=this.Patch_Margin,s="",u=1;u<=r;u++)s+=String.fromCharCode(u);for(var u=0;u<e.length;u++)e[u].start1+=r,e[u].start2+=r;var h=e[0],f=h.diffs;if(f.length==0||f[0][0]!=c)f.unshift(new t.Diff(c,s)),h.start1-=r,h.start2-=r,h.length1+=r,h.length2+=r;else if(r>f[0][1].length){var l=r-f[0][1].length;f[0][1]=s.substring(f[0][1].length)+f[0][1],h.start1-=l,h.start2-=l,h.length1+=l,h.length2+=l}if(h=e[e.length-1],f=h.diffs,f.length==0||f[f.length-1][0]!=c)f.push(new t.Diff(c,s)),h.length1+=r,h.length2+=r;else if(r>f[f.length-1][1].length){var l=r-f[f.length-1][1].length;f[f.length-1][1]+=s.substring(0,l),h.length1+=l,h.length2+=l}return s},t.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,s=0;s<e.length;s++)if(!(e[s].length1<=r)){var u=e[s];e.splice(s--,1);for(var h=u.start1,f=u.start2,l="";u.diffs.length!==0;){var p=new t.patch_obj,d=!0;for(p.start1=h-l.length,p.start2=f-l.length,l!==""&&(p.length1=p.length2=l.length,p.diffs.push(new t.Diff(c,l)));u.diffs.length!==0&&p.length1<r-this.Patch_Margin;){var _=u.diffs[0][0],v=u.diffs[0][1];_===i?(p.length2+=v.length,f+=v.length,p.diffs.push(u.diffs.shift()),d=!1):_===n&&p.diffs.length==1&&p.diffs[0][0]==c&&v.length>2*r?(p.length1+=v.length,h+=v.length,d=!1,p.diffs.push(new t.Diff(_,v)),u.diffs.shift()):(v=v.substring(0,r-p.length1-this.Patch_Margin),p.length1+=v.length,h+=v.length,_===c?(p.length2+=v.length,f+=v.length):d=!1,p.diffs.push(new t.Diff(_,v)),v==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(v.length))}l=this.diff_text2(p.diffs),l=l.substring(l.length-this.Patch_Margin);var b=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);b!==""&&(p.length1+=b.length,p.length2+=b.length,p.diffs.length!==0&&p.diffs[p.diffs.length-1][0]===c?p.diffs[p.diffs.length-1][1]+=b:p.diffs.push(new t.Diff(c,b))),d||e.splice(++s,0,p)}}},t.prototype.patch_toText=function(e){for(var r=[],s=0;s<e.length;s++)r[s]=e[s];return r.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var s=e.split(`
`),u=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<s.length;){var f=s[u].match(h);if(!f)throw new Error("Invalid patch string: "+s[u]);var l=new t.patch_obj;for(r.push(l),l.start1=parseInt(f[1],10),f[2]===""?(l.start1--,l.length1=1):f[2]=="0"?l.length1=0:(l.start1--,l.length1=parseInt(f[2],10)),l.start2=parseInt(f[3],10),f[4]===""?(l.start2--,l.length2=1):f[4]=="0"?l.length2=0:(l.start2--,l.length2=parseInt(f[4],10)),u++;u<s.length;){var p=s[u].charAt(0);try{var d=decodeURI(s[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+d)}if(p=="-")l.diffs.push(new t.Diff(n,d));else if(p=="+")l.diffs.push(new t.Diff(i,d));else if(p==" ")l.diffs.push(new t.Diff(c,d));else{if(p=="@")break;if(p!=="")throw new Error('Invalid patch mode "'+p+'" in: '+d)}u++}}return r},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var e,r;this.length1===0?e=this.start1+",0":this.length1==1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?r=this.start2+",0":this.length2==1?r=this.start2+1:r=this.start2+1+","+this.length2;for(var s=["@@ -"+e+" +"+r+` @@
`],u,h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case i:u="+";break;case n:u="-";break;case c:u=" ";break}s[h+1]=u+encodeURI(this.diffs[h][1])+`
`}return s.join("").replace(/%20/g," ")},a.exports=t,a.exports.diff_match_patch=t,a.exports.DIFF_DELETE=n,a.exports.DIFF_INSERT=i,a.exports.DIFF_EQUAL=c})($r);var ds=$r.exports,gs=re&&re.__extends||function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(i[e]=c[e])},a(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(zn,"__esModule",{value:!0});var Y=vn,hr=N,ms=bn,_s=ds,vs=function(a){gs(t,a);function t(n){var i=a.call(this,n)||this;return i.state={value:i.props.value},i.onChange=i.onChange.bind(i),i.diff=i.diff.bind(i),i}return t.prototype.componentDidUpdate=function(){var n=this.props.value;n!==this.state.value&&this.setState({value:n})},t.prototype.onChange=function(n){this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},t.prototype.diff=function(){var n=new _s,i=this.state.value[0],c=this.state.value[1];if(i.length===0&&c.length===0)return[];var e=n.diff_main(i,c);n.diff_cleanupSemantic(e);var r=this.generateDiffedLines(e),s=this.setCodeMarkers(r);return s},t.prototype.generateDiffedLines=function(n){var i={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},c={left:[],right:[]},e={left:1,right:1};return n.forEach(function(r){var s=r[0],u=r[1],h=u.split(`
`).length-1;if(u.length!==0){var f=u[0],l=u[u.length-1],p=0;switch(s){case i.DIFF_EQUAL:e.left+=h,e.right+=h;break;case i.DIFF_DELETE:f===`
`&&(e.left++,h--),p=h,p===0&&c.right.push({startLine:e.right,endLine:e.right}),l===`
`&&(p-=1),c.left.push({startLine:e.left,endLine:e.left+p}),e.left+=h;break;case i.DIFF_INSERT:f===`
`&&(e.right++,h--),p=h,p===0&&c.left.push({startLine:e.left,endLine:e.left}),l===`
`&&(p-=1),c.right.push({startLine:e.right,endLine:e.right+p}),e.right+=h;break;default:throw new Error("Diff type was not defined.")}}}),c},t.prototype.setCodeMarkers=function(n){n===void 0&&(n={left:[],right:[]});for(var i=[],c={left:[],right:[]},e=0;e<n.left.length;e++){var r={startRow:n.left[e].startLine-1,endRow:n.left[e].endLine,type:"text",className:"codeMarker"};c.left.push(r)}for(var e=0;e<n.right.length;e++){var r={startRow:n.right[e].startLine-1,endRow:n.right[e].endLine,type:"text",className:"codeMarker"};c.right.push(r)}return i[0]=c.left,i[1]=c.right,i},t.prototype.render=function(){var n=this.diff();return hr.createElement(ms.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:n})},t.propTypes={cursorStart:Y.number,editorProps:Y.object,enableBasicAutocompletion:Y.bool,enableLiveAutocompletion:Y.bool,focus:Y.bool,fontSize:Y.number,height:Y.string,highlightActiveLine:Y.bool,maxLines:Y.number,minLines:Y.number,mode:Y.string,name:Y.string,className:Y.string,onLoad:Y.func,onPaste:Y.func,onScroll:Y.func,onChange:Y.func,orientation:Y.string,readOnly:Y.bool,scrollMargin:Y.array,setOptions:Y.object,showGutter:Y.bool,showPrintMargin:Y.bool,splits:Y.number,style:Y.object,tabSize:Y.number,theme:Y.string,value:Y.array,width:Y.string,wrapEnabled:Y.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(hr.Component);zn.default=vs;Object.defineProperty(Lt,"__esModule",{value:!0});Lt.diff=Lt.split=void 0;var bs=Un,ys=zn;Lt.diff=ys.default;var Es=bn;Lt.split=Es.default;var ws=Lt.default=bs.default;function Ss({value:a,setValue:t,nodeClass:n,setNodeClass:i,children:c,dynamic:e,readonly:r=!1,open:s,setOpen:u}){var j,U,R;const[h,f]=N.useState(a),[l,p]=u!==void 0&&s!==void 0?[s,u]:N.useState(!1),d=wi(T=>T.dark),[_,v]=N.useState(null),b=Nt(T=>T.setSuccessData),A=Nt(T=>T.setErrorData),[w,O]=N.useState(null);N.useEffect(()=>{e&&Object.keys(n.template).length>2},[]);function I(){Ai(h).then(T=>{if(T.data){let V=T.data.imports.errors,J=T.data.function.errors;J.length===0&&V.length===0?(b({title:Oi}),p(!1),t(h)):(J.length!==0&&A({title:Ci,list:J}),V.length!==0&&A({title:Mi,list:V}))}else A({title:Sr})}).catch(T=>{A({title:Pi})})}function W(){Di(h,n).then(T=>{const{data:V}=T;V&&(i(V,h),O({detail:{error:void 0,traceback:void 0}}),p(!1))}).catch(T=>{O(T.response.data)})}function k(){e?W():I()}function H(){k()}N.useEffect(()=>{const T=setTimeout(()=>{(w==null?void 0:w.detail.error)!==void 0&&v("90%")},600);return()=>{clearTimeout(T)}},[w,v]),N.useEffect(()=>{f(a)},[a,l]);const F=T=>{T.key==="Escape"&&T.preventDefault()};return S.jsx("div",{onKeyDown:T=>F(T),children:S.jsxs(et,{open:l,setOpen:p,children:[S.jsx(et.Trigger,{children:c}),S.jsxs(et.Header,{description:Si,children:[S.jsxs("span",{className:"pr-2",children:[" ",Ti," "]}),S.jsx(Re,{name:"prompts",className:"h-6 w-6 pl-1 text-primary ","aria-hidden":"true"})]}),S.jsxs(et.Content,{children:[S.jsx(tt,{value:h,readOnly:!0,className:"absolute left-[500%] top-[500%]",id:"codeValue"}),S.jsxs("div",{className:"flex h-full w-full flex-col transition-all",children:[S.jsx("div",{className:"h-full w-full",children:S.jsx(ws,{readOnly:r,value:h,mode:"python",setOptions:{fontFamily:"monospace"},height:_??"100%",highlightActiveLine:!0,showPrintMargin:!1,fontSize:14,showGutter:!0,enableLiveAutocompletion:!0,theme:d?"twilight":"github",name:"CodeEditor",onChange:T=>{f(T)},className:"h-full w-full rounded-lg border-[1px] border-gray-300 custom-scroll dark:border-gray-600"})}),S.jsx("div",{className:"whitespace-break-spaces transition-all delay-500"+(((j=w==null?void 0:w.detail)==null?void 0:j.error)!==void 0?"h-2/6":"h-0"),children:S.jsxs("div",{className:"mt-1 h-full max-h-[10rem] w-full overflow-y-auto overflow-x-clip text-left custom-scroll",children:[S.jsx("h1",{className:"text-lg text-destructive",children:(U=w==null?void 0:w.detail)==null?void 0:U.error}),S.jsx("div",{className:"ml-2 w-full text-sm text-status-red word-break-break-word",children:S.jsx("span",{className:"w-full word-break-break-word",children:(R=w==null?void 0:w.detail)==null?void 0:R.traceback})})]})}),S.jsx("div",{className:"flex h-fit w-full justify-end",children:S.jsx(wr,{className:"mt-3",onClick:H,type:"submit",id:"checkAndSaveBtn",disabled:r,children:"Check & Save"})})]})]})]})})}function oo({value:a,onChange:t,disabled:n,editNode:i=!1,nodeClass:c,dynamic:e,setNodeClass:r,id:s="",readonly:u=!1,open:h,setOpen:f}){const[l,p]=N.useState(typeof a=="string"?a:JSON.stringify(a));return N.useEffect(()=>{n&&l!==""&&(p(""),t("",!0))},[n]),N.useEffect(()=>{p(typeof a=="string"?a:JSON.stringify(a))},[a]),S.jsx("div",{className:n?"pointer-events-none w-full ":" w-full",children:S.jsx(Ss,{open:h,setOpen:f,readonly:u,dynamic:e,value:l,nodeClass:c,setNodeClass:r,setValue:d=>{p(d),t(d)},children:S.jsxs("div",{className:"flex w-full items-center",children:[S.jsx("span",{id:s,"data-testid":s,className:i?"input-edit-node input-dialog":(n?" input-disable input-ring ":"")+" primary-input text-muted-foreground ",children:l!==""?l:"Type something..."}),!i&&S.jsx(Re,{name:"ExternalLink",className:"icons-parameters-comp"+(n?" text-ring":" hover:text-accent-foreground")})]})})})}function lo({value:a,onChange:t,disabled:n,rangeSpec:i,editNode:c=!1}){const e=(i==null?void 0:i.step)??.1,r=(i==null?void 0:i.min)??-2,s=(i==null?void 0:i.max)??2;return N.useEffect(()=>{n&&a!==""&&t("",!0)},[n]),S.jsx("div",{className:"w-full",children:S.jsx(tt,{id:"float-input",type:"number",step:e,min:r,onInput:u=>{Number(u.target.value)<r&&(u.target.value=r.toString()),Number(u.target.value)>s&&(u.target.value=s.toString())},max:s,value:a??"",disabled:n,className:c?"input-edit-node":"",placeholder:c?`Enter a value between ${r} and ${s}`:`Enter a value between ${r} and ${s}`,onChange:u=>{t(u.target.value)},onKeyDown:u=>{mn(u,a,"")}})})}function co({value:a,onChange:t,disabled:n,fileTypes:i,onFileChange:c,editNode:e=!1}){const r=Ni(_=>_.currentFlowId),[s,u]=N.useState(a),[h,f]=N.useState(!1),l=Nt(_=>_.setErrorData);N.useEffect(()=>{n&&a!==""&&(u(""),t("",!0),c(""))},[n,t]);function p(_){if(i===void 0)return!0;for(let v=0;v<i.length;v++)if(_.endsWith(i[v]))return!0;return!1}N.useEffect(()=>{u(a)},[a]);const d=()=>{const _=document.createElement("input");_.type="file",_.accept=i==null?void 0:i.join(","),_.style.display="none",_.multiple=!1,_.onchange=v=>{var A;f(!0);const b=(A=v.target.files)==null?void 0:A[0];b&&p(b.name)?Li(b,r).then(w=>w.data).then(w=>{const{file_path:O}=w;c(O),u(b.name),t(b.name),f(!1)}).catch(()=>{console.error(Ri),f(!1)}):(l({title:Ii,list:i}),f(!1))},_.click()};return S.jsx("div",{className:n?"input-component-div":"w-full",children:S.jsxs("div",{className:"input-file-component",children:[S.jsx("span",{onClick:d,className:e?"input-edit-node input-dialog text-muted-foreground":n?"input-disable input-dialog primary-input":"input-dialog primary-input text-muted-foreground",children:s!==""?s:"No file"}),S.jsxs("button",{onClick:d,children:[!e&&!h&&S.jsx(Re,{name:"FileSearch2",className:"icons-parameters-comp"+(n?" text-ring ":" hover:text-accent-foreground")}),!e&&h&&S.jsx("span",{className:"loading loading-spinner loading-sm pointer-events-none h-8 pl-3"})]})]})})}function fo({value:a,onChange:t,rangeSpec:n,disabled:i,editNode:c=!1,id:e=""}){return N.useEffect(()=>{i&&a!==""&&t("",!0)},[i,t]),S.jsx("div",{className:"w-full",children:S.jsx(tt,{id:e,onKeyDown:s=>{ki(s),mn(s,a,"")},type:"number",step:(n==null?void 0:n.step)??1,min:(n==null?void 0:n.min)??-1/0,max:(n==null?void 0:n.max)??void 0,onInput:s=>{Number(s.target.value)<-1/0&&(s.target.value=(-1/0).toString())},value:a??"",className:c?"input-edit-node":"",disabled:i,placeholder:c?"Integer number":"Type an integer number",onChange:s=>{t(s.target.value)},"data-testid":e})})}/*! @license DOMPurify 3.1.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.4/LICENSE */const{entries:Fr,setPrototypeOf:pr,isFrozen:Ts,getPrototypeOf:As,getOwnPropertyDescriptor:Os}=Object;let{freeze:me,seal:Ae,create:Ur}=Object,{apply:jn,construct:$n}=typeof Reflect<"u"&&Reflect;me||(me=function(t){return t});Ae||(Ae=function(t){return t});jn||(jn=function(t,n,i){return t.apply(n,i)});$n||($n=function(t,n){return new t(...n)});const un=Ee(Array.prototype.forEach),dr=Ee(Array.prototype.pop),Ft=Ee(Array.prototype.push),dn=Ee(String.prototype.toLowerCase),Dn=Ee(String.prototype.toString),gr=Ee(String.prototype.match),Ut=Ee(String.prototype.replace),Cs=Ee(String.prototype.indexOf),Ms=Ee(String.prototype.trim),Ne=Ee(Object.prototype.hasOwnProperty),ge=Ee(RegExp.prototype.test),zt=Ps(TypeError);function mr(a){return typeof a=="number"&&isNaN(a)}function Ee(a){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),c=1;c<n;c++)i[c-1]=arguments[c];return jn(a,t,i)}}function Ps(a){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return $n(a,n)}}function G(a,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dn;pr&&pr(a,null);let i=t.length;for(;i--;){let c=t[i];if(typeof c=="string"){const e=n(c);e!==c&&(Ts(t)||(t[i]=e),c=e)}a[c]=!0}return a}function Ds(a){for(let t=0;t<a.length;t++)Ne(a,t)||(a[t]=null);return a}function mt(a){const t=Ur(null);for(const[n,i]of Fr(a))Ne(a,n)&&(Array.isArray(i)?t[n]=Ds(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=mt(i):t[n]=i);return t}function hn(a,t){for(;a!==null;){const i=Os(a,t);if(i){if(i.get)return Ee(i.get);if(typeof i.value=="function")return Ee(i.value)}a=As(a)}function n(){return null}return n}const _r=me(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nn=me(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ln=me(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ns=me(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rn=me(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ls=me(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vr=me(["#text"]),br=me(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),In=me(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yr=me(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pn=me(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Rs=Ae(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Is=Ae(/<%[\w\W]*|[\w\W]*%>/gm),ks=Ae(/\${[\w\W]*}/gm),xs=Ae(/^data-[\-\w.\u00B7-\uFFFF]/),js=Ae(/^aria-[\-\w]+$/),zr=Ae(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$s=Ae(/^(?:\w+script|data):/i),Fs=Ae(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Hr=Ae(/^html$/i),Us=Ae(/^[a-z][.\w]*(-[.\w]+)+$/i);var Er=Object.freeze({__proto__:null,MUSTACHE_EXPR:Rs,ERB_EXPR:Is,TMPLIT_EXPR:ks,DATA_ATTR:xs,ARIA_ATTR:js,IS_ALLOWED_URI:zr,IS_SCRIPT_OR_DATA:$s,ATTR_WHITESPACE:Fs,DOCTYPE_NAME:Hr,CUSTOM_ELEMENT:Us});const dt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},zs=function(){return typeof window>"u"?null:window},Hs=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";n&&n.hasAttribute(c)&&(i=n.getAttribute(c));const e="dompurify"+(i?"#"+i:"");try{return t.createPolicy(e,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+e+" could not be created."),null}};function Br(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zs();const t=P=>Br(P);if(t.version="3.1.4",t.removed=[],!a||!a.document||a.document.nodeType!==dt.document)return t.isSupported=!1,t;let{document:n}=a;const i=n,c=i.currentScript,{DocumentFragment:e,HTMLTemplateElement:r,Node:s,Element:u,NodeFilter:h,NamedNodeMap:f=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:l,DOMParser:p,trustedTypes:d}=a,_=u.prototype,v=hn(_,"cloneNode"),b=hn(_,"nextSibling"),A=hn(_,"childNodes"),w=hn(_,"parentNode");if(typeof r=="function"){const P=n.createElement("template");P.content&&P.content.ownerDocument&&(n=P.content.ownerDocument)}let O,I="";const{implementation:W,createNodeIterator:k,createDocumentFragment:H,getElementsByTagName:F}=n,{importNode:j}=i;let U={};t.isSupported=typeof Fr=="function"&&typeof w=="function"&&W&&W.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:T,TMPLIT_EXPR:V,DATA_ATTR:J,ARIA_ATTR:Ge,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:oe}=Er;let{IS_ALLOWED_URI:fe}=Er,K=null;const Oe=G({},[..._r,...Nn,...Ln,...Rn,...vr]);let Z=null;const _e=G({},[...br,...In,...yr,...pn]);let X=Object.seal(Ur(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),z=null,je=null,nt=!0,ue=!0,We=!1,It=!0,$e=!1,rt=!0,Ie=!1,bt=!1,kt=!1,Ve=!1,yt=!1,Et=!1,Wt=!0,Vt=!1;const wn="user-content-";let xt=!0,it=!1,Ke={},Xe=null;const Kt=G({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let at=null;const wt=G({},["audio","video","img","source","image","track"]);let St=null;const be=G({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),st="http://www.w3.org/1998/Math/MathML",ot="http://www.w3.org/2000/svg",Ce="http://www.w3.org/1999/xhtml";let Fe=Ce,Ye=!1,Tt=null;const Xt=G({},[st,ot,Ce],Dn);let lt=null;const Ue=["application/xhtml+xml","text/html"],Yt="text/html";let ne=null,Je=null;const At=255,ct=n.createElement("form"),Ot=function(g){return g instanceof RegExp||g instanceof Function},ft=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Je&&Je===g)){if((!g||typeof g!="object")&&(g={}),g=mt(g),lt=Ue.indexOf(g.PARSER_MEDIA_TYPE)===-1?Yt:g.PARSER_MEDIA_TYPE,ne=lt==="application/xhtml+xml"?Dn:dn,K=Ne(g,"ALLOWED_TAGS")?G({},g.ALLOWED_TAGS,ne):Oe,Z=Ne(g,"ALLOWED_ATTR")?G({},g.ALLOWED_ATTR,ne):_e,Tt=Ne(g,"ALLOWED_NAMESPACES")?G({},g.ALLOWED_NAMESPACES,Dn):Xt,St=Ne(g,"ADD_URI_SAFE_ATTR")?G(mt(be),g.ADD_URI_SAFE_ATTR,ne):be,at=Ne(g,"ADD_DATA_URI_TAGS")?G(mt(wt),g.ADD_DATA_URI_TAGS,ne):wt,Xe=Ne(g,"FORBID_CONTENTS")?G({},g.FORBID_CONTENTS,ne):Kt,z=Ne(g,"FORBID_TAGS")?G({},g.FORBID_TAGS,ne):{},je=Ne(g,"FORBID_ATTR")?G({},g.FORBID_ATTR,ne):{},Ke=Ne(g,"USE_PROFILES")?g.USE_PROFILES:!1,nt=g.ALLOW_ARIA_ATTR!==!1,ue=g.ALLOW_DATA_ATTR!==!1,We=g.ALLOW_UNKNOWN_PROTOCOLS||!1,It=g.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$e=g.SAFE_FOR_TEMPLATES||!1,rt=g.SAFE_FOR_XML!==!1,Ie=g.WHOLE_DOCUMENT||!1,Ve=g.RETURN_DOM||!1,yt=g.RETURN_DOM_FRAGMENT||!1,Et=g.RETURN_TRUSTED_TYPE||!1,kt=g.FORCE_BODY||!1,Wt=g.SANITIZE_DOM!==!1,Vt=g.SANITIZE_NAMED_PROPS||!1,xt=g.KEEP_CONTENT!==!1,it=g.IN_PLACE||!1,fe=g.ALLOWED_URI_REGEXP||zr,Fe=g.NAMESPACE||Ce,X=g.CUSTOM_ELEMENT_HANDLING||{},g.CUSTOM_ELEMENT_HANDLING&&Ot(g.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=g.CUSTOM_ELEMENT_HANDLING.tagNameCheck),g.CUSTOM_ELEMENT_HANDLING&&Ot(g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),g.CUSTOM_ELEMENT_HANDLING&&typeof g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$e&&(ue=!1),yt&&(Ve=!0),Ke&&(K=G({},vr),Z=[],Ke.html===!0&&(G(K,_r),G(Z,br)),Ke.svg===!0&&(G(K,Nn),G(Z,In),G(Z,pn)),Ke.svgFilters===!0&&(G(K,Ln),G(Z,In),G(Z,pn)),Ke.mathMl===!0&&(G(K,Rn),G(Z,yr),G(Z,pn))),g.ADD_TAGS&&(K===Oe&&(K=mt(K)),G(K,g.ADD_TAGS,ne)),g.ADD_ATTR&&(Z===_e&&(Z=mt(Z)),G(Z,g.ADD_ATTR,ne)),g.ADD_URI_SAFE_ATTR&&G(St,g.ADD_URI_SAFE_ATTR,ne),g.FORBID_CONTENTS&&(Xe===Kt&&(Xe=mt(Xe)),G(Xe,g.FORBID_CONTENTS,ne)),xt&&(K["#text"]=!0),Ie&&G(K,["html","head","body"]),K.table&&(G(K,["tbody"]),delete z.tbody),g.TRUSTED_TYPES_POLICY){if(typeof g.TRUSTED_TYPES_POLICY.createHTML!="function")throw zt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof g.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw zt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=g.TRUSTED_TYPES_POLICY,I=O.createHTML("")}else O===void 0&&(O=Hs(d,c)),O!==null&&typeof I=="string"&&(I=O.createHTML(""));me&&me(g),Je=g}},Ct=G({},["mi","mo","mn","ms","mtext"]),qe=G({},["foreignobject","annotation-xml"]),Sn=G({},["title","style","font","a","script"]),Jt=G({},[...Nn,...Ln,...Ns]),qt=G({},[...Rn,...Ls]),Tn=function(g){let E=w(g);(!E||!E.tagName)&&(E={namespaceURI:Fe,tagName:"template"});const C=dn(g.tagName),x=dn(E.tagName);return Tt[g.namespaceURI]?g.namespaceURI===ot?E.namespaceURI===Ce?C==="svg":E.namespaceURI===st?C==="svg"&&(x==="annotation-xml"||Ct[x]):!!Jt[C]:g.namespaceURI===st?E.namespaceURI===Ce?C==="math":E.namespaceURI===ot?C==="math"&&qe[x]:!!qt[C]:g.namespaceURI===Ce?E.namespaceURI===ot&&!qe[x]||E.namespaceURI===st&&!Ct[x]?!1:!qt[C]&&(Sn[C]||!Jt[C]):!!(lt==="application/xhtml+xml"&&Tt[g.namespaceURI]):!1},ve=function(g){Ft(t.removed,{element:g});try{g.parentNode.removeChild(g)}catch{g.remove()}},ut=function(g,E){try{Ft(t.removed,{attribute:E.getAttributeNode(g),from:E})}catch{Ft(t.removed,{attribute:null,from:E})}if(E.removeAttribute(g),g==="is"&&!Z[g])if(Ve||yt)try{ve(E)}catch{}else try{E.setAttribute(g,"")}catch{}},Mt=function(g){let E=null,C=null;if(kt)g="<remove></remove>"+g;else{const ie=gr(g,/^[\r\n\t ]+/);C=ie&&ie[0]}lt==="application/xhtml+xml"&&Fe===Ce&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");const x=O?O.createHTML(g):g;if(Fe===Ce)try{E=new p().parseFromString(x,lt)}catch{}if(!E||!E.documentElement){E=W.createDocument(Fe,"template",null);try{E.documentElement.innerHTML=Ye?I:x}catch{}}const ae=E.body||E.documentElement;return g&&C&&ae.insertBefore(n.createTextNode(C),ae.childNodes[0]||null),Fe===Ce?F.call(E,Ie?"html":"body")[0]:Ie?E.documentElement:ae},ke=function(g){return k.call(g.ownerDocument||g,g,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Zt=function(g){return g instanceof l&&(typeof g.__depth<"u"&&typeof g.__depth!="number"||typeof g.__removalCount<"u"&&typeof g.__removalCount!="number"||typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof f)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"||typeof g.hasChildNodes!="function")},Qt=function(g){return typeof s=="function"&&g instanceof s},Me=function(g,E,C){U[g]&&un(U[g],x=>{x.call(t,E,C,Je)})},en=function(g){let E=null;if(Me("beforeSanitizeElements",g,null),Zt(g))return ve(g),!0;const C=ne(g.nodeName);if(Me("uponSanitizeElement",g,{tagName:C,allowedTags:K}),g.hasChildNodes()&&!Qt(g.firstElementChild)&&ge(/<[/\w]/g,g.innerHTML)&&ge(/<[/\w]/g,g.textContent)||g.nodeType===dt.progressingInstruction||rt&&g.nodeType===dt.comment&&ge(/<[/\w]/g,g.data))return ve(g),!0;if(!K[C]||z[C]){if(!z[C]&&we(C)&&(X.tagNameCheck instanceof RegExp&&ge(X.tagNameCheck,C)||X.tagNameCheck instanceof Function&&X.tagNameCheck(C)))return!1;if(xt&&!Xe[C]){const x=w(g)||g.parentNode,ae=A(g)||g.childNodes;if(ae&&x){const ie=ae.length;for(let he=ie-1;he>=0;--he){const pe=v(ae[he],!0);pe.__removalCount=(g.__removalCount||0)+1,x.insertBefore(pe,b(g))}}}return ve(g),!0}return g instanceof u&&!Tn(g)||(C==="noscript"||C==="noembed"||C==="noframes")&&ge(/<\/no(script|embed|frames)/i,g.innerHTML)?(ve(g),!0):($e&&g.nodeType===dt.text&&(E=g.textContent,un([R,T,V],x=>{E=Ut(E,x," ")}),g.textContent!==E&&(Ft(t.removed,{element:g.cloneNode()}),g.textContent=E)),Me("afterSanitizeElements",g,null),!1)},tn=function(g,E,C){if(Wt&&(E==="id"||E==="name")&&(C in n||C in ct||C==="__depth"||C==="__removalCount"))return!1;if(!(ue&&!je[E]&&ge(J,E))){if(!(nt&&ge(Ge,E))){if(!Z[E]||je[E]){if(!(we(g)&&(X.tagNameCheck instanceof RegExp&&ge(X.tagNameCheck,g)||X.tagNameCheck instanceof Function&&X.tagNameCheck(g))&&(X.attributeNameCheck instanceof RegExp&&ge(X.attributeNameCheck,E)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(E))||E==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&ge(X.tagNameCheck,C)||X.tagNameCheck instanceof Function&&X.tagNameCheck(C))))return!1}else if(!St[E]){if(!ge(fe,Ut(C,q,""))){if(!((E==="src"||E==="xlink:href"||E==="href")&&g!=="script"&&Cs(C,"data:")===0&&at[g])){if(!(We&&!ge(B,Ut(C,q,"")))){if(C)return!1}}}}}}return!0},we=function(g){return g!=="annotation-xml"&&gr(g,oe)},nn=function(g){Me("beforeSanitizeAttributes",g,null);const{attributes:E}=g;if(!E)return;const C={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z};let x=E.length;for(;x--;){const ae=E[x],{name:ie,namespaceURI:he,value:pe}=ae,xe=ne(ie);let le=ie==="value"?pe:Ms(pe);if(C.attrName=xe,C.attrValue=le,C.keepAttr=!0,C.forceKeepAttr=void 0,Me("uponSanitizeAttribute",g,C),le=C.attrValue,C.forceKeepAttr||(ut(ie,g),!C.keepAttr))continue;if(!It&&ge(/\/>/i,le)){ut(ie,g);continue}if(rt&&ge(/((--!?|])>)|<\/(style|title)/i,le)){ut(ie,g);continue}$e&&un([R,T,V],Pe=>{le=Ut(le,Pe," ")});const rn=ne(g.nodeName);if(tn(rn,xe,le)){if(Vt&&(xe==="id"||xe==="name")&&(ut(ie,g),le=wn+le),O&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!he)switch(d.getAttributeType(rn,xe)){case"TrustedHTML":{le=O.createHTML(le);break}case"TrustedScriptURL":{le=O.createScriptURL(le);break}}try{he?g.setAttributeNS(he,ie,le):g.setAttribute(ie,le),Zt(g)?ve(g):dr(t.removed)}catch{}}}Me("afterSanitizeAttributes",g,null)},An=function P(g){let E=null;const C=ke(g);for(Me("beforeSanitizeShadowDOM",g,null);E=C.nextNode();){if(Me("uponSanitizeShadowNode",E,null),en(E))continue;const x=w(E);E.nodeType===dt.element&&(x&&x.__depth?E.__depth=(E.__removalCount||0)+x.__depth+1:E.__depth=1),(E.__depth>=At||E.__depth<0||mr(E.__depth))&&ve(E),E.content instanceof e&&(E.content.__depth=E.__depth,P(E.content)),nn(E)}Me("afterSanitizeShadowDOM",g,null)};return t.sanitize=function(P){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=null,C=null,x=null,ae=null;if(Ye=!P,Ye&&(P="<!-->"),typeof P!="string"&&!Qt(P))if(typeof P.toString=="function"){if(P=P.toString(),typeof P!="string")throw zt("dirty is not a string, aborting")}else throw zt("toString is not a function");if(!t.isSupported)return P;if(bt||ft(g),t.removed=[],typeof P=="string"&&(it=!1),it){if(P.nodeName){const pe=ne(P.nodeName);if(!K[pe]||z[pe])throw zt("root node is forbidden and cannot be sanitized in-place")}}else if(P instanceof s)E=Mt("<!---->"),C=E.ownerDocument.importNode(P,!0),C.nodeType===dt.element&&C.nodeName==="BODY"||C.nodeName==="HTML"?E=C:E.appendChild(C);else{if(!Ve&&!$e&&!Ie&&P.indexOf("<")===-1)return O&&Et?O.createHTML(P):P;if(E=Mt(P),!E)return Ve?null:Et?I:""}E&&kt&&ve(E.firstChild);const ie=ke(it?P:E);for(;x=ie.nextNode();){if(en(x))continue;const pe=w(x);x.nodeType===dt.element&&(pe&&pe.__depth?x.__depth=(x.__removalCount||0)+pe.__depth+1:x.__depth=1),(x.__depth>=At||x.__depth<0||mr(x.__depth))&&ve(x),x.content instanceof e&&(x.content.__depth=x.__depth,An(x.content)),nn(x)}if(it)return P;if(Ve){if(yt)for(ae=H.call(E.ownerDocument);E.firstChild;)ae.appendChild(E.firstChild);else ae=E;return(Z.shadowroot||Z.shadowrootmode)&&(ae=j.call(i,ae,!0)),ae}let he=Ie?E.outerHTML:E.innerHTML;return Ie&&K["!doctype"]&&E.ownerDocument&&E.ownerDocument.doctype&&E.ownerDocument.doctype.name&&ge(Hr,E.ownerDocument.doctype.name)&&(he="<!DOCTYPE "+E.ownerDocument.doctype.name+`>
`+he),$e&&un([R,T,V],pe=>{he=Ut(he,pe," ")}),O&&Et?O.createHTML(he):he},t.setConfig=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ft(P),bt=!0},t.clearConfig=function(){Je=null,bt=!1},t.isValidAttribute=function(P,g,E){Je||ft({});const C=ne(P),x=ne(g);return tn(C,x,E)},t.addHook=function(P,g){typeof g=="function"&&(U[P]=U[P]||[],Ft(U[P],g))},t.removeHook=function(P){if(U[P])return dr(U[P])},t.removeHooks=function(P){U[P]&&(U[P]=[])},t.removeAllHooks=function(){U={}},t}var Bs=Br();const Gs=({className:a,content:t,onClick:n,suppressWarning:i=!1})=>{const c=Bs.sanitize(t);return S.jsx("div",{"data-testid":"edit-prompt-sanitized",className:a,dangerouslySetInnerHTML:{__html:c},suppressContentEditableWarning:i,onClick:n})},Ws=Gs;function Vs({name:a}){return`<span class="font-semibold chat-message-highlight">{${a}}</span>`}function Gr({field_name:a="",value:t,setValue:n,buttonText:i,modalTitle:c,type:e,nodeClass:r,setNodeClass:s,children:u,id:h="",readonly:f=!1}){const[l]=N.useState(i),[p]=N.useState(c),[d,_]=N.useState(!1),[v]=N.useState(e),[b,A]=N.useState(t),[w,O]=N.useState(!0),[I,W]=N.useState([]),k=Nt(B=>B.setSuccessData),H=Nt(B=>B.setErrorData),F=Nt(B=>B.setNoticeData),j=N.useRef(null),U=N.useRef(null),R=N.useRef(null);function T(B){const q=/\{([^{}]+)\}/g,oe=[];let fe;for(;fe=q.exec(B);)oe.push(`{${fe[1]}}`);let K=[],Oe=oe;for(let _e of Oe){let X=_e;for(let z of Ui)_e.includes(z)&&K.push(X);if(X!==_e){const z=Oe.indexOf(_e);z!==-1&&Oe.splice(z,1,X)}}const Z=oe.filter(_e=>!K.includes(_e));W(Z)}N.useEffect(()=>{e===Be.PROMPT&&b&&b!=""&&T(b)},[b,e]),N.useEffect(()=>{A(t)},[t,d]);const V=(b||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(xi,(B,q,oe)=>q!==void 0?B:oe!==void 0?Vs({name:oe}):B).replace(/\n/g,"<br />");function J(){let B=0;return I.forEach(q=>{B=B+q.replace(/[{}]/g,"").length}),B>zi?"code-highlight":"code-nohighlight"}function Ge(B){Hi(a,b,r).then(q=>{var oe,fe,K,Oe,Z,_e,X,z,je,nt,ue;if(a===""&&(a=Array.isArray((K=(fe=(oe=q.data)==null?void 0:oe.frontend_node)==null?void 0:fe.custom_fields)==null?void 0:K[""])?((_e=(Z=(Oe=q.data)==null?void 0:Oe.frontend_node)==null?void 0:Z.custom_fields)==null?void 0:_e[""][0])??"":((je=(z=(X=q.data)==null?void 0:X.frontend_node)==null?void 0:z.custom_fields)==null?void 0:je[""])??""),q.data){let We=q.data.input_variables??[];JSON.stringify((nt=q.data)==null?void 0:nt.frontend_node)!==JSON.stringify({})&&(s&&s((ue=q.data)==null?void 0:ue.frontend_node,b),_(B),O(!1)),!We||We.length===0?F({title:Bi}):k({title:Gi})}else O(!0),H({title:Sr})}).catch(q=>(O(!0),H({title:Wi,list:[q.response.data.detail??""]})))}return S.jsxs(et,{onChangeOpenModal:B=>{},open:d,setOpen:_,children:[S.jsx(et.Trigger,{children:u}),S.jsxs(et.Header,{description:(()=>{switch(p){case"Edit Text":return $i;case"Edit Prompt":return ji;default:return null}})(),children:[S.jsx("span",{className:"pr-2","data-testid":"modal-title",children:p}),S.jsx(Re,{name:p==="Edit Prompt"?"TerminalSquare":"FileText",className:"h-6 w-6 pl-1 text-primary ","aria-hidden":"true"})]}),S.jsx(et.Content,{children:S.jsxs("div",{className:"flex h-full flex-col",children:[S.jsx("div",{className:Bt(w?"":"rounded-lg border","flex h-full w-full"),children:e===Be.PROMPT&&w&&!f?S.jsx(ir,{id:"modal-"+h,"data-testid":"modal-"+h,ref:R,className:"form-input h-full w-full rounded-lg custom-scroll focus-visible:ring-1",value:b,onBlur:()=>{O(!1)},autoFocus:!0,onChange:B=>{A(B.target.value),T(B.target.value)},placeholder:nr,onKeyDown:B=>{mn(B,b,"")}}):e===Be.PROMPT&&(!w||f)?S.jsx(Ws,{className:J(),content:V,onClick:()=>{O(!0)},suppressWarning:!0}):e!==Be.PROMPT?S.jsx(ir,{ref:j,className:"form-input h-full w-full rounded-lg focus-visible:ring-1",value:b,onChange:B=>{A(B.target.value)},placeholder:nr,onKeyDown:B=>{mn(B,t,"")},readOnly:f,id:"text-area-modal","data-testid":"text-area-modal"}):S.jsx(S.Fragment,{})}),S.jsxs("div",{className:"mt-6 flex h-fit w-full items-end justify-between",children:[S.jsx("div",{className:"mb-auto flex-1",children:e===Be.PROMPT&&S.jsxs("div",{className:" mr-2",children:[S.jsx("div",{ref:U,className:"max-h-20 overflow-y-auto custom-scroll",children:S.jsxs("div",{className:"flex flex-wrap items-center",children:[S.jsx(Re,{name:"Braces",className:" -ml-px mr-1 flex h-4 w-4 text-primary"}),S.jsx("span",{className:"text-md font-semibold text-primary",children:"Prompt Variables:"}),I.map((B,q)=>S.jsx(Qi,{content:B.replace(/[{}]/g,""),asChild:!1,children:S.jsx(Fi,{variant:"gray",size:"md",className:"m-1 max-w-[40vw] cursor-default truncate p-2.5 text-sm",children:S.jsx("div",{className:"relative bottom-[1px]",children:S.jsx("span",{id:"badge"+q.toString(),children:B.replace(/[{}]/g,"").length>59?B.replace(/[{}]/g,"").slice(0,56)+"...":B.replace(/[{}]/g,"")})})},q)},q))]})}),S.jsxs("span",{className:"mt-2 text-xs text-muted-foreground",children:["Prompt variables can be created with any chosen name inside curly brackets, e.g. ","{variable_name}"]})]})}),S.jsx(wr,{"data-testid":"genericModalBtnSave",id:"genericModalBtnSave",disabled:f,onClick:()=>{switch(v){case Be.TEXT:n(b),_(!1);break;case Be.PROMPT:Ge(!1);break}},type:"submit",children:l})]})]})})]})}function uo({field_name:a,setNodeClass:t,nodeClass:n,value:i,onChange:c,disabled:e,editNode:r=!1,id:s="",readonly:u=!1}){return N.useEffect(()=>{e&&i!==""&&c("",!0)},[e]),S.jsx("div",{className:e?"pointer-events-none w-full ":" w-full",children:S.jsx(Gr,{id:s,field_name:a,readonly:u,type:Be.PROMPT,value:i,buttonText:"Check & Save",modalTitle:"Edit Prompt",setValue:c,nodeClass:n,setNodeClass:t,children:S.jsxs("div",{className:"flex w-full items-center",children:[S.jsx("span",{id:s,"data-testid":s,className:r?"input-edit-node input-dialog":(e?" input-disable text-ring ":"")+" primary-input text-muted-foreground ",children:i!==""?i:"Type your prompt here..."}),!r&&S.jsx(Re,{id:s,name:"ExternalLink",className:"icons-parameters-comp"+(e?" text-ring":" hover:text-accent-foreground")})]})})})}function ho({value:a,onChange:t,disabled:n,editNode:i=!1,id:c=""}){return N.useEffect(()=>{n&&a!==""&&t("",!0)},[n]),S.jsx("div",{className:"flex w-full items-center ",children:S.jsxs("div",{className:"flex w-full items-center","data-testid":"div-"+c,children:[S.jsx(tt,{id:c,"data-testid":c,value:a,disabled:n,className:i?"input-edit-node w-full":" w-full",placeholder:"Type something...",onChange:e=>{t(e.target.value)}}),S.jsx("div",{children:S.jsx(Gr,{type:Be.TEXT,buttonText:"Finish Editing",modalTitle:Vi,value:a,setValue:e=>{t(e)},children:!i&&S.jsx(Re,{strokeWidth:1.5,id:c,name:"ExternalLink",className:"icons-parameters-comp w-[1.35rem]"+(n?" text-ring":" hover:text-accent-foreground")})})})]})})}const Wr="Switch",[Ks,po]=Ki(Wr),[Xs,Ys]=Ks(Wr),Js=N.forwardRef((a,t)=>{const{__scopeSwitch:n,name:i,checked:c,defaultChecked:e,required:r,disabled:s,value:u="on",onCheckedChange:h,...f}=a,[l,p]=N.useState(null),d=Xi(t,w=>p(w)),_=N.useRef(!1),v=l?!!l.closest("form"):!0,[b=!1,A]=Yi({prop:c,defaultProp:e,onChange:h});return N.createElement(Xs,{scope:n,checked:b,disabled:s},N.createElement(Tr.button,Fn({type:"button",role:"switch","aria-checked":b,"aria-required":r,"data-state":Vr(b),"data-disabled":s?"":void 0,disabled:s,value:u},f,{ref:d,onClick:Ji(a.onClick,w=>{A(O=>!O),v&&(_.current=w.isPropagationStopped(),_.current||w.stopPropagation())})})),v&&N.createElement(Qs,{control:l,bubbles:!_.current,name:i,value:u,checked:b,required:r,disabled:s,style:{transform:"translateX(-100%)"}}))}),qs="SwitchThumb",Zs=N.forwardRef((a,t)=>{const{__scopeSwitch:n,...i}=a,c=Ys(qs,n);return N.createElement(Tr.span,Fn({"data-state":Vr(c.checked),"data-disabled":c.disabled?"":void 0},i,{ref:t}))}),Qs=a=>{const{control:t,checked:n,bubbles:i=!0,...c}=a,e=N.useRef(null),r=ea(n),s=qi(t);return N.useEffect(()=>{const u=e.current,h=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(h,"checked").set;if(r!==n&&l){const p=new Event("click",{bubbles:i});l.call(u,n),u.dispatchEvent(p)}},[r,n,i]),N.createElement("input",Fn({type:"checkbox","aria-hidden":!0,defaultChecked:n},c,{tabIndex:-1,ref:e,style:{...a.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function Vr(a){return a?"checked":"unchecked"}const Kr=Js,eo=Zs,Xr=N.forwardRef(({className:a,...t},n)=>S.jsx(Kr,{className:rr("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-ring",a),...t,ref:n,children:S.jsx(eo,{"aria-disabled":t.disabled,className:rr("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform aria-disabled:bg-muted/70 data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xr.displayName=Kr.displayName;function go({enabled:a,setEnabled:t,disabled:n,size:i,id:c="",editNode:e=!1}){let r,s;switch(i){case"small":r=.6,s=.6;break;case"medium":r=.8,s=.8;break;case"large":r=1,s=1;break;default:r=1,s=1}return S.jsx(Xr,{id:c,"data-testid":c,style:{transform:`scaleX(${r}) scaleY(${s})`},disabled:n,className:"",checked:a,onCheckedChange:u=>{t(u)}})}const mo=N.memo(({condition:a,children:t})=>(typeof a=="function"?a():a)?t:null);function _o({value:a=[],onChange:t,disabled:n,editNode:i=!1,id:c=""}){const e=N.useRef(a);return N.useEffect(()=>{n&&t({})},[n]),N.useEffect(()=>{e.current=a},[a]),S.jsx("div",{className:Bt(a.length>1&&i?"my-1":"","flex flex-col gap-3"),children:S.jsx("div",{className:"flex w-full gap-3","data-testid":c,children:S.jsx(Zi,{value:e.current,onChange:r=>{t(r)},children:S.jsx(tt,{type:"text",className:i?"input-edit-node input-disable pointer-events-none cursor-pointer":"input-disable pointer-events-none cursor-pointer",placeholder:"Click to edit your dictionary...","data-testid":"dict-input"})})})})}function vo({value:a,onChange:t,disabled:n,editNode:i=!1,duplicateKey:c,isList:e=!0}){var f,l;N.useEffect(()=>{n&&a.length>0&&a[0]!==""&&t([{"":""}])},[n]);const r=p=>Array.isArray(p)?p:[p],s=N.useRef([]);s.current=!a||(a==null?void 0:a.length)===0?[{"":""}]:r(a),N.useEffect(()=>{JSON.stringify(a)!==JSON.stringify(s.current)&&(s.current=a,t(a))},[a]);const u=(p,d)=>{const _=Object.keys(s.current[d])[0],v={[p.target.value]:s.current[d][_]};s.current[d]=v,t(s.current)},h=(p,d)=>{const _=Object.keys(s.current[d])[0];s.current[d][_]=p,t(s.current)};return S.jsx("div",{className:Bt(((f=s.current)==null?void 0:f.length)>1&&i?"mx-2 my-1":"","flex h-full flex-col gap-3"),children:(l=s.current)==null?void 0:l.map((p,d)=>Object.keys(p).map((_,v)=>S.jsxs("div",{className:"flex w-full gap-2",children:[S.jsx(tt,{"data-testid":i?"editNodekeypair"+d:"keypair"+d,id:i?"editNodekeypair"+d:"keypair"+d,type:"text",value:_.trim(),className:Bt(i?"input-edit-node":"",c?"input-invalid":""),placeholder:"Type key...",onChange:b=>u(b,d)}),S.jsx(tt,{"data-testid":i?"editNodekeypair"+(d+100).toString():"keypair"+(d+100).toString(),id:i?"editNodekeypair"+(d+100).toString():"keypair"+(d+100).toString(),type:"text",disabled:n,value:p[_],className:i?"input-edit-node":"",placeholder:"Type a value...",onChange:b=>h(b.target.value,d)}),e&&d===s.current.length-1?S.jsx("button",{disabled:n,onClick:()=>{let b=Ht.cloneDeep(s.current);b.push({"":""}),t(b)},id:i?"editNodeplusbtn"+d.toString():"plusbtn"+d.toString(),"data-testid":i?"editNodeplusbtn"+d.toString():"plusbtn"+d.toString(),children:S.jsx(Re,{name:"Plus",className:"h-4 w-4 hover:text-accent-foreground"})}):e?S.jsx("button",{onClick:()=>{let b=Ht.cloneDeep(s.current);b.splice(d,1),t(b)},"data-testid":i?"editNodeminusbtn"+d.toString():"minusbtn"+d.toString(),id:i?"editNodeminusbtn"+d.toString():"minusbtn"+d.toString(),children:S.jsx(Re,{name:"X",className:"h-4 w-4 hover:text-status-red"})}):""]},v)))})}export{mo as C,_o as D,lo as F,ao as I,vo as K,so as P,Xr as S,ho as T,go as a,co as b,fo as c,uo as d,oo as e,Ws as f};
