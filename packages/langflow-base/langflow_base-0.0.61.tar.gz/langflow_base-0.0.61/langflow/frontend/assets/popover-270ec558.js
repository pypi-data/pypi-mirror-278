import{bv as N,ca as C,r as e,cd as E,bz as i,bw as y,cc as I,bx as T,bC as O,by as k,bA as m,bB as R,ce as S,cf as z,cl as j,bu as K,cg as G,ch as H,ci as L,cj as B,j as x,J as _}from"./index-86768d23.js";const A="Popover",[w,de]=N(A,[C]),g=C(),[J,u]=w(A),U=o=>{const{__scopePopover:s,children:n,open:d,defaultOpen:t,onOpenChange:c,modal:r=!1}=o,a=g(s),f=e.useRef(null),[l,b]=e.useState(!1),[v=!1,p]=y({prop:d,defaultProp:t,onChange:c});return e.createElement(I,a,e.createElement(J,{scope:s,contentId:T(),triggerRef:f,open:v,onOpenChange:p,onOpenToggle:e.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:l,onCustomAnchorAdd:e.useCallback(()=>b(!0),[]),onCustomAnchorRemove:e.useCallback(()=>b(!1),[]),modal:r},n))},V="PopoverAnchor",ie=e.forwardRef((o,s)=>{const{__scopePopover:n,...d}=o,t=u(V,n),c=g(n),{onCustomAnchorAdd:r,onCustomAnchorRemove:a}=t;return e.useEffect(()=>(r(),()=>a()),[r,a]),e.createElement(E,i({},c,d,{ref:s}))}),W="PopoverTrigger",Z=e.forwardRef((o,s)=>{const{__scopePopover:n,...d}=o,t=u(W,n),c=g(n),r=O(s,t.triggerRef),a=e.createElement(k.button,i({type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":M(t.open)},d,{ref:r,onClick:m(o.onClick,t.onOpenToggle)}));return t.hasCustomAnchor?a:e.createElement(E,i({asChild:!0},c),a)}),F="PopoverPortal",[q,Q]=w(F,{forceMount:void 0}),X=o=>{const{__scopePopover:s,forceMount:n,children:d,container:t}=o,c=u(F,s);return e.createElement(q,{scope:s,forceMount:n},e.createElement(R,{present:n||c.open},e.createElement(S,{asChild:!0,container:t},d)))},$="PopoverContent",Y=e.forwardRef((o,s)=>{const n=Q($,o.__scopePopover),{forceMount:d=n.forceMount,...t}=o,c=u($,o.__scopePopover);return e.createElement(R,{present:d||c.open},c.modal?e.createElement(ee,i({},t,{ref:s})):e.createElement(oe,i({},t,{ref:s})))}),ee=e.forwardRef((o,s)=>{const n=u($,o.__scopePopover),d=e.useRef(null),t=O(s,d),c=e.useRef(!1);return e.useEffect(()=>{const r=d.current;if(r)return z(r)},[]),e.createElement(j,{as:K,allowPinchZoom:!0},e.createElement(D,i({},o,{ref:t,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(o.onCloseAutoFocus,r=>{var a;r.preventDefault(),c.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:m(o.onPointerDownOutside,r=>{const a=r.detail.originalEvent,f=a.button===0&&a.ctrlKey===!0,l=a.button===2||f;c.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:m(o.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1})})))}),oe=e.forwardRef((o,s)=>{const n=u($,o.__scopePopover),d=e.useRef(!1),t=e.useRef(!1);return e.createElement(D,i({},o,{ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var r;if((r=o.onCloseAutoFocus)===null||r===void 0||r.call(o,c),!c.defaultPrevented){var a;d.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),c.preventDefault()}d.current=!1,t.current=!1},onInteractOutside:c=>{var r,a;(r=o.onInteractOutside)===null||r===void 0||r.call(o,c),c.defaultPrevented||(d.current=!0,c.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const f=c.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(f))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&t.current&&c.preventDefault()}}))}),D=e.forwardRef((o,s)=>{const{__scopePopover:n,trapFocus:d,onOpenAutoFocus:t,onCloseAutoFocus:c,disableOutsidePointerEvents:r,onEscapeKeyDown:a,onPointerDownOutside:f,onFocusOutside:l,onInteractOutside:b,...v}=o,p=u($,n),h=g(n);return G(),e.createElement(H,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:t,onUnmountAutoFocus:c},e.createElement(L,{asChild:!0,disableOutsidePointerEvents:r,onInteractOutside:b,onEscapeKeyDown:a,onPointerDownOutside:f,onFocusOutside:l,onDismiss:()=>p.onOpenChange(!1)},e.createElement(B,i({"data-state":M(p.open),role:"dialog",id:p.contentId},h,v,{ref:s,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function M(o){return o?"open":"closed"}const te=U,ce=Z,ne=X,P=Y,fe=te,pe=ce,re=e.forwardRef(({className:o,align:s="center",sideOffset:n=4,...d},t)=>x.jsx(ne,{children:x.jsx(P,{ref:t,align:s,sideOffset:n,className:_("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...d})}));re.displayName=P.displayName;const ae=e.forwardRef(({className:o,align:s="center",sideOffset:n=4,...d},t)=>x.jsx(P,{ref:t,align:s,sideOffset:n,className:_("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...d}));ae.displayName=P.displayName;export{ie as $,fe as P,pe as a,re as b,ae as c};
