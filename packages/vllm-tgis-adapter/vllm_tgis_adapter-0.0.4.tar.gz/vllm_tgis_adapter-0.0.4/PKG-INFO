Metadata-Version: 2.1
Name: vllm-tgis-adapter
Version: 0.0.4
Summary: vLLM adapter for a TGIS-compatible grpc server
Author-email: Daniele Trifir√≤ <dtrifiro@redhat.com>
License: Apache 2
Project-URL: Issues, https://github.com/dtrifiro/vllm_tgis_adapter/issues
Project-URL: Source, https://github.com/dtrifiro/vllm_tgis_adapter
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Development Status :: 4 - Beta
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: vllm>=0.4.3
Requires-Dist: prometheus_client==0.20.0
Requires-Dist: grpcio==1.62.1
Requires-Dist: transformers
Requires-Dist: accelerate==0.28.0
Requires-Dist: hf-transfer==0.1.6
Provides-Extra: tests
Requires-Dist: pytest==8.2.0; extra == "tests"
Requires-Dist: pytest-cov==5.0.0; extra == "tests"
Provides-Extra: dev
Requires-Dist: vllm_tgis_adapter[tests]; extra == "dev"
Requires-Dist: ruff==0.4.3; extra == "dev"
Requires-Dist: mypy==1.10.0; extra == "dev"
Requires-Dist: types-protobuf==5.26.0.20240422; extra == "dev"
Provides-Extra: flash-attn
Requires-Dist: flash-attn==2.5.3; extra == "flash-attn"
Requires-Dist: packaging; extra == "flash-attn"
Requires-Dist: ninja; extra == "flash-attn"

# vllm-tgis-adapter

vLLM adapter for a TGIS-compatible grpc server.

[![PyPi](https://img.shields.io/pypi/v/vllm-tgis-adapter?label=pip)](https://pypi.org/project/vllm-tgis-adapter)
[![Tests](https://github.com/dtrifiro/vllm-tgis-adapter/actions/workflows/tests.yaml/badge.svg)](https://github.com/dtrifiro/vllm-tgis-adapter/actions/workflows/tests.yaml)
[![Docker Image Build](https://github.com/dtrifiro/vllm-tgis-adapter/actions/workflows/image.yml/badge.svg)](https://github.com/dtrifiro/vllm-tgis-adapter/actions/workflows/image.yml)
[![quay.io/dtrifiro/vllm-tgis](https://img.shields.io/badge/quay.io-dtrifiro/vllm--tgis-darkred)](https://quay.io/repository/dtrifiro/vllm-tgis?tab=tags)

## Install

vllm-tgis-adapter is available on [PyPi](https://pypi.org/project/vllm-tgis-adapter)

```bash
pip install vllm-tgis-adapter
python -m vllm_tgis_adapter
```

## Build

```bash
python -m build
pip install dist/*whl
python -m vllm_tgis_adapter
```

## Inference

This will start serving a grpc server on port 8033. This can be queried with grpcurl:

```bash
bash examples/inference.sh
```

### Docker

Image available at [quay.io/dtrifiro/vllm-tgis](https://quay.io/dtrifiro/vllm-tgis?tab=tags)

```bash
docker pull quay.io/dtrifiro/vllm-tgis
```

### Inference

See [examples](/examples)

## Contributing

Set up [`pre-commit`](https://pre-commit.com) for linting/style/misc fixes:

```bash
pip install pre-commit
pre-commit install
# to run on all files
pre-commit run --all-files
```

This project uses [`nox`](https://github.com/wntrblm/nox) to manage test automation:

```bash
pip install nox
nox --list  # list available sessions
nox -s tests-3.10 # run tests session for a specific python version
nox -s build-3.11 # build the wheel package
nox -s lint-3.11 -- --mypy # run linting with type checks
```
