import{d as k,u as C,o as n,c as p,a as e,V as i,w as l,m as w,b as m,e as s,f as r,t as f,g as V,F as g,r as _,h as S,i as x,j as v,k as y,l as B,n as u,p as $,q as h,s as b,v as q,x as I,y as O,z as A,A as D,B as N,C as H,D as M,E,G as F,H as P,I as R}from"./index-DTm3q99n.js";const U=k({__name:"AppBar",setup(z){const a=C(),d=[{icon:"mdi:mdi-cog-refresh-outline",id:"clearConfig",onClick:()=>localStorage.clear(),title:"Clear config"}];return(T,o)=>(n(),p(g,null,[e(i,{class:"mx-2",color:"systembar",flat:"",icon:"mdi:mdi-home",size:"x-small",to:"/"}),e(S,null,{activator:l(({props:t})=>[e(i,w({"append-icon":"mdi:mdi-menu-down",class:"mx-1px",size:"x-small"},t,{variant:"text"}),{prepend:l(()=>[e(m,{color:s(a).currentSimulator.id,icon:s(a).currentSimulator.id+":logo",size:"large",style:{"background-color":"white","border-radius":"4px",opacity:"1"}},null,8,["color","icon"])]),default:l(()=>[r(" "+f(s(a).currentSimulator.title),1)]),_:2},1040)]),default:l(()=>[e(V,{density:"compact"},{default:l(()=>[(n(!0),p(g,null,_(s(a).simulatorItems,(t,c)=>(n(),u(x,{key:c,to:"/"+t.id,value:t.id},{prepend:l(()=>[e(m,{color:t.id,icon:t.id+":logo",size:"small"},null,8,["color","icon"])]),default:l(()=>[e(v,null,{default:l(()=>[r(f(t.title),1)]),_:2},1024)]),_:2},1032,["to","value"]))),128))]),_:1})]),_:1}),e(S,null,{activator:l(({props:t})=>[e(i,w({"append-icon":"mdi:mdi-menu-down",class:"mx-1px",size:"x-small"},t,{variant:"text"}),{default:l(()=>[r(" settings ")]),_:2},1040)]),default:l(()=>[e(V,{density:"compact"},{default:l(()=>[(n(),p(g,null,_(d,(t,c)=>e(x,{key:c,value:t.id,onClick:t.onClick},{prepend:l(()=>[e(m,{icon:t.icon,size:"small"},null,8,["icon"])]),default:l(()=>[e(v,null,{default:l(()=>[r(f(t.title),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64)),e(x,{to:{name:"settings"}},{prepend:l(()=>[e(m,{icon:"mdi:mdi-cogs",size:"small"})]),default:l(()=>[e(v,null,{default:l(()=>[r("Settings")]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{to:{name:"about"},size:"x-small",variant:"text"},{default:l(()=>[r(" about ")]),_:1}),e(i,{"append-icon":"mdi:mdi-open-in-new",class:"mx-1px",href:"https://nest-desktop.readthedocs.io",size:"x-small",target:"_blank",variant:"text"},{default:l(()=>[r(" help ")]),_:1}),e(y,{class:"mx-1",vertical:""}),e(i,{icon:s(a).state.themeIcon,onClick:o[0]||(o[0]=t=>s(a).toggleTheme()),size:"x-small",title:"Toggle theme",variant:"text"},null,8,["icon"]),e(B),e(y,{class:"mx-1",vertical:""}),(n(!0),p(g,null,_(s(a).currentSimulator.backends,(t,c)=>(n(),u(i,{disabled:!t.state.enabled,key:c,title:t.state.url,onClick:L=>t.update(),size:"x-small",variant:"text"},{default:l(()=>[r(f(t.state.name)+" ",1),e(m,{color:t.state.enabled?t.isOK&&t.isValid?"green":"red":"",class:"mx-1",icon:"mdi:mdi-circle"},null,8,["color"])]),_:2},1032,["disabled","title","onClick"]))),128)),e(y,{class:"mx-1",vertical:""}),e(i,{onClick:o[1]||(o[1]=t=>s(a).state.logsOpen=!s(a).state.logsOpen),icon:"mdi:mdi-menu-open",size:"x-small",title:"Open request logs",variant:"text"})],64))}}),j={class:"mx-4"},G=["innerHTML"],K=k({__name:"AppRequestLogs",setup(z){const a=C(),d={error:"mdi:mdi-alert-circle-outline",success:"mdi:mdi-check-circle-outline"};return(T,o)=>(n(),u(I,{modelValue:s(a).state.logsOpen,"onUpdate:modelValue":o[4]||(o[4]=t=>s(a).state.logsOpen=t),location:"right",temporary:"",width:"400"},{default:l(()=>[e(h,{color:"transparent",density:"compact",title:"Request logs"},{append:l(()=>[e($,{class:"mx-2",density:"compact",modelValue:s(a).state.filterTag,"onUpdate:modelValue":o[0]||(o[0]=t=>s(a).state.filterTag=t),variant:"outlined"},{default:l(()=>[e(i,{color:"error",icon:"mdi:mdi-alert-circle-outline",size:"small",title:"Show only error logs",value:"error",width:"40px"}),e(i,{color:"success",icon:"mdi:mdi-check-circle-outline",size:"small",title:"Show only success logs",value:"success",width:"40px"})]),_:1},8,["modelValue"]),e(i,{icon:"mdi:mdi-playlist-remove",size:"small",title:"Clear all logs",onClick:o[1]||(o[1]=t=>s(a).clearLogs())}),e(i,{icon:"mdi:mdi-menu-close",size:"small",title:"Close request logs",onClick:o[2]||(o[2]=t=>s(a).state.logsOpen=!1)})]),_:1}),b("div",j,[s(a).state.filterTag?(n(),u(i,{key:0,block:"",class:"px-2",density:"compact",variant:"outlined",text:"Show all logs",onClick:o[3]||(o[3]=t=>s(a).state.filterTag="")})):q("",!0)]),e(V,{density:"compact"},{default:l(()=>[(n(!0),p(g,null,_(s(a).state.requestLogs,(t,c)=>O((n(),u(x,{key:c},{default:l(()=>[e(A,{color:t.type,variant:"tonal"},{default:l(()=>[e(h,{color:t.type,density:"compact"},{prepend:l(()=>[e(m,{icon:d[t.type]},null,8,["icon"])]),append:l(()=>[e(i,{icon:"mdi:mdi-close",size:"small",onClick:L=>s(a).state.requestLogs.splice(c,1)},null,8,["onClick"])]),default:l(()=>[e(D,{class:"text-subtitle-1"},{default:l(()=>[r(f(t.date),1)]),_:2},1024)]),_:2},1032,["color"]),e(N,null,{default:l(()=>[b("span",{innerHTML:t.text},null,8,G)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1024)),[[H,s(a).state.filterTag?t.type===s(a).state.filterTag:!0]])),128))]),_:1})]),_:1},8,["modelValue"]))}}),Q=k({__name:"AppLayout",setup(z){const a=M(),d=C();return d.init(a),(T,o)=>{const t=F("router-view");return n(),u(E,null,{default:l(()=>[e(P,{class:"d-print-none",color:"systembar",flat:""},{default:l(()=>[e(U)]),_:1}),e(K),s(d).state.loading?(n(),u(R,{key:0,class:"ma-auto",color:"primary",indeterminate:""})):(n(),u(t,{key:1}))]),_:1})}}});export{Q as default};
