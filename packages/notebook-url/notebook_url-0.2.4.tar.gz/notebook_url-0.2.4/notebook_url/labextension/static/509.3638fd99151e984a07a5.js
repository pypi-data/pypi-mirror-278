"use strict";(self.webpackChunknotebook_url=self.webpackChunknotebook_url||[]).push([[509],{509:(o,t,e)=>{e.r(t),e.d(t,{default:()=>a});var n=e(212),l=e(84),c=e(420);console.log("notebook_to_url_ext is loaded!",l.NotebookPanel);const a={id:"notebook_to_url_ext",autoStart:!0,activate:o=>{console.log("Activating notebook_to_url_ext",o),function(o){var t;console.log(o.shell),null===(t=null==o?void 0:o.shell)||void 0===t||t.layoutModified.connect((()=>{const t=o.shell.currentWidget;if(t&&t instanceof l.NotebookPanel){const o=new c.ToolbarButton({label:"Save to URL",onClick:()=>{!function(o){const t=JSON.stringify(o.context.model.toJSON()),e=n.compressToEncodedURIComponent(t),l=`${window.location.origin}${window.location.pathname}#notebook=${e}`;c.Clipboard.copyToSystem(l),alert("URL copied to clipboard")}(t)},tooltip:"Save notebook content to URL and copy to clipboard"});t.toolbar.insertItem(10,"saveToUrl",o)}}))}(o),o.restored.then((()=>{const t=function(){const o=new URLSearchParams(window.location.hash.slice(1)).get("notebook");if(o){const t=n.decompressFromEncodedURIComponent(o);return JSON.parse(t)}return null}(),e=o.shell.currentWidget;t&&e&&e instanceof l.NotebookPanel&&e.context.model.fromJSON(t)}))}}}}]);