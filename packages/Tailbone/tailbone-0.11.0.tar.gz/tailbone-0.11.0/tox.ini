
[tox]
envlist = py36, py37, py38, py39, py310, py311

# TODO: can remove this when we drop py36 support
# nb. need this for testing older python versions
# https://tox.wiki/en/latest/faq.html#testing-end-of-life-python-versions
requires = virtualenv<20.22.0

[testenv]
deps = rattail-tempmon
extras = tests
commands = pytest {posargs}

[testenv:py37]
# nb. Chameleon 4.3 requires Python 3.9+
deps = Chameleon<4.3

[testenv:coverage]
basepython = python3
extras = tests
commands = pytest --cov=tailbone --cov-report=html

[testenv:docs]
basepython = python3
changedir = docs
extras = docs
commands = sphinx-build -b html -d {envtmpdir}/doctrees -W -T . {envtmpdir}/docs
