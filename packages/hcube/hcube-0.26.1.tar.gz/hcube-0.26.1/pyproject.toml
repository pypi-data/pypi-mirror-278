[tool.poetry]
name = "hcube"
version = "0.26.1"
description = "HCube is a simple ORM for working with hyper-cube OLAP data stored in various backends."
authors = ["Beda Kosata <beda@bigdigdata.com>"]
license = "WTFPL"
include = [
    "LICENSE",
]

[tool.poetry.dependencies]
python = "^3.8.8"
clickhouse-driver = "0.2.6"
python-decouple = "^3.5"
psycopg2-binary = "^2.9.5"
clickhouse-pool = "^0.5.3"

[tool.poetry.group.dev.dependencies]
pytest = "^7.2.0"
pre-commit = "^3.2.2"
pytest-cov = "^4.0.0"
ruff = "^0.1.15"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.ruff]
line-length = 100
ignore = [
    "A001", # Variable `Warning` is shadowing a Python builtin
    "A002", # Argument `id` is shadowing a Python builtin
    "A003", # Class attribute `list` is shadowing a Python builtin
    "DJ008",  # model does not have __str__ method
    "F811", # redefinition of unused '...'
]
select = [
    'A',  # flake8-builtins
    'B',  # flake8-bugbear
    'DJ', # flake8-django
    'E',  # pycodestyle - errors
    'F',  # pyflakes
    'I',  # isort
    'W',  # pycodestyle - warnings
]
target-version = "py38"
fixable = ['I001']  # isort: imports are incorrectly sorted
