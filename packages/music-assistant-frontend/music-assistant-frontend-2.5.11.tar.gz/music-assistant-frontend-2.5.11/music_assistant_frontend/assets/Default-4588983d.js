import{_ as Ot,g as Xt,V as Gt}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_aaaae942_lang-5d81f20d.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{M as $e,_ as jt,a as Kt,i as ut,b as Jt,g as tt}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_d4387993_lang-070a5f76.js";import{e as ce,_ as Me}from"./eventbus-1a74ea4a.js";import{d as M,r as T,o as Be,a as Fe,b as V,M as ue,P as at,c,e as C,w as y,f as r,u as e,g as k,h as X,F as U,$ as ke,i as $,t as w,j as Q,s as t,p as Zt,k as ea,l as J,m as Z,n as ta,q as aa,v as ze,x as rt,y as D,z as I,A as De,B as dt,C as _e,D as ct,E as q,G as mt,H as Ue,I as vt,J as la,K as Qe,L as ae,N as ia,O as Ie,Q as yt,R as pt,S as oa,T as sa,U as na,V as Ce,W,X as A,Y as we,Z as ua,_ as We,a0 as qe,a1 as E,a2 as Ee,a3 as me,a4 as O,a5 as ra,a6 as Ne,a7 as fe,a8 as ft,a9 as da,aa as _t,ab as ca,ac as Ae,ad as xe,ae as ma,af as va,ag as ya,ah as pa,ai as lt,aj as fa,ak as ht,al as _a,am as ha}from"./index-13cec455.js";import{T as ga,V as Se}from"./Toolbar-c1a5714a.js";import{V as he,a as ge,u as Ye}from"./VList-a053873b.js";import{V as Oe,a as de}from"./VCard-7c0bc2b7.js";import{V as gt}from"./VDialog-d88e5297.js";import{V as oe,m as ye,a as ba,b as be,u as Pa,c as ee,d as bt,e as Pt,f as kt,g as Ct,h as ka,i as wt,j as Xe,k as Vt,l as $t,n as Qt,o as It,p as Ca,q as wa,r as Va,s as Te,t as $a,v as Qa,M as Ia,w as H,x as xa,y as Sa,z as Ta}from"./VListItem-3995941d.js";import{V as Ba,a as za}from"./VInfiniteScroll-cb91c423.js";import{u as Ma,m as xt,a as St,b as Aa,c as Wa}from"./layout-5b19be1f.js";import{f as qa,a as Ea,s as La,m as Ra,u as Ha,b as Fa,V as Ge,c as Da}from"./VMenu-693c2219.js";import{m as Ua,V as it,a as Na}from"./VLabel-dc3f418b.js";import{V as Tt,a as Ya,b as Oa,c as Xa,d as Ga}from"./VExpansionPanels-7b5d9b9e.js";import{B as le}from"./Button-a9c1eb8e.js";import{L as Bt}from"./ListItem-359f4456.js";import{V as ja}from"./VToolbar-be936393.js";import{V as Ve}from"./VCardText-3285fd42.js";import{V as Ka}from"./VVirtualScroll-c6e56d95.js";const Ja=K(Ot,[["__scopeId","data-v-aaaae942"]]),je=a=>(Zt("data-v-d3dbeb83"),a=a(),ea(),a),Za=je(()=>$("br",null,null,-1)),el={class:"media-thumb"},tl=je(()=>$("div",{style:{height:"30px"}},null,-1)),al=je(()=>$("div",{style:{height:"30px"}},null,-1)),ll={style:{"margin-left":"-10px","padding-right":"5px"}},il=M({__name:"AddToPlaylistDialog",setup(a){const i=T(!1),n=T([]),l=T([]),u=T(),o=T([]);Be(()=>{ce.on("playlistdialog",async g=>{i.value=!0,o.value=g.items,u.value=g.parentItem,await s()}),Fe(()=>{ce.off("playlistdialog")})});const s=async function(){n.value=[],l.value=[];const g=await V.getLibraryPlaylists(),p=o.value.length?o.value[0]:void 0;for(const v of g.items){if(!v.provider_mappings.filter(b=>b.available).length||!v.is_editable||u.value&&u.value.media_type===ue.PLAYLIST&&v.item_id===u.value.item_id)continue;const h=V.providers[v.provider_mappings[0].provider_instance];(h.domain=="builtin"||h.is_streaming_provider||p!=null&&p.provider_mappings.filter(b=>b.provider_instance==h.instance_id).length)&&n.value.push(v)}for(const v of Object.values(V.providers))v.supported_features.includes(at.PLAYLIST_CREATE)&&v.supported_features.includes(at.PLAYLIST_TRACKS_EDIT)&&(v.domain=="builtin"||v.is_streaming_provider||p!=null&&p.provider_mappings.filter(h=>h.provider_instance==v.instance_id).length)&&l.value.push(v.instance_id)},d=function(g){if(o.value[0].media_type===ue.TRACK)V.addPlaylistTracks(g.item_id,o.value.map(v=>v.uri));else if(o.value[0].media_type===ue.ALBUM){var p=[];V.getAlbumTracks(o.value[0].item_id,o.value[0].provider).then(v=>{p=v,V.addPlaylistTracks(g.item_id,p.map(h=>h.uri))})}m()},f=async function(g){const p=prompt(ke("new_playlist_name"));if(!p)return;const v=await V.createPlaylist(p,g);d(v)},m=function(){i.value=!1};return(g,p)=>(c(),C(gt,{modelValue:i.value,"onUpdate:modelValue":[p[0]||(p[0]=v=>i.value=v),p[1]||(p[1]=v=>{e(t).dialogActive=v})],fullscreen:"",transition:"dialog-bottom-transition"},{default:y(()=>[r(Oe,null,{default:y(()=>[r(ga,{icon:"mdi-playlist-plus",title:e(ke)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:m}]},null,8,["title","menu-items"]),r(he),Za,r(ge,null,{default:y(()=>[(c(!0),k(U,null,X(n.value,v=>(c(),k("div",{key:v.item_id},[r(oe,{onClick:h=>d(v)},{prepend:y(()=>[$("div",el,[r($e,{item:v,size:50},null,8,["item"])])]),title:y(()=>[$("div",null,w(v.name),1)]),subtitle:y(()=>[$("div",null,w(v.owner),1)]),append:y(()=>[v.provider_mappings?(c(),C(Me,{key:0,domain:v.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):Q("",!0)]),_:2},1032,["onClick"])]))),128)),tl,r(he),al,(c(!0),k(U,null,X(l.value,v=>(c(),k("div",{key:v},[r(oe,{onClick:h=>f(v)},{prepend:y(()=>[$("div",ll,[r(Me,{domain:e(V).providers[v].domain,size:50},null,8,["domain"])])]),title:y(()=>[$("div",null,w(e(ke)("new_playlist")),1)]),subtitle:y(()=>[$("div",null,w(e(ke)("create_playlist_on",[e(V).providers[v].name])),1)]),append:y(()=>[r(Me,{domain:e(V).providers[v].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const ol=K(il,[["__scopeId","data-v-d3dbeb83"]]),sl=K(jt,[["__scopeId","data-v-d4387993"]]);const nl=J({scrollable:Boolean,...ye(),...ba(),...be({tag:"main"})},"VMain"),ul=Z()({name:"VMain",props:nl(),setup(a,i){let{slots:n}=i;const{dimensionStyles:l}=Pa(a),{mainStyles:u,layoutIsReady:o}=Ma(),{ssrBootStyles:s}=Ye();return ee(()=>r(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[u.value,s.value,l.value,a.style]},{default:()=>{var d,f;return[a.scrollable?r("div",{class:"v-main__scroller"},[(d=n.default)==null?void 0:d.call(n)]):(f=n.default)==null?void 0:f.call(n)]}})),o}}),rl=M({__name:"View",setup(a){return(i,n)=>{const l=ta("router-view");return c(),C(ul,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:y(()=>{var u,o,s;return[e(t).navigationMenuStyle=="vertical"?(c(),C(Ja,{key:0})):Q("",!0),r(l,null,{default:y(({Component:d})=>[(c(),C(aa(d)))]),_:1}),r(ol),r(sl),r(Ba,{"model-value":e(t).activeAlert!==void 0,color:((u=e(t).activeAlert)==null?void 0:u.type)||"grey",text:(o=e(t).activeAlert)==null?void 0:o.message,"close-on-content-click":"",position:"sticky",timeout:(s=e(t).activeAlert)!=null&&s.persistent?-1:5e3,"onUpdate:modelValue":n[0]||(n[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}});const dl=J({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...bt(),...ye(),...Pt(),...kt(),...Ct(),...xt({name:"bottom-navigation"}),...be({tag:"header"}),...ka({selectedClass:"v-btn--selected"}),...ze()},"VBottomNavigation"),cl=Z()({name:"VBottomNavigation",props:dl(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,i){let{slots:n}=i;const{themeClasses:l}=rt(),{borderClasses:u}=wt(a),{backgroundColorClasses:o,backgroundColorStyles:s}=Xe(D(a,"bgColor")),{densityClasses:d}=Vt(a),{elevationClasses:f}=$t(a),{roundedClasses:m}=Qt(a),{ssrBootStyles:g}=Ye(),p=I(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),v=De(a,"active",a.active),{layoutItemStyles:h,layoutIsReady:b}=St({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>v.value?p.value:0),elementSize:p,active:v,absolute:D(a,"absolute")});return It(a,Ca),dt({VBtn:{baseColor:D(a,"baseColor"),color:D(a,"color"),density:D(a,"density"),stacked:I(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ee(()=>r(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},l.value,o.value,u.value,d.value,f.value,m.value,a.class],style:[s.value,h.value,{height:_e(p.value)},g.value,a.style]},{default:()=>[n.default&&r("div",{class:"v-bottom-navigation__content"},[n.default()])]})),b}});const Ke=Symbol.for("vuetify:v-tabs"),ml=J({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ct(wa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ve=Z()({name:"VTab",props:ml(),setup(a,i){let{slots:n,attrs:l}=i;const{textColorClasses:u,textColorStyles:o}=Va(a,"sliderColor"),s=T(),d=T(),f=I(()=>a.direction==="horizontal"),m=I(()=>{var p,v;return((v=(p=s.value)==null?void 0:p.group)==null?void 0:v.isSelected.value)??!1});function g(p){var h,b;let{value:v}=p;if(v){const B=(b=(h=s.value)==null?void 0:h.$el.parentElement)==null?void 0:b.querySelector(".v-tab--selected .v-tab__slider"),F=d.value;if(!B||!F)return;const L=getComputedStyle(B).color,N=B.getBoundingClientRect(),P=F.getBoundingClientRect(),_=f.value?"x":"y",x=f.value?"X":"Y",z=f.value?"right":"bottom",R=f.value?"width":"height",G=N[_],j=P[_],Y=G>j?N[z]-P[z]:N[_]-P[_],se=Math.sign(Y)>0?f.value?"right":"bottom":Math.sign(Y)<0?f.value?"left":"top":"center",ne=(Math.abs(Y)+(Math.sign(Y)<0?N[R]:P[R]))/Math.max(N[R],P[R])||0,Pe=N[R]/P[R]||0,pe=1.5;Ea(F,{backgroundColor:[L,"currentcolor"],transform:[`translate${x}(${Y}px) scale${x}(${Pe})`,`translate${x}(${Y/pe}px) scale${x}(${(ne-1)/pe+1})`,"none"],transformOrigin:Array(3).fill(se)},{duration:225,easing:La})}}return ee(()=>{const p=Te.filterProps(a);return r(Te,q({symbol:Ke,ref:s,class:["v-tab",a.class],style:a.style,tabindex:m.value?0:-1,role:"tab","aria-selected":String(m.value),active:!1},p,l,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":g}),{...n,default:()=>{var v;return r(U,null,[((v=n.default)==null?void 0:v.call(n))??a.text,!a.hideSlider&&r("div",{ref:d,class:["v-tab__slider",u.value],style:o.value},null)])}})}),qa({},s)}});const vl=a=>{const{touchstartX:i,touchendX:n,touchstartY:l,touchendY:u}=a,o=.5,s=16;a.offsetX=n-i,a.offsetY=u-l,Math.abs(a.offsetY)<o*Math.abs(a.offsetX)&&(a.left&&n<i-s&&a.left(a),a.right&&n>i+s&&a.right(a)),Math.abs(a.offsetX)<o*Math.abs(a.offsetY)&&(a.up&&u<l-s&&a.up(a),a.down&&u>l+s&&a.down(a))};function yl(a,i){var l;const n=a.changedTouches[0];i.touchstartX=n.clientX,i.touchstartY=n.clientY,(l=i.start)==null||l.call(i,{originalEvent:a,...i})}function pl(a,i){var l;const n=a.changedTouches[0];i.touchendX=n.clientX,i.touchendY=n.clientY,(l=i.end)==null||l.call(i,{originalEvent:a,...i}),vl(i)}function fl(a,i){var l;const n=a.changedTouches[0];i.touchmoveX=n.clientX,i.touchmoveY=n.clientY,(l=i.move)==null||l.call(i,{originalEvent:a,...i})}function _l(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:n=>yl(n,i),touchend:n=>pl(n,i),touchmove:n=>fl(n,i)}}function hl(a,i){var d;const n=i.value,l=n!=null&&n.parent?a.parentElement:a,u=(n==null?void 0:n.options)??{passive:!0},o=(d=i.instance)==null?void 0:d.$.uid;if(!l||!o)return;const s=_l(i.value);l._touchHandlers=l._touchHandlers??Object.create(null),l._touchHandlers[o]=s,mt(s).forEach(f=>{l.addEventListener(f,s[f],u)})}function gl(a,i){var o,s;const n=(o=i.value)!=null&&o.parent?a.parentElement:a,l=(s=i.instance)==null?void 0:s.$.uid;if(!(n!=null&&n._touchHandlers)||!l)return;const u=n._touchHandlers[l];mt(u).forEach(d=>{n.removeEventListener(d,u[d])}),delete n._touchHandlers[l]}const zt={mounted:hl,unmounted:gl},bl=zt,Mt=Symbol.for("vuetify:v-window"),At=Symbol.for("vuetify:v-window-group"),Wt=J({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ye(),...be(),...ze()},"VWindow"),ot=Z()({name:"VWindow",directives:{Touch:zt},props:Wt(),emits:{"update:modelValue":a=>!0},setup(a,i){let{slots:n}=i;const{themeClasses:l}=Ue(a),{isRtl:u}=vt(),{t:o}=la(),s=It(a,At),d=T(),f=I(()=>u.value?!a.reverse:a.reverse),m=Qe(!1),g=I(()=>{const _=a.direction==="vertical"?"y":"x",z=(f.value?!m.value:m.value)?"-reverse":"";return`v-window-${_}${z}-transition`}),p=Qe(0),v=T(void 0),h=I(()=>s.items.value.findIndex(_=>s.selected.value.includes(_.id)));ae(h,(_,x)=>{const z=s.items.value.length,R=z-1;z<=2?m.value=_<x:_===R&&x===0?m.value=!0:_===0&&x===R?m.value=!1:m.value=_<x}),ia(Mt,{transition:g,isReversed:m,transitionCount:p,transitionHeight:v,rootRef:d});const b=I(()=>a.continuous||h.value!==0),B=I(()=>a.continuous||h.value!==s.items.value.length-1);function F(){b.value&&s.prev()}function L(){B.value&&s.next()}const N=I(()=>{const _=[],x={icon:u.value?a.nextIcon:a.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:s.prev,"aria-label":o("$vuetify.carousel.prev")};_.push(b.value?n.prev?n.prev({props:x}):r(Te,x,null):r("div",null,null));const z={icon:u.value?a.prevIcon:a.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:s.next,"aria-label":o("$vuetify.carousel.next")};return _.push(B.value?n.next?n.next({props:z}):r(Te,z,null):r("div",null,null)),_}),P=I(()=>a.touch===!1?a.touch:{...{left:()=>{f.value?F():L()},right:()=>{f.value?L():F()},start:x=>{let{originalEvent:z}=x;z.stopPropagation()}},...a.touch===!0?{}:a.touch});return ee(()=>Ie(r(a.tag,{ref:d,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},l.value,a.class],style:a.style},{default:()=>{var _,x;return[r("div",{class:"v-window__container",style:{height:v.value}},[(_=n.default)==null?void 0:_.call(n,{group:s}),a.showArrows!==!1&&r("div",{class:"v-window__controls"},[N.value])]),(x=n.additional)==null?void 0:x.call(n,{group:s})]}}),[[yt("touch"),P.value]])),{group:s}}}),Pl=J({...ct(Wt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),kl=Z()({name:"VTabsWindow",props:Pl(),emits:{"update:modelValue":a=>!0},setup(a,i){let{slots:n}=i;const l=pt(Ke,null),u=De(a,"modelValue"),o=I({get(){var s;return u.value!=null||!l?u.value:(s=l.items.value.find(d=>l.selected.value.includes(d.id)))==null?void 0:s.value},set(s){u.value=s}});return ee(()=>{const s=ot.filterProps(a);return r(ot,q({_as:"VTabsWindow"},s,{modelValue:o.value,"onUpdate:modelValue":d=>o.value=d,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),n)}),{}}}),qt=J({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ye(),...$a(),...Ra()},"VWindowItem"),st=Z()({name:"VWindowItem",directives:{Touch:bl},props:qt(),emits:{"group:selected":a=>!0},setup(a,i){let{slots:n}=i;const l=pt(Mt),u=Qa(a,At),{isBooted:o}=Ye();if(!l||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=Qe(!1),d=I(()=>o.value&&(l.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function f(){!s.value||!l||(s.value=!1,l.transitionCount.value>0&&(l.transitionCount.value-=1,l.transitionCount.value===0&&(l.transitionHeight.value=void 0)))}function m(){var b;s.value||!l||(s.value=!0,l.transitionCount.value===0&&(l.transitionHeight.value=_e((b=l.rootRef.value)==null?void 0:b.clientHeight)),l.transitionCount.value+=1)}function g(){f()}function p(b){s.value&&sa(()=>{!d.value||!s.value||!l||(l.transitionHeight.value=_e(b.clientHeight))})}const v=I(()=>{const b=l.isReversed.value?a.reverseTransition:a.transition;return d.value?{name:typeof b!="string"?l.transition.value:b,onBeforeEnter:m,onAfterEnter:f,onEnterCancelled:g,onBeforeLeave:m,onAfterLeave:f,onLeaveCancelled:g,onEnter:p}:!1}),{hasContent:h}=Ha(a,u.isSelected);return ee(()=>r(Ia,{transition:v.value,disabled:!o.value},{default:()=>{var b;return[Ie(r("div",{class:["v-window-item",u.selectedClass.value,a.class],style:a.style},[h.value&&((b=n.default)==null?void 0:b.call(n))]),[[oa,u.isSelected.value]])]}})),{groupItem:u}}}),Cl=J({...qt()},"VTabsWindowItem"),wl=Z()({name:"VTabsWindowItem",props:Cl(),setup(a,i){let{slots:n}=i;return ee(()=>{const l=st.filterProps(a);return r(st,q({_as:"VTabsWindowItem"},l,{class:["v-tabs-window-item",a.class],style:a.style}),n)}),{}}});function Vl(a){return a?a.map(i=>na(i)?i:{text:i,value:i}):[]}const $l=J({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ua({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Pt(),...be()},"VTabs"),Le=Z()({name:"VTabs",props:$l(),emits:{"update:modelValue":a=>!0},setup(a,i){let{attrs:n,slots:l}=i;const u=De(a,"modelValue"),o=I(()=>Vl(a.items)),{densityClasses:s}=Vt(a),{backgroundColorClasses:d,backgroundColorStyles:f}=Xe(D(a,"bgColor")),{scopeId:m}=Fa();return dt({VTab:{color:D(a,"color"),direction:D(a,"direction"),stacked:D(a,"stacked"),fixed:D(a,"fixedTabs"),sliderColor:D(a,"sliderColor"),hideSlider:D(a,"hideSlider")}}),ee(()=>{const g=it.filterProps(a),p=!!(l.window||a.items.length>0);return r(U,null,[r(it,q(g,{modelValue:u.value,"onUpdate:modelValue":v=>u.value=v,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},s.value,d.value,a.class],style:[{"--v-tabs-height":_e(a.height)},f.value,a.style],role:"tablist",symbol:Ke},m,n),{default:()=>{var v;return[((v=l.default)==null?void 0:v.call(l))??o.value.map(h=>{var b;return((b=l.tab)==null?void 0:b.call(l,{item:h}))??r(ve,q(h,{key:h.text,value:h.value}),{default:l[`tab.${h.value}`]?()=>{var B;return(B=l[`tab.${h.value}`])==null?void 0:B.call(l,{item:h})}:void 0})})]}}),p&&r(kl,q({modelValue:u.value,"onUpdate:modelValue":v=>u.value=v,key:"tabs-window"},m),{default:()=>{var v;return[o.value.map(h=>{var b;return((b=l.item)==null?void 0:b.call(l,{item:h}))??r(wl,{value:h.value},{default:()=>{var B;return(B=l[`item.${h.value}`])==null?void 0:B.call(l,{item:h})}})}),(v=l.window)==null?void 0:v.call(l)]}})])}),{}}}),Ql={class:"menuButton"},Il={class:"menuButton"},xl={class:"menuButton"},Sl=M({__name:"BottomNavigation",props:{height:{}},setup(a){const i=Xt(),n=I(()=>{for(const l of i)if(Ce.currentRoute.value.path.startsWith(l.path))return!W("tablet")&&l.isLibraryNode?"library":l.label;return""});return(l,u)=>(c(),C(cl,{height:l.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:y(()=>[e(W)("tablet")?(c(),C(Le,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":n.value,color:"accent","center-active":""},{default:y(()=>[(c(!0),k(U,null,X(e(i),o=>(c(),C(ve,{key:o.label,to:o.path,value:o.label},{default:y(()=>[r(H,{size:"xx-large"},{default:y(()=>[A(w(o.icon),1)]),_:2},1024),$("span",Ql,w(l.$t(o.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(c(),C(Le,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":n.value,color:"accent"},{default:y(()=>[(c(!0),k(U,null,X(e(i).filter(o=>!o.isLibraryNode),o=>(c(),C(ve,{key:o.label,to:o.path,value:o.label},{default:y(()=>[r(H,{size:"xx-large"},{default:y(()=>[A(w(o.icon),1)]),_:2},1024),$("span",Il,w(l.$t(o.label)),1)]),_:2},1032,["to","value"]))),128)),r(Ge,null,{activator:y(({props:o})=>[r(ve,q({key:"library"},o,{value:"library"}),{default:y(()=>[r(H,{size:"xx-large"},{default:y(()=>[A("mdi-bookshelf")]),_:1}),$("span",xl,w(l.$t("library")),1)]),_:2},1040)]),default:y(()=>[r(ge,null,{default:y(()=>[(c(!0),k(U,null,X(e(i).filter(o=>o.isLibraryNode),o=>(c(),C(oe,{key:o.label,title:l.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}});const Tl={style:{width:"100%"}},Bl={key:0,style:{display:"flex",flex:"1 1 auto","align-items":"center"}},zl={style:{"z-index":"1"},class:"text-caption"},Ml={key:1,style:{width:"100%","padding-bottom":"0px"}},Re=M({__name:"PlayerTimeline",props:{isProgressBar:{type:Boolean,default:!1},color:{default:"accent"}},setup(a){const i=a,n=T(!1),l=T(!0),u=T(!1),o=T(0),s=T(0),d=I(()=>t.curQueueItem?n.value?`-${we(t.curQueueItem.duration-m.value)}`:`${we(m.value)}`:"0:00"),f=I(()=>{if(!t.curQueueItem)return"0:00";const h=t.curQueueItem.duration;return we(h)}),m=I(()=>u.value?(s.value=o.value,o.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);ae(m,h=>{u.value||(o.value=h)});const g=function(){u.value=!0},p=()=>{u.value=!1,v(s.value)},v=h=>{var b;u.value||V.queueCommandSeek(((b=t.activePlayerQueue)==null?void 0:b.queue_id)||"",Math.round(h))};return(h,b)=>{var B,F;return c(),k("div",Tl,[e(t).activePlayerQueue&&!h.isProgressBar?(c(),k("div",Bl,[$("div",{class:"text-caption",style:{cursor:"pointer","z-index":"1"},onClick:b[0]||(b[0]=L=>n.value?n.value=!1:n.value=!0)},w(d.value),1),r(Tt,{modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=L=>o.value=L),disabled:!e(t).curQueueItem||((B=e(t).curQueueItem.media_item)==null?void 0:B.media_type)!=e(ue).TRACK,color:i.color,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":l.value?0:10,onTouchstart:b[2]||(b[2]=L=>l.value=!1),onTouchend:b[3]||(b[3]=L=>l.value=!0),onMouseenter:b[4]||(b[4]=L=>l.value=!1),onMouseleave:b[5]||(b[5]=L=>l.value=!0),onStart:g,onEnd:p},null,8,["modelValue","disabled","color","max","thumb-size"]),$("div",zl,w(f.value),1)])):e(t).activePlayerQueue&&h.isProgressBar?(c(),k("div",Ml,[r(xa,{modelValue:o.value,"onUpdate:modelValue":b[6]||(b[6]=L=>o.value=L),disabled:!e(t).activePlayerQueue||!e(t).curQueueItem||((F=e(t).activePlayerQueue)==null?void 0:F.items)==0,height:"70",color:e(ua)(i.color,.15),"bg-color":i.color,"bg-opacity":1,style:{position:"absolute","border-radius":"10px"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration},null,8,["modelValue","disabled","color","bg-color","max"])])):Q("",!0)])}}}),Al=M({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},setup(a){const i=a,n=()=>{if(l.value){const o=l.value.offsetWidth,s=l.value.offsetHeight,d=Math.min(o,s);u.value.$el.style.fontSize=`${d}px`}},l=T(),u=T();return Be(()=>{n(),window.addEventListener("resize",n)}),Fe(()=>{window.removeEventListener("resize",n)}),(o,s)=>(c(),k("div",{ref_key:"responsiveIconHolder",ref:l,class:qe([i.type=="btn"?"responsive-icon-holder-btn":"responsive-icon-holder",{disabled:o.disabled}]),style:E({width:i.staticWidth?i.staticWidth:i.width,height:i.staticWidth?i.staticWidth:i.height,maxHeight:i.staticHeight?i.staticHeight:i.maxHeight,maxWidth:i.staticWidth?i.staticWidth:i.maxWidth,minHeight:i.staticHeight?i.staticHeight:i.minHeight,minWidth:i.staticWidth?i.staticWidth:i.minWidth})},[r(Se,{"model-value":o.badge==!0,color:"error",dot:""},{default:y(()=>[o.type==="icon"?(c(),C(H,{key:0,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",color:o.color?o.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null},We({_:2},[X(o.$slots,(d,f)=>({name:f,fn:y(()=>[Ee(o.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height"])):o.type==="btn"?(c(),C(H,{key:1,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",style:{cursor:"pointer"},color:o.color?o.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:o.disabled},We({_:2},[X(o.$slots,(d,f)=>({name:f,fn:y(()=>[Ee(o.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):Q("",!0)]),_:3},8,["model-value"])],6))}});const ie=K(Al,[["__scopeId","data-v-2c0644be"]]),Et=M({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const i=a;return(n,l)=>{var u,o,s,d,f,m,g,p,v,h;return i.isVisible?(c(),C(ie,q({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,color:e(me)((s=i.icon)==null?void 0:s.color,[[((d=e(t).activePlayerQueue)==null?void 0:d.repeat_mode)==e(O).OFF,null],[((f=e(t).activePlayerQueue)==null?void 0:f.repeat_mode)==e(O).ALL,"primary"],[((m=e(t).activePlayerQueue)==null?void 0:m.repeat_mode)==e(O).ONE,"primary"]]),icon:e(me)((g=i.icon)==null?void 0:g.icon,[[((p=e(t).activePlayerQueue)==null?void 0:p.repeat_mode)==e(O).OFF,"mdi-repeat-off"],[((v=e(t).activePlayerQueue)==null?void 0:v.repeat_mode)==e(O).ALL,"mdi-repeat"],[((h=e(t).activePlayerQueue)==null?void 0:h.repeat_mode)==e(O).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:l[0]||(l[0]=b=>{var B,F,L,N;return e(V).queueCommandRepeat(((B=e(t).activePlayerQueue)==null?void 0:B.queue_id)||"",e(me)(null,[[((F=e(t).activePlayerQueue)==null?void 0:F.repeat_mode)==e(O).OFF,e(O).ONE],[((L=e(t).activePlayerQueue)==null?void 0:L.repeat_mode)==e(O).ALL,e(O).OFF],[((N=e(t).activePlayerQueue)==null?void 0:N.repeat_mode)==e(O).ONE,e(O).ALL]]))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Lt=M({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const i=a;return(n,l)=>{var u,o,s,d,f,m,g;return i.isVisible?(c(),C(ie,q({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,color:e(me)((s=i.icon)==null?void 0:s.color,[[(d=e(t).activePlayerQueue)==null?void 0:d.shuffle_enabled,"primary",""]]),icon:e(me)((f=i.icon)==null?void 0:f.icon,[[(m=e(t).activePlayerQueue)==null?void 0:m.shuffle_enabled,"mdi-shuffle"],[((g=e(t).activePlayerQueue)==null?void 0:g.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:l[0]||(l[0]=p=>{var v,h;return e(V).queueCommandShuffle(((v=e(t).activePlayerQueue)==null?void 0:v.queue_id)||"",!((h=e(t).activePlayerQueue)!=null&&h.shuffle_enabled))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Rt=M({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const i=a;return(n,l)=>{var u,o,s,d,f,m;return e(t).activePlayerQueue&&((u=e(t).activePlayerQueue)!=null&&u.active)&&i.isVisible?(c(),C(ie,q({key:0},i.icon,{disabled:e(t).activePlayerQueue&&!((o=e(t).activePlayerQueue)!=null&&o.active)&&((s=e(t).activePlayerQueue)==null?void 0:s.items)==0,icon:((d=e(t).activePlayerQueue)==null?void 0:d.state)=="playing"?i.withCircle?"mdi-pause-circle":"mdi-pause":i.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:l[0]||(l[0]=g=>e(V).queueCommandPlayPause(e(t).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):((f=e(t).activePlayer)==null?void 0:f.state)==e(ra).PLAYING&&i.isVisible?(c(),C(ie,q({key:1},i.icon,{icon:"mdi-stop",type:"btn",onClick:l[1]||(l[1]=g=>e(V).queueCommandStop(e(t).activePlayer.player_id))}),null,16)):i.isVisible?(c(),C(ie,q({key:2},i.icon,{disabled:((m=e(t).activePlayerQueue)==null?void 0:m.items)==0,icon:i.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:l[2]||(l[2]=g=>{var p;return e(V).queueCommandPlay(((p=e(t).activePlayerQueue)==null?void 0:p.queue_id)||e(t).activePlayer.player_id)})}),null,16,["disabled","icon"])):Q("",!0)}}}),Ht=M({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const i=a;return(n,l)=>{var u,o;return i.isVisible?(c(),C(ie,q({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,icon:"mdi-skip-previous-outline",type:"btn",onClick:l[0]||(l[0]=s=>e(V).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Ft=M({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const i=a;return(n,l)=>{var u,o;return i.isVisible?(c(),C(ie,q({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,icon:"mdi-skip-next-outline",type:"btn",onClick:l[0]||(l[0]=s=>e(V).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Wl={key:0,style:{display:"inline-flex"}},ql={key:0,class:"player-controls-elements"},El={key:1,class:"player-controls-elements"},Ll={key:2},Rl={key:3,class:"player-controls-elements"},Hl={key:4,class:"player-controls-elements"},nt=M({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){const i=a;return(n,l)=>{var u,o,s,d,f;return i.visibleComponents?(c(),k("div",Wl,[i.visibleComponents&&((u=i.visibleComponents.shuffle)!=null&&u.isVisible)?(c(),k("div",ql,[r(Lt,{class:"media-controls-item",icon:i.visibleComponents.shuffle.icon},null,8,["icon"])])):Q("",!0),i.visibleComponents&&((o=i.visibleComponents.previous)!=null&&o.isVisible)?(c(),k("div",El,[r(Ht,{class:"media-controls-item",icon:i.visibleComponents.previous.icon},null,8,["icon"])])):Q("",!0),i.visibleComponents&&((s=i.visibleComponents.play)!=null&&s.isVisible)?(c(),k("div",Ll,[r(Rt,{class:"media-controls-item","with-circle":i.visibleComponents.play.withCircle,icon:i.visibleComponents.play.icon},null,8,["with-circle","icon"])])):Q("",!0),i.visibleComponents&&((d=i.visibleComponents.next)!=null&&d.isVisible)?(c(),k("div",Rl,[r(Ft,{icon:i.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0),i.visibleComponents&&((f=i.visibleComponents.repeat)!=null&&f.isVisible)?(c(),k("div",Hl,[r(Et,{icon:i.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0)])):Q("",!0)}}});const Dt=M({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const i=a,n=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(l,u)=>{var o,s,d;return i.isVisible?(c(),C(ie,q({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((o=e(t).activePlayerQueue)!=null&&o.active)||((s=e(t).activePlayerQueue)==null?void 0:s.items)==0,icon:"mdi-playlist-play",color:e(me)((d=i.icon)==null?void 0:d.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:n}),null,16,["disabled","color"])):Q("",!0)}}}),Fl={key:2,class:"line-clamp-1 no_transform"},Ut=M({__name:"SpeakerBtn",props:{color:{},responsive:{type:Boolean}},setup(a){const i=a,n=I(()=>{var u;if(!t.activePlayer)return 0;let l=0;for(const o of t.activePlayer.group_childs){const s=(u=V)==null?void 0:u.players[o];s&&s.available&&s.powered&&l++}return l});return(l,u)=>(c(),C(le,{variant:"icon",ripple:!1,icon:!!(l.responsive&&!e(W)("bp6")),onClick:u[0]||(u[0]=o=>e(t).showPlayersMenu=!0)},{default:y(()=>{var o,s;return[(o=e(t).activePlayer)!=null&&o.group_childs.length?(c(),C(Se,{key:0,size:"small",content:n.value},{default:y(()=>[r(H,{color:i.color?l.color:"",size:24},{default:y(()=>[A("mdi-speaker-multiple")]),_:1},8,["color"])]),_:1},8,["content"])):(c(),C(H,{key:1,color:i.color?l.color:"",size:24},{default:y(()=>[A("mdi-speaker")]),_:1},8,["color"])),!l.responsive||e(W)("bp6")?(c(),k("span",Fl,w(e(Ne)(((s=e(t).activePlayerQueue)==null?void 0:s.display_name)||l.$t("no_player"),e(W)("bp7")?16:8)),1)):Q("",!0)]}),_:1},8,["icon"]))}});const Dl={props:{width:String,height:String,style:String,isPowered:Boolean},emits:["update:model-value"],setup(a,i){const n=T(!0),l=I(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:n.value?0:10,step:2,elevation:0,disabled:!a.isPowered,style:`width: ${a.width}; height:${a.height}; display: inline-grid; ${a.style}`})),u=I(()=>({...l.value,...i}));return{isThumbHidden:n,playerVolumeProps:u,onWheel:({deltaY:s})=>{const d=u.value.step,f=i.attrs["model-value"],m=s<0?d:-d;i.emit("update:model-value",f+m)}}}};function Ul(a,i,n,l,u,o){return c(),C(Tt,q(l.playerVolumeProps,{onTouchstart:i[0]||(i[0]=s=>l.isThumbHidden=!1),onTouchend:i[1]||(i[1]=s=>l.isThumbHidden=!0),onMouseenter:i[2]||(i[2]=s=>l.isThumbHidden=!1),onMouseleave:i[3]||(i[3]=s=>l.isThumbHidden=!0),onWheel:l.onWheel,"onUpdate:modelValue":i[4]||(i[4]=s=>a.$emit("update:model-value",s))}),We({_:2},[X(a.$slots,(s,d)=>({name:d,fn:y(()=>[Ee(a.$slots,d,{},void 0,!0)])}))]),1040,["onWheel"])}const He=K(Dl,[["render",Ul],["__scopeId","data-v-a6e8aec7"]]),Nl={class:"text-center"},Yl={class:"text-caption"},Ol={class:"text-center"},Xl={key:0,class:"text-caption"},Gl={key:1,class:"text-caption"},jl={key:0,class:"syncbtn"},Kl={key:1,class:"syncbtn"},Jl=M({__name:"VolumeControl",props:{player:{}},setup(a){const i=function(l){var o;const u=[];l.type!=fe.GROUP&&l.type!=fe.SYNC_GROUP&&u.push(l);for(const s of l.group_childs){const d=(o=V)==null?void 0:o.players[s];d&&d.available&&!u.includes(d)&&u.push(d)}return u.sort((s,d)=>s.display_name.toUpperCase()>d.display_name.toUpperCase()?1:-1),u},n=function(l,u){l.type==fe.GROUP||l.type==fe.SYNC_GROUP||l.group_childs.length>0?V.playerCommandGroupPower(l.player_id,u):V.playerCommandPower(l.player_id,u)};return(l,u)=>(c(),C(ge,{style:{overflow:"hidden"},lines:"two"},{default:y(()=>[l.player.group_childs.length>0?(c(),C(oe,{key:0},{prepend:y(()=>[$("div",{style:E(l.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("div",Nl,[r(le,{icon:"",style:{height:"25px !important"},onClick:u[0]||(u[0]=o=>n(l.player,!l.player.powered))},{default:y(()=>[r(H,{size:25,icon:l.player.volume_muted?"mdi-volume-off":"mdi-power"},null,8,["icon"])]),_:1}),$("div",Yl,w(l.player.group_volume),1)])],4)]),default:y(()=>[$("div",{class:"volumesliderrow",style:E(l.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,w(e(ft)(l.player,27)),1),r(He,{class:"vc-slider",width:"100%",color:"secondary","is-powered":l.player.powered,"model-value":Math.round(l.player.group_volume),"onUpdate:modelValue":u[1]||(u[1]=o=>e(V).playerCommandGroupVolume(l.player.player_id,o))},null,8,["is-powered","model-value"])],4)]),_:1})):Q("",!0),l.player.group_childs.length>0?(c(),C(he,{key:1,style:{"margin-top":"7px","margin-bottom":"7px"}})):Q("",!0),(c(!0),k(U,null,X(i(l.player),o=>(c(),C(oe,{key:o.player_id,style:E(o.powered?"opacity: 0.75":"opacity: 0.5")},{prepend:y(()=>[$("div",null,[$("div",Ol,[r(le,{icon:"",style:{height:"25px !important"},onClick:s=>e(V).playerCommandPowerToggle(o.player_id)},{default:y(()=>[r(H,{size:25,icon:"mdi-power"})]),_:2},1032,["onClick"]),o.volume_muted?(c(),k("div",Xl,w(l.$t("muted")),1)):(c(),k("div",Gl,w(o.volume_level),1))])])]),default:y(()=>[$("div",{class:"volumesliderrow",style:E(o.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,w(e(Ne)(o.display_name,27)),1),r(He,{class:"vc-slider",width:"100%",color:"secondary","is-powered":o.powered,"model-value":Math.round(o.volume_level),"onUpdate:modelValue":s=>e(V).playerCommandVolumeSet(o.player_id,s)},null,8,["is-powered","model-value","onUpdate:modelValue"])],4)]),append:y(()=>[$("div",{style:E(o.powered?"opacity: 0.75":"opacity: 0.5")},[!o.synced_to&&o.can_sync_with.length&&Object.values(e(V).players).filter(s=>!s.synced_to&&s.can_sync_with.includes(o.player_id)).length>0?(c(),k("div",jl,[r(Ge,{location:"bottom end",style:{"z-index":"999999"}},{activator:y(({props:s})=>[r(le,q({icon:"",ref_for:!0},s),{default:y(()=>[r(H,null,{default:y(()=>[A("mdi-link-variant")]),_:1})]),_:2},1040)]),default:y(()=>[r(ge,null,{default:y(()=>[r(de,null,{default:y(()=>[A(w(l.$t("sync_player_to")),1)]),_:1}),(c(!0),k(U,null,X(Object.values(e(V).players).filter(s=>!s.synced_to&&s.can_sync_with.includes(o.player_id)),s=>(c(),C(Bt,{key:s.player_id,title:s.display_name,onClick:d=>e(V).playerCommandSync(o.player_id,s.player_id)},null,8,["title","onClick"]))),128)),r(he)]),_:2},1024)]),_:2},1024)])):Q("",!0),o.synced_to?(c(),k("div",Kl,[r(le,{icon:"",onClick:s=>e(V).playerCommandUnSync(o.player_id)},{default:y(()=>[r(H,null,{default:y(()=>[A("mdi-link-variant-off")]),_:1})]),_:2},1032,["onClick"])])):Q("",!0)],4)]),_:2},1032,["style"]))),128))]),_:1}))}});const Nt=K(Jl,[["__scopeId","data-v-902945d8"]]),Zl={key:0},ei={key:0},ti={class:"text-caption"},ai={key:1},li=M({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const i=a,n=T(!1);return(l,u)=>i.isVisible&&e(t).activePlayer?(c(),k("div",Zl,[r(Ge,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=o=>n.value=o),class:"volume-control-dialog","close-on-content-click":!1,scrim:l.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:y(({props:o})=>{var s,d;return[e(W)("bp5")||!l.responsiveVolumeSize?(c(),k("div",ei,[r(He,{style:"margin-right: 0px; margin-left: 0px;",width:l.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((s=e(t).activePlayer)==null?void 0:s.group_volume)||0):Math.round(((d=e(t).activePlayer)==null?void 0:d.volume_level)||0),"onUpdate:modelValue":u[0]||(u[0]=f=>{var m,g;return e(t).activePlayer.group_childs.length>0?e(V).playerCommandGroupVolume(((m=e(t).activePlayer)==null?void 0:m.player_id)||"",f):e(V).playerCommandVolumeSet(((g=e(t).activePlayer)==null?void 0:g.player_id)||"",f)})},{prepend:y(()=>[r(le,q({variant:"icon",size:"48",ripple:!1},{...o}),{default:y(()=>{var f,m;return[r(H,{color:i.color?l.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),$("div",ti,w(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).activePlayer)==null?void 0:m.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(c(),k("div",ai,[r(le,q({...o},{size:"48",variant:"icon"}),{default:y(()=>{var f,m;return[r(H,{color:i.color?l.color:"",icon:"mdi-volume-high"},null,8,["color"]),$("div",{class:"text-caption",style:E({color:i.color?l.color:""})},w(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).activePlayer)==null?void 0:m.volume_level)||0)),5)]}),_:2},1040)]))]}),default:y(()=>[r(Oe,{"min-width":300},{default:y(()=>[r(ge,{style:{overflow:"hidden"},lines:"two"},{default:y(()=>{var o,s,d;return[r(oe,{density:"compact","two-line":"",title:(o=e(t).activePlayer)==null?void 0:o.display_name.substring(0,25),subtitle:(s=e(t).activePlayer)!=null&&s.powered?l.$t("state."+((d=e(t).activePlayer)==null?void 0:d.state)):l.$t("state.off")},{prepend:y(()=>[r(H,{size:"50",icon:e(t).activePlayer.icon,color:"primary"},null,8,["icon"])]),_:1},8,["title","subtitle"]),r(he),e(t).activePlayer?(c(),C(Nt,{key:0,player:e(t).activePlayer},null,8,["player"])):Q("",!0)]}),_:1})]),_:1})]),_:1},8,["modelValue","scrim"])])):Q("",!0)}});const Yt=K(li,[["__scopeId","data-v-e73a7beb"]]),ii={class:"main"},oi={key:0,class:"main-media-details"},si={class:"main-media-details-image"},ni={class:"main-media-details-track-info"},ui={key:0},ri={style:{margin:"auto","padding-top":"20px"}},di={key:1,class:"main-queue-items"},ci={class:"queue-items-scroll-box"},mi={class:"media-thumb listitem-media-thumb"},vi={key:0},yi={class:"player-bottom"},pi={style:{height:"50px"}},fi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},_i={class:"media-controls"},hi=M({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{t:i}=da(),{name:n}=_t(),l=a,u=T([]),o=T(""),s=T(0),d=I(()=>t.activePlayerQueue?u.value.slice(t.activePlayerQueue.current_index):[]),f=I(()=>t.activePlayerQueue?u.value.slice(0,t.activePlayerQueue.current_index):[]),m=I(()=>{switch(n.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),g=I(()=>{switch(n.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),p=function(P){t.showFullscreenPlayer=!1,Ce.push({name:P.media_type,params:{itemId:P.item_id,provider:P.provider}})},v=function(P){t.globalSearchTerm=P,Ce.push({name:"search"}),t.showFullscreenPlayer=!1},h=function(P,_){var R,G,j,Y,se,re,ne;const x=u.value.indexOf(_),z=[{label:"play_now",labelArgs:[],action:()=>{B(_,"play_now")},icon:"mdi-play-circle-outline",disabled:x===((R=t.activePlayerQueue)==null?void 0:R.current_index)||x===((G=t.activePlayerQueue)==null?void 0:G.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{B(_,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:x<=(((j=t.activePlayerQueue)==null?void 0:j.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{B(_,"up")},icon:"mdi-arrow-up",disabled:x<=(((Y=t.activePlayerQueue)==null?void 0:Y.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{B(_,"down")},icon:"mdi-arrow-down",disabled:x<=(((se=t.activePlayerQueue)==null?void 0:se.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{B(_,"delete")},icon:"mdi-delete",disabled:x<=(((re=t.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)}];((ne=_==null?void 0:_.media_item)==null?void 0:ne.media_type)==ue.TRACK&&z.push({label:"show_info",labelArgs:[],action:()=>{p(_.media_item)},icon:"mdi-information-outline",disabled:!1}),ce.emit("contextmenu",{items:z,posX:P.clientX,posY:P.clientY})},b=function(P){const _=[{label:"settings.player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,Ce.push(`/settings/editplayer/${t.activePlayerQueue.queue_id}`)},icon:"mdi-cog-outline"},{label:"queue_clear",labelArgs:[],action:()=>{V.queueCommandClear(t.activePlayerQueue.queue_id)},icon:"mdi-cancel"},{label:t.activePlayerQueue.shuffle_enabled?"shuffle_enabled":"shuffle_disabled",labelArgs:[],action:()=>{V.queueCommandShuffleToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-shuffle":"mdi-shuffle-disabled"},{label:"repeat_mode",labelArgs:[i(`repeatmode.${t.activePlayerQueue.repeat_mode}`)],action:()=>{V.queueCommandRepeatToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-repeat":"mdi-repeat-off"}];ce.emit("contextmenu",{items:_,posX:P.clientX,posY:P.clientY})},B=function(P,_){var x,z,R,G,j;!P||!t.activePlayerQueue||(_=="play_now"?V.queueCommandPlayIndex((x=t.activePlayerQueue)==null?void 0:x.queue_id,P.queue_item_id):_=="move_next"?V.queueCommandMoveNext((z=t.activePlayerQueue)==null?void 0:z.queue_id,P.queue_item_id):_=="up"?V.queueCommandMoveUp((R=t.activePlayerQueue)==null?void 0:R.queue_id,P.queue_item_id):_=="down"?V.queueCommandMoveDown((G=t.activePlayerQueue)==null?void 0:G.queue_id,P.queue_item_id):_=="delete"&&V.queueCommandDelete((j=t.activePlayerQueue)==null?void 0:j.queue_id,P.queue_item_id))},F=async function(P=!1){if(P&&(u.value=[]),t.activePlayerQueue){const _=u.value.length,x=(t.activePlayerQueue.current_index||0)+50,z=await V.getPlayerQueueItems(t.activePlayerQueue.queue_id,x,_);u.value.push(...z.items)}},L=function({done:P}){var _;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){P("empty");return}if(u.value.length>=((_=t.activePlayerQueue)==null?void 0:_.items)){P("empty");return}F(!1).then(()=>{P("ok")})};Be(()=>{const P=V.subscribe(ca.QUEUE_ITEMS_UPDATED,()=>{F(!0)});Fe(P)});const N=function(P){var x;if(!((x=t.curQueueItem)!=null&&x.media_item))return;if(!t.curQueueItem.media_item.favorite){V.toggleFavorite(t.curQueueItem.media_item);return}const _=[{label:"favorites_remove",labelArgs:[],action:()=>{V.toggleFavorite(t.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{ce.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];ce.emit("contextmenu",{items:_,posX:P.clientX,posY:P.clientY})};return ae(()=>t.showQueueItems,P=>{P&&F(!0)},{immediate:!0}),ae(()=>l.colorPalette,P=>{!P.darkColor||!P.lightColor?o.value=xe.theme.current.value.dark?"#000":"#fff":o.value=xe.theme.current.value.dark?P.darkColor:P.lightColor}),(P,_)=>e(t).showPlayersMenu?Q("",!0):(c(),C(gt,{key:0,modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":_[9]||(_[9]=x=>e(t).showFullscreenPlayer=x),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:y(()=>[r(Oe,{color:e(ma)(o.value,77,40)},{default:y(()=>{var x,z,R,G,j,Y,se,re,ne,Pe,pe,Je,Ze,et;return[r(ja,{class:"v-toolbar-default",color:"transparent"},{prepend:y(()=>[r(le,{icon:"",onClick:_[0]||(_[0]=S=>e(t).showFullscreenPlayer=!1)},{default:y(()=>[r(H,{icon:"mdi-chevron-down"})]),_:1})]),append:y(()=>[r(le,{icon:"",onClick:_[1]||(_[1]=S=>e(t).showFullscreenPlayer=!1)},{default:y(()=>[r(H,{icon:"mdi-dots-vertical",onClick:Ae(b,["stop"])})]),_:1})]),_:1}),$("div",ii,[e(W)("bp7")||!e(t).showQueueItems?(c(),k("div",oi,[$("div",si,[r($e,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])]),$("div",ni,[(x=e(t).curQueueItem)!=null&&x.media_item?(c(),C(Ve,{key:0,style:E(`font-size: ${m.value};cursor:pointer;`),onClick:_[2]||(_[2]=S=>p(e(t).curQueueItem.media_item))},{default:y(()=>[A(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(c(),k("span",ui,"( "+w(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)]),_:1},8,["style"])):(z=e(t).activePlayerQueue)!=null&&z.display_name||(R=e(t).activePlayer)!=null&&R.display_name?(c(),C(Ve,{key:1,style:E(`font-size: ${m.value};cursor:pointer;`),onClick:_[3]||(_[3]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>{var S,te;return[A(w(((S=e(t).activePlayerQueue)==null?void 0:S.display_name)||((te=e(t).activePlayer)==null?void 0:te.display_name)),1)]}),_:1},8,["style"])):(c(),C(Ve,{key:2,style:E(`font-size: ${m.value};cursor:pointer;`),onClick:_[4]||(_[4]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>{var S;return[A(w(((S=e(t).activePlayer)==null?void 0:S.display_name)||P.$t("no_player")),1)]}),_:1},8,["style"])),((j=(G=e(t).curQueueItem)==null?void 0:G.media_item)==null?void 0:j.media_type)==e(ue).RADIO&&((se=(Y=e(t).curQueueItem)==null?void 0:Y.streamdetails)!=null&&se.stream_title)?(c(),C(de,{key:3,class:"text-h6 text-md-h5 text-lg-h4",onClick:_[5]||(_[5]=S=>v(e(t).curQueueItem.streamdetails.stream_title))},{default:y(()=>[A(w(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):Q("",!0),(re=e(t).curQueueItem)!=null&&re.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(c(),C(de,{key:4,style:E(`font-size: ${g.value};cursor:pointer;`),onClick:_[6]||(_[6]=S=>p(e(t).curQueueItem.media_item.album))},{default:y(()=>[A(w(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):Q("",!0),(ne=e(t).curQueueItem)!=null&&ne.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(c(),C(de,{key:5,style:E(`font-size: ${g.value};cursor:pointer;`),onClick:_[7]||(_[7]=S=>p(e(t).curQueueItem.media_item.artists[0]))},{default:y(()=>[A(w(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):Q("",!0),((Pe=e(t).activePlayer)==null?void 0:Pe.active_source)!=((pe=e(t).activePlayer)==null?void 0:pe.player_id)?(c(),C(de,{key:6,style:E(`font-size: ${g.value}`)},{default:y(()=>{var S;return[A(w(P.$t("external_source_active",[(S=e(t).activePlayer)==null?void 0:S.active_source])),1)]}),_:1},8,["style"])):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(c(),C(de,{key:7,style:E(`font-size: ${g.value}`)},{default:y(()=>[A(w(P.$t("queue_empty")),1)]),_:1},8,["style"])):Q("",!0),$("div",ri,[r(Kt)])])])):Q("",!0),e(t).showQueueItems?(c(),k("div",di,[r(Le,{modelValue:s.value,"onUpdate:modelValue":_[8]||(_[8]=S=>s.value=S),"hide-slider":"",density:"compact"},{default:y(()=>[r(ve,{value:0},{default:y(()=>{var S,te;return[A(w(P.$t("queue"))+" ",1),r(Se,{color:"grey",content:(((S=e(t).activePlayerQueue)==null?void 0:S.items)||0)-(((te=e(t).activePlayerQueue)==null?void 0:te.current_index)||0),inline:""},null,8,["content"])]}),_:1}),r(ve,{value:1},{default:y(()=>{var S;return[A(w(P.$t("played"))+" ",1),r(Se,{color:"grey",content:(S=e(t).activePlayerQueue)==null?void 0:S.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),$("div",ci,[r(za,{items:d.value,onLoad:L,"empty-text":"",height:"100%"},{default:y(()=>[r(Ka,{"item-height":70,"max-height":"90%",items:s.value==0?d.value:f.value},{default:y(({item:S})=>[r(Bt,{link:"","show-menu-btn":!0,onClick:Ae(te=>h(te,S),["stop"]),onMenu:Ae(te=>h(te,S),["stop"])},{prepend:y(()=>[$("div",mi,[r($e,{size:"50",item:S},null,8,["item"])])]),title:y(()=>[A(w(S.name),1)]),subtitle:y(()=>[A(w(e(we)(S.duration))+" ",1),S.media_item&&"album"in S.media_item&&S.media_item.album?(c(),k("span",vi," | "+w(S.media_item.album.name),1)):Q("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1},8,["items"])])])):Q("",!0)]),$("div",yi,[$("div",pi,[r(Ut,{style:{position:"absolute","margin-left":"3%",right:"auto"}}),r(Yt,{"responsive-volume-size":!0,style:{position:"absolute","margin-left":"auto",right:"5%"}})]),$("div",fi,[r(Re,{"is-progress-bar":!1,color:P.$vuetify.theme.current.dark?l.colorPalette.lightColor:l.colorPalette.darkColor},null,8,["color"])]),$("div",_i,[r(ie,{disabled:!((Je=e(t).curQueueItem)!=null&&Je.media_item),icon:(et=(Ze=e(t).curQueueItem)==null?void 0:Ze.media_item)!=null&&et.favorite?"mdi-heart":"mdi-heart-outline",title:P.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:N},null,8,["disabled","icon","title"]),P.$vuetify.display.mdAndUp?(c(),C(Lt,{key:0,class:"media-controls-item","max-height":"30px"})):Q("",!0),r(Ht,{class:"media-controls-item","max-height":"45px"}),r(Rt,{class:"media-controls-item","max-height":"100px"}),r(Ft,{class:"media-controls-item","max-height":"45px"}),P.$vuetify.display.mdAndUp?(c(),C(Et,{key:1,class:"media-controls-item","max-height":"35px"})):Q("",!0),r(Dt,{class:"media-controls-item","max-height":"30px"})])])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}});const gi=K(hi,[["__scopeId","data-v-a1665858"]]),bi={key:0},Pi={key:1},ki={key:2},Ci={key:3},wi={class:"d-flex justify-center",style:{width:"100%"}},Vi={key:0},$i={key:1},Qi={key:2,class:"line-clamp-1"},Ii={key:3,class:"line-clamp-1"},xi={key:4,class:"line-clamp-1"},Si={key:5,class:"line-clamp-1"},Ti=M({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const i=a,n=I(()=>{var l,u;return(u=(l=t.activePlayerQueue)==null?void 0:l.current_item)==null?void 0:u.streamdetails});return(l,u)=>(c(),C(oe,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:y(()=>{var o;return[$("div",{class:"media-thumb player-media-thumb",style:E(`height: ${e(W)({breakpoint:"phone"})?50:64}px; width: ${e(W)({breakpoint:"phone"})?50:64}px; `)},[r(gi,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":l.colorPalette},null,8,["show-fullscreen","color-palette"]),r($e,{item:((o=e(t).curQueueItem)==null?void 0:o.media_item)||e(t).curQueueItem,fallback:e(ut),style:{cursor:"pointer"},onClick:u[0]||(u[0]=s=>e(t).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:y(()=>{var o,s,d,f;return[$("div",{style:E({cursor:"pointer",color:l.primaryColor})},[e(t).curQueueItem&&e(t).curQueueItem.media_item?(c(),k("div",{key:0,onClick:u[1]||(u[1]=m=>e(t).showFullscreenPlayer=!0)},[A(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(c(),k("span",bi,"("+w(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)])):e(t).curQueueItem?(c(),k("div",Pi,w(e(t).curQueueItem.name),1)):(o=e(t).activePlayerQueue)!=null&&o.display_name?(c(),k("div",ki,w((s=e(t).activePlayerQueue)==null?void 0:s.display_name),1)):(d=e(t).activePlayer)!=null&&d.display_name?(c(),k("div",Ci,w((f=e(t).activePlayer)==null?void 0:f.display_name),1)):(c(),k("div",{key:4,onClick:u[2]||(u[2]=m=>e(t).showPlayersMenu=!0)},w(l.$t("no_player")),1))],4)]}),append:y(()=>{var o,s,d;return[(o=n.value)!=null&&o.audio_format.content_type&&!e(W)({breakpoint:"phone"})&&l.showQualityDetailsBtn?(c(),C(Na,q({key:0,disabled:!e(t).activePlayerQueue||!((s=e(t).activePlayerQueue)!=null&&s.active)||((d=e(t).activePlayerQueue)==null?void 0:d.items)==0,class:"player-track-content-type",style:l.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},i),{default:y(()=>[$("div",wi,w(n.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):Q("",!0)]}),subtitle:y(()=>{var o,s,d,f,m,g,p,v,h;return[$("div",{style:E({cursor:"pointer",color:l.primaryColor}),class:"line-clamp-1",onClick:u[3]||(u[3]=b=>e(t).showFullscreenPlayer=!0)},[e(t).curQueueItem&&((o=e(t).curQueueItem.media_item)==null?void 0:o.media_type)==e(ue).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!i.showOnlyArtist?(c(),k("div",Vi,w(e(va)(e(t).curQueueItem.media_item.artists))+"  "+w(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(c(),k("div",$i,w(e(t).curQueueItem.media_item.artists[0].name),1)):(d=(s=e(t).curQueueItem)==null?void 0:s.streamdetails)!=null&&d.stream_title?(c(),k("div",Qi,w((m=(f=e(t).curQueueItem)==null?void 0:f.streamdetails)==null?void 0:m.stream_title),1)):e(t).curQueueItem&&((g=e(t).curQueueItem.media_item)!=null&&g.metadata.description)?(c(),k("div",Ii,w(e(t).curQueueItem.media_item.metadata.description),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(c(),k("div",xi,w(l.$t("queue_empty")),1)):((p=e(t).activePlayer)==null?void 0:p.active_source)!=((v=e(t).activePlayer)==null?void 0:v.player_id)?(c(),k("div",Si,w(l.$t("external_source_active",[(h=e(t).activePlayer)==null?void 0:h.active_source])),1)):Q("",!0)],4)]}),_:1}))}});const Bi=M({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(i,n)=>(c(),k(U,null,[i.player&&i.player.isVisible?(c(),C(Ut,{key:0,color:i.player.color,responsive:!0},null,8,["color"])):Q("",!0),i.queue&&i.queue.isVisible?(c(),C(Dt,{key:1,color:i.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):Q("",!0),i.volume&&i.volume.isVisible?(c(),C(Yt,{key:2,color:i.volume.color,"volume-size":i.volume.volumeSize,"responsive-volume-size":i.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):Q("",!0)],64))}}),zi=["data-floating"],Mi=["data-mobile"],Ai={class:"mediacontrols-left"},Wi={class:"mediacontrols-bottom-center"},qi={style:{width:"100%"}},Ei={class:"mediacontrols-bottom-right"},Li=M({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){ya(o=>({"5f6636eb":u.value})),rt();const{mobile:i}=_t({mobileBreakpoint:576}),n=T({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),l=new Image;l.src=xe.theme.current.value.dark?ut:Jt,l.crossOrigin="Anonymous",l.addEventListener("load",function(){n.value=pa(l)});const u=I(()=>xe.theme.current.value.dark?n.value&&n.value.darkColor?n.value.darkColor+"26":"CCCCCC26":n.value&&n.value.lightColor?n.value.lightColor+"26":"CCCCCC26");return ae(()=>{var o;return(o=t.curQueueItem)==null?void 0:o.queue_item_id},()=>{var o;(o=t.curQueueItem)!=null&&o.media_item?l.src=tt(t.curQueueItem.media_item,lt.THUMB)||"":t.curQueueItem?l.src=tt(t.curQueueItem,lt.THUMB)||"":l.src=""}),(o,s)=>{const d=yt("breakpoint");return c(),k(U,null,[$("div",{class:"mediacontrols-bg","data-floating":o.useFloatingPlayer},null,8,zi),e(W)("bp3")?Ie((c(),C(Re,{key:0,color:o.$vuetify.theme.current.dark?n.value.lightColor||"#fff":n.value.darkColor||"#000","is-progress-bar":!0},null,8,["color"])),[[d,{breakpoint:"bp3",condition:"lt"}]]):Q("",!0),$("div",{class:"mediacontrols","data-mobile":e(i)},[$("div",Ai,[r(Ti,{"show-quality-details-btn":!!e(W)("bp8"),"show-only-artist":!e(W)("bp7"),"color-palette":n.value,"primary-color":o.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),$("div",Wi,[$("div",qi,[r(nt,{"visible-components":{repeat:{isVisible:e(W)("bp3")},shuffle:{isVisible:e(W)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:e(W)("bp3")},next:{isVisible:e(W)("bp3")}}},null,8,["visible-components"]),Ie(r(Re,{color:o.$vuetify.theme.current.dark?n.value.lightColor||"#fff":n.value.darkColor||"#000","is-progress-bar":!1},null,8,["color"]),[[d,{breakpoint:"mobile",condition:"gt"}]])])]),$("div",Ei,[$("div",null,[r(Bi,{queue:{isVisible:e(W)("bp3"),color:o.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:o.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!0,color:o.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),r(nt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(W)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"48px",staticHeight:"48px",color:o.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Mi)],64)}}});const Ri=K(Li,[["__scopeId","data-v-8d194752"]]);const Hi=J({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...bt(),...ye(),...kt(),...xt(),...Ct(),...be({tag:"footer"}),...ze()},"VFooter"),Fi=Z()({name:"VFooter",props:Hi(),setup(a,i){let{slots:n}=i;const{themeClasses:l}=Ue(a),{backgroundColorClasses:u,backgroundColorStyles:o}=Xe(D(a,"color")),{borderClasses:s}=wt(a),{elevationClasses:d}=$t(a),{roundedClasses:f}=Qt(a),m=Qe(32),{resizeRef:g}=Sa(b=>{b.length&&(m.value=b[0].target.clientHeight)}),p=I(()=>a.height==="auto"?m.value:parseInt(a.height,10)),{layoutItemStyles:v,layoutIsReady:h}=St({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:p,elementSize:I(()=>a.height==="auto"?void 0:p.value),active:I(()=>a.app),absolute:D(a,"absolute")});return ee(()=>r(a.tag,{ref:g,class:["v-footer",l.value,u.value,s.value,d.value,f.value,a.class],style:[o.value,a.app?v.value:{height:_e(a.height)},a.style]},n)),a.app?h:{}}}),Di=M({__name:"Footer",setup(a){const i=I(()=>t.navigationMenuStyle=="horizontal"),n=I(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),l=I(()=>i.value?n.value+5:0);return(u,o)=>(c(),k(U,null,[i.value?(c(),k("div",{key:0,class:qe(u.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:E(`
      position: fixed;
      width: 100%;
      height: ${n.value+(e(W)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):Q("",!0),e(t).navigationMenuStyle=="horizontal"?(c(),C(Sl,{key:1,height:n.value},null,8,["height"])):Q("",!0),r(Fi,{bottom:"",fixed:"",class:qe(`d-flex flex-column ${i.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:E(`bottom: ${l.value}px;`),elevation:"10",app:""},{default:y(()=>[r(Ri,{"use-floating-player":i.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}});const Ui={key:0,class:"text-body-2",style:{"line-height":"1em"}},Ni={key:1,class:"text-body-2",style:{"line-height":"1em"}},Yi={key:2,class:"text-body-2",style:{"line-height":"1em"}},Oi=M({__name:"PlayerSelect",setup(a){const i=T(void 0),n=I(()=>{var g,p;const m=[];for(const v in(g=V)==null?void 0:g.players){const h=(p=V)==null?void 0:p.players[v];s(h,!0)&&m.push(h)}return m.slice().sort((v,h)=>{var b;return v.display_name.toUpperCase()>((b=h.display_name)==null?void 0:b.toUpperCase())?1:-1})});ae(()=>t.showPlayersMenu,m=>{m||(i.value=void 0)}),ae(()=>t.activePlayerId,m=>{m&&localStorage.setItem("mass.LastPlayerId",m)}),ae(()=>V.players,m=>{m&&d()},{deep:!0}),ae(()=>V.state,m=>{m.value!=ht.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});const l=T(),u=T();Be(()=>{var m,g,p;l.value=(p=(g=(m=fa())==null?void 0:m.vnode)==null?void 0:g.el)==null?void 0:p.getRootNode(),d()});const o=function(m){u.value!=m&&(u.value=m,setTimeout(()=>{var p;const g=(p=l.value)==null?void 0:p.getElementById(m);g==null||g.scrollIntoView({behavior:"smooth"})},0))},s=function(m,g=!0,p=!1,v=!1){return!(!m.enabled||!m.available&&!g||m.synced_to&&!p||m.hidden&&!v)},d=function(){if(t.activePlayer&&s(t.activePlayer,!1,!1,!1))return;const m=f();m&&(t.activePlayerId=m.player_id,console.debug("Selected new default player: ",m.display_name))},f=function(){const m=localStorage.getItem("mass.LastPlayerId");if(m&&m in V.players&&s(V.players[m],!1,!1,!1)&&V.players[m].powered)return V.players[m]};return(m,g)=>(c(),C(Gt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":g[1]||(g[1]=p=>e(t).showPlayersMenu=p),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:"290",style:{"z-index":"9999"}},{default:y(()=>[r(Ve,{class:"title"},{default:y(()=>[$("b",null,w(m.$t("players")),1)]),_:1}),r(Ya,{modelValue:i.value,"onUpdate:modelValue":g[0]||(g[0]=p=>i.value=p),focusable:"",variant:"accordion",flat:""},{default:y(()=>[(c(!0),k(U,null,X(n.value,p=>(c(),C(Oa,{id:p.player_id,key:p.player_id,disabled:!p.available,flat:"",class:"playerrow"},{default:y(()=>[r(Xa,{"expand-icon":"mdi-chevron-down","collapse-icon":"mdi-chevron-up",onClick:v=>{e(t).activePlayerId=p.player_id,o(p.player_id)}},{default:y(()=>[r(oe,{class:"playerrow-list-item"},{prepend:y(()=>[r(H,{size:"45",icon:p.type==e(fe).PLAYER&&p.group_childs.length?"mdi-speaker-multiple":p.icon,color:"primary"},null,8,["icon"])]),title:y(()=>[$("div",null,[$("b",null,w(e(Ne)(e(ft)(p),20)),1)])]),subtitle:y(()=>[p.powered?p.active_source!=p.player_id&&e(V).queues[p.active_source]?(c(),k("div",Ni,w(m.$t("state."+p.state))+" ("+w(e(V).queues[p.active_source].display_name)+") ",1)):(c(),k("div",Yi,w(m.$t("state."+p.state)),1)):(c(),k("div",Ui,w(m.$t("state.off")),1))]),_:2},1024)]),_:2},1032,["onClick"]),r(Ga,null,{default:y(()=>[r(Nt,{player:p},null,8,["player"])]),_:2},1024)]),_:2},1032,["id","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}});const Xi=K(Oi,[["__scopeId","data-v-59a467e4"]]);function Gi(a={}){const{immediate:i=!1,onNeedRefresh:n,onOfflineReady:l,onRegistered:u,onRegisteredSW:o,onRegisterError:s}=a;let d,f,m;const g=async(v=!0)=>{await f,await(m==null?void 0:m())};async function p(){if("serviceWorker"in navigator){if(d=await _a(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{s==null||s(v)}),!d)return;m=async()=>{await(d==null?void 0:d.messageSkipWaiting())};{let v=!1;const h=()=>{v=!0,d==null||d.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),n==null||n()};d.addEventListener("installed",b=>{typeof b.isUpdate>"u"?typeof b.isExternal<"u"?b.isExternal?h():!v&&(l==null||l()):b.isExternal?window.location.reload():!v&&(l==null||l()):b.isUpdate||l==null||l()}),d.addEventListener("waiting",h),d.addEventListener("externalwaiting",h)}d.register({immediate:i}).then(v=>{o?o("./sw.js",v):u==null||u(v)}).catch(v=>{s==null||s(v)})}}return f=p(),g}function ji(a={}){const{immediate:i=!0,onNeedRefresh:n,onOfflineReady:l,onRegistered:u,onRegisteredSW:o,onRegisterError:s}=a,d=T(!1),f=T(!1);return{updateServiceWorker:Gi({immediate:i,onNeedRefresh(){d.value=!0,n==null||n()},onOfflineReady(){f.value=!0,l==null||l()},onRegistered:u,onRegisteredSW:o,onRegisterError:s}),offlineReady:f,needRefresh:d}}const Ki={key:0,class:"pwa-toast",role:"alert"},Ji={class:"message"},Zi={key:0},eo={key:1},to=M({__name:"ReloadPrompt",setup(a){const{offlineReady:i,needRefresh:n,updateServiceWorker:l}=ji(),u=async()=>{i.value=!1,n.value=!1};return(o,s)=>e(i)||e(n)?(c(),k("div",Ki,[$("div",Ji,[e(i)?(c(),k("span",Zi," App ready to work offline ")):(c(),k("span",eo," New content available, click on reload button to update. "))]),e(n)?(c(),k("button",{key:0,onClick:s[0]||(s[0]=d=>e(l)())},"Reload")):Q("",!0),$("button",{onClick:u},"Close")])):Q("",!0)}});const ao=J({...ye(),...Aa({fullHeight:!0}),...ze()},"VApp"),lo=Z()({name:"VApp",props:ao(),setup(a,i){let{slots:n}=i;const l=Ue(a),{layoutClasses:u,getLayoutItem:o,items:s,layoutRef:d}=Wa(a),{rtlClasses:f}=vt();return ee(()=>r("div",{ref:d,class:["v-application",l.themeClasses.value,u.value,f.value,a.class],style:[a.style]},[r("div",{class:"v-application__wrap"},[r(ha,null,{default:()=>{var m;return[r(U,null,[(m=n.default)==null?void 0:m.call(n)])]}})])])),{getLayoutItem:o,items:s,theme:l}}}),Vo=M({__name:"Default",setup(a){return(i,n)=>(c(),C(lo,null,{default:y(()=>[r(Xi),e(V).state.value==e(ht).CONNECTED?(c(),C(rl,{key:0})):(c(),C(Da,{key:1},{default:y(()=>[r(Ta,{indeterminate:"",size:"64"})]),_:1})),e(t).isInStandaloneMode?(c(),C(to,{key:2})):Q("",!0),r(Di)]),_:1}))}});export{Vo as default};
