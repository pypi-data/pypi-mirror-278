import{_ as Yt,g as Ot,V as Xt}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_2862bff2_lang-87b3236e.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{M as $e,_ as Gt,V as jt,a as Kt,i as nt,b as Jt,g as et}from"./VCheckbox-f1104d05.js";import{e as ce,_ as We}from"./eventbus-a8c2de56.js";import{d as A,r as z,o as Be,a as De,b as P,M as oe,P as tt,c as v,e as V,w as p,f as r,u as e,g as C,h as j,F as N,$ as ke,i as $,t as w,j as Q,s as t,p as Zt,k as ea,l as J,m as Z,n as ta,q as aa,v as ze,x as ut,y as D,z as I,A as Ue,B as rt,C as he,D as dt,E as q,G as ct,H as Ne,I as mt,J as la,K as Qe,L as ae,N as ia,O as Ie,Q as vt,R as yt,S as oa,T as sa,U as na,V as Ce,W as H,X as R,Y as we,Z as ua,_ as qe,a0 as Ee,a1 as W,a2 as Le,a3 as me,a4 as O,a5 as ra,a6 as _e,a7 as re,a8 as Me,a9 as pt,aa as da,ab as ft,ac as ca,ad as xe,ae as ma,af as va,ag as ya,ah as pa,ai as at,aj as fa,ak as _t,al as _a,am as ha}from"./index-dc4d9f26.js";import{T as ba,V as Re}from"./Toolbar-8f128710.js";import{V as Se,a as Ae,u as Ye}from"./VList-4daf9b39.js";import{V as Oe,a as fe}from"./VCard-299e9447.js";import{V as ht}from"./VDialog-f3c4aa9b.js";import{V as le,m as ye,a as ga,b as ge,u as Pa,c as ee,d as bt,e as gt,f as Pt,g as kt,h as ka,i as Ct,j as Xe,k as wt,l as Vt,n as $t,o as Qt,p as Ca,q as wa,r as Va,s as be,t as $a,v as Qa,M as Ia,w as F,x as xa,y as Sa,z as Ta}from"./VListItem-65135f8c.js";import{V as Ba,a as za}from"./VInfiniteScroll-da869181.js";import{u as Ma,m as It,a as xt,b as Aa,c as Wa}from"./layout-64805198.js";import{f as qa,a as Ea,s as La,m as Ra,u as Ha,b as Fa,V as St,c as Da}from"./VMenu-44fbbe6a.js";import{m as Ua,V as lt,a as Na}from"./VCheckboxBtn-3cfb51c2.js";import{V as Tt,a as Ya,b as Oa,c as Xa,d as Ga}from"./VExpansionPanels-078e341e.js";import{B as se}from"./Button-d230f8d5.js";import{L as ja}from"./ListItem-6e7890fa.js";import{V as Ka}from"./VToolbar-131f9d53.js";import{V as Ve}from"./VCardText-fea590bb.js";import{V as Ja}from"./VVirtualScroll-73f2affe.js";const Za=K(Yt,[["__scopeId","data-v-2862bff2"]]),Ge=a=>(Zt("data-v-d3dbeb83"),a=a(),ea(),a),el=Ge(()=>$("br",null,null,-1)),tl={class:"media-thumb"},al=Ge(()=>$("div",{style:{height:"30px"}},null,-1)),ll=Ge(()=>$("div",{style:{height:"30px"}},null,-1)),il={style:{"margin-left":"-10px","padding-right":"5px"}},ol=A({__name:"AddToPlaylistDialog",setup(a){const l=z(!1),o=z([]),i=z([]),c=z(),s=z([]);Be(()=>{ce.on("playlistdialog",async f=>{l.value=!0,s.value=f.items,c.value=f.parentItem,await u()}),De(()=>{ce.off("playlistdialog")})});const u=async function(){o.value=[],i.value=[];const f=await P.getLibraryPlaylists(),d=s.value.length?s.value[0]:void 0;for(const m of f.items){if(!m.provider_mappings.filter(b=>b.available).length||!m.is_editable||c.value&&c.value.media_type===oe.PLAYLIST&&m.item_id===c.value.item_id)continue;const h=P.providers[m.provider_mappings[0].provider_instance];(h.domain=="builtin"||h.is_streaming_provider||d!=null&&d.provider_mappings.filter(b=>b.provider_instance==h.instance_id).length)&&o.value.push(m)}for(const m of Object.values(P.providers))m.supported_features.includes(tt.PLAYLIST_CREATE)&&m.supported_features.includes(tt.PLAYLIST_TRACKS_EDIT)&&(m.domain=="builtin"||m.is_streaming_provider||d!=null&&d.provider_mappings.filter(h=>h.provider_instance==m.instance_id).length)&&i.value.push(m.instance_id)},y=function(f){if(s.value[0].media_type===oe.TRACK)P.addPlaylistTracks(f.item_id,s.value.map(m=>m.uri));else if(s.value[0].media_type===oe.ALBUM){var d=[];P.getAlbumTracks(s.value[0].item_id,s.value[0].provider).then(m=>{d=m,P.addPlaylistTracks(f.item_id,d.map(h=>h.uri))})}n()},_=async function(f){const d=prompt(ke("new_playlist_name"));if(!d)return;const m=await P.createPlaylist(d,f);y(m)},n=function(){l.value=!1};return(f,d)=>(v(),V(ht,{modelValue:l.value,"onUpdate:modelValue":[d[0]||(d[0]=m=>l.value=m),d[1]||(d[1]=m=>{e(t).dialogActive=m})],fullscreen:"",transition:"dialog-bottom-transition"},{default:p(()=>[r(Oe,null,{default:p(()=>[r(ba,{icon:"mdi-playlist-plus",title:e(ke)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:n}]},null,8,["title","menu-items"]),r(Se),el,r(Ae,null,{default:p(()=>[(v(!0),C(N,null,j(o.value,m=>(v(),C("div",{key:m.item_id},[r(le,{onClick:h=>y(m)},{prepend:p(()=>[$("div",tl,[r($e,{item:m,size:50},null,8,["item"])])]),title:p(()=>[$("div",null,w(m.name),1)]),subtitle:p(()=>[$("div",null,w(m.owner),1)]),append:p(()=>[m.provider_mappings?(v(),V(We,{key:0,domain:m.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):Q("",!0)]),_:2},1032,["onClick"])]))),128)),al,r(Se),ll,(v(!0),C(N,null,j(i.value,m=>(v(),C("div",{key:m},[r(le,{onClick:h=>_(m)},{prepend:p(()=>[$("div",il,[r(We,{domain:e(P).providers[m].domain,size:50},null,8,["domain"])])]),title:p(()=>[$("div",null,w(e(ke)("new_playlist")),1)]),subtitle:p(()=>[$("div",null,w(e(ke)("create_playlist_on",[e(P).providers[m].name])),1)]),append:p(()=>[r(We,{domain:e(P).providers[m].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const sl=K(ol,[["__scopeId","data-v-d3dbeb83"]]),nl=K(Gt,[["__scopeId","data-v-a1ffd1c1"]]);const ul=J({scrollable:Boolean,...ye(),...ga(),...ge({tag:"main"})},"VMain"),rl=Z()({name:"VMain",props:ul(),setup(a,l){let{slots:o}=l;const{dimensionStyles:i}=Pa(a),{mainStyles:c,layoutIsReady:s}=Ma(),{ssrBootStyles:u}=Ye();return ee(()=>r(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[c.value,u.value,i.value,a.style]},{default:()=>{var y,_;return[a.scrollable?r("div",{class:"v-main__scroller"},[(y=o.default)==null?void 0:y.call(o)]):(_=o.default)==null?void 0:_.call(o)]}})),s}}),dl=A({__name:"View",setup(a){return(l,o)=>{const i=ta("router-view");return v(),V(rl,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:p(()=>{var c,s,u;return[e(t).navigationMenuStyle=="vertical"?(v(),V(Za,{key:0})):Q("",!0),r(i,null,{default:p(({Component:y})=>[(v(),V(aa(y)))]),_:1}),r(sl),r(nl),r(Ba,{"model-value":e(t).activeAlert!==void 0,color:((c=e(t).activeAlert)==null?void 0:c.type)||"grey",text:(s=e(t).activeAlert)==null?void 0:s.message,"close-on-content-click":"",position:"sticky",timeout:(u=e(t).activeAlert)!=null&&u.persistent?-1:5e3,"onUpdate:modelValue":o[0]||(o[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}});const cl=J({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...bt(),...ye(),...gt(),...Pt(),...kt(),...It({name:"bottom-navigation"}),...ge({tag:"header"}),...ka({selectedClass:"v-btn--selected"}),...ze()},"VBottomNavigation"),ml=Z()({name:"VBottomNavigation",props:cl(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:o}=l;const{themeClasses:i}=ut(),{borderClasses:c}=Ct(a),{backgroundColorClasses:s,backgroundColorStyles:u}=Xe(D(a,"bgColor")),{densityClasses:y}=wt(a),{elevationClasses:_}=Vt(a),{roundedClasses:n}=$t(a),{ssrBootStyles:f}=Ye(),d=I(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),m=Ue(a,"active",a.active),{layoutItemStyles:h,layoutIsReady:b}=xt({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>m.value?d.value:0),elementSize:d,active:m,absolute:D(a,"absolute")});return Qt(a,Ca),rt({VBtn:{baseColor:D(a,"baseColor"),color:D(a,"color"),density:D(a,"density"),stacked:I(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ee(()=>r(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},i.value,s.value,c.value,y.value,_.value,n.value,a.class],style:[u.value,h.value,{height:he(d.value)},f.value,a.style]},{default:()=>[o.default&&r("div",{class:"v-bottom-navigation__content"},[o.default()])]})),b}});const je=Symbol.for("vuetify:v-tabs"),vl=J({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...dt(wa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ve=Z()({name:"VTab",props:vl(),setup(a,l){let{slots:o,attrs:i}=l;const{textColorClasses:c,textColorStyles:s}=Va(a,"sliderColor"),u=z(),y=z(),_=I(()=>a.direction==="horizontal"),n=I(()=>{var d,m;return((m=(d=u.value)==null?void 0:d.group)==null?void 0:m.isSelected.value)??!1});function f(d){var h,b;let{value:m}=d;if(m){const S=(b=(h=u.value)==null?void 0:h.$el.parentElement)==null?void 0:b.querySelector(".v-tab--selected .v-tab__slider"),B=y.value;if(!S||!B)return;const E=getComputedStyle(S).color,U=S.getBoundingClientRect(),k=B.getBoundingClientRect(),g=_.value?"x":"y",x=_.value?"X":"Y",M=_.value?"right":"bottom",L=_.value?"width":"height",X=U[g],G=k[g],Y=X>G?U[M]-k[M]:U[g]-k[g],ne=Math.sign(Y)>0?_.value?"right":"bottom":Math.sign(Y)<0?_.value?"left":"top":"center",ue=(Math.abs(Y)+(Math.sign(Y)<0?U[L]:k[L]))/Math.max(U[L],k[L])||0,Pe=U[L]/k[L]||0,pe=1.5;Ea(B,{backgroundColor:[E,"currentcolor"],transform:[`translate${x}(${Y}px) scale${x}(${Pe})`,`translate${x}(${Y/pe}px) scale${x}(${(ue-1)/pe+1})`,"none"],transformOrigin:Array(3).fill(ne)},{duration:225,easing:La})}}return ee(()=>{const d=be.filterProps(a);return r(be,q({symbol:je,ref:u,class:["v-tab",a.class],style:a.style,tabindex:n.value?0:-1,role:"tab","aria-selected":String(n.value),active:!1},d,i,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":f}),{...o,default:()=>{var m;return r(N,null,[((m=o.default)==null?void 0:m.call(o))??a.text,!a.hideSlider&&r("div",{ref:y,class:["v-tab__slider",c.value],style:s.value},null)])}})}),qa({},u)}});const yl=a=>{const{touchstartX:l,touchendX:o,touchstartY:i,touchendY:c}=a,s=.5,u=16;a.offsetX=o-l,a.offsetY=c-i,Math.abs(a.offsetY)<s*Math.abs(a.offsetX)&&(a.left&&o<l-u&&a.left(a),a.right&&o>l+u&&a.right(a)),Math.abs(a.offsetX)<s*Math.abs(a.offsetY)&&(a.up&&c<i-u&&a.up(a),a.down&&c>i+u&&a.down(a))};function pl(a,l){var i;const o=a.changedTouches[0];l.touchstartX=o.clientX,l.touchstartY=o.clientY,(i=l.start)==null||i.call(l,{originalEvent:a,...l})}function fl(a,l){var i;const o=a.changedTouches[0];l.touchendX=o.clientX,l.touchendY=o.clientY,(i=l.end)==null||i.call(l,{originalEvent:a,...l}),yl(l)}function _l(a,l){var i;const o=a.changedTouches[0];l.touchmoveX=o.clientX,l.touchmoveY=o.clientY,(i=l.move)==null||i.call(l,{originalEvent:a,...l})}function hl(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:o=>pl(o,l),touchend:o=>fl(o,l),touchmove:o=>_l(o,l)}}function bl(a,l){var y;const o=l.value,i=o!=null&&o.parent?a.parentElement:a,c=(o==null?void 0:o.options)??{passive:!0},s=(y=l.instance)==null?void 0:y.$.uid;if(!i||!s)return;const u=hl(l.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[s]=u,ct(u).forEach(_=>{i.addEventListener(_,u[_],c)})}function gl(a,l){var s,u;const o=(s=l.value)!=null&&s.parent?a.parentElement:a,i=(u=l.instance)==null?void 0:u.$.uid;if(!(o!=null&&o._touchHandlers)||!i)return;const c=o._touchHandlers[i];ct(c).forEach(y=>{o.removeEventListener(y,c[y])}),delete o._touchHandlers[i]}const Bt={mounted:bl,unmounted:gl},Pl=Bt,zt=Symbol.for("vuetify:v-window"),Mt=Symbol.for("vuetify:v-window-group"),At=J({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ye(),...ge(),...ze()},"VWindow"),it=Z()({name:"VWindow",directives:{Touch:Bt},props:At(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:o}=l;const{themeClasses:i}=Ne(a),{isRtl:c}=mt(),{t:s}=la(),u=Qt(a,Mt),y=z(),_=I(()=>c.value?!a.reverse:a.reverse),n=Qe(!1),f=I(()=>{const g=a.direction==="vertical"?"y":"x",M=(_.value?!n.value:n.value)?"-reverse":"";return`v-window-${g}${M}-transition`}),d=Qe(0),m=z(void 0),h=I(()=>u.items.value.findIndex(g=>u.selected.value.includes(g.id)));ae(h,(g,x)=>{const M=u.items.value.length,L=M-1;M<=2?n.value=g<x:g===L&&x===0?n.value=!0:g===0&&x===L?n.value=!1:n.value=g<x}),ia(zt,{transition:f,isReversed:n,transitionCount:d,transitionHeight:m,rootRef:y});const b=I(()=>a.continuous||h.value!==0),S=I(()=>a.continuous||h.value!==u.items.value.length-1);function B(){b.value&&u.prev()}function E(){S.value&&u.next()}const U=I(()=>{const g=[],x={icon:c.value?a.nextIcon:a.prevIcon,class:`v-window__${_.value?"right":"left"}`,onClick:u.prev,"aria-label":s("$vuetify.carousel.prev")};g.push(b.value?o.prev?o.prev({props:x}):r(be,x,null):r("div",null,null));const M={icon:c.value?a.prevIcon:a.nextIcon,class:`v-window__${_.value?"left":"right"}`,onClick:u.next,"aria-label":s("$vuetify.carousel.next")};return g.push(S.value?o.next?o.next({props:M}):r(be,M,null):r("div",null,null)),g}),k=I(()=>a.touch===!1?a.touch:{...{left:()=>{_.value?B():E()},right:()=>{_.value?E():B()},start:x=>{let{originalEvent:M}=x;M.stopPropagation()}},...a.touch===!0?{}:a.touch});return ee(()=>Ie(r(a.tag,{ref:y,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},i.value,a.class],style:a.style},{default:()=>{var g,x;return[r("div",{class:"v-window__container",style:{height:m.value}},[(g=o.default)==null?void 0:g.call(o,{group:u}),a.showArrows!==!1&&r("div",{class:"v-window__controls"},[U.value])]),(x=o.additional)==null?void 0:x.call(o,{group:u})]}}),[[vt("touch"),k.value]])),{group:u}}}),kl=J({...dt(At(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Cl=Z()({name:"VTabsWindow",props:kl(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:o}=l;const i=yt(je,null),c=Ue(a,"modelValue"),s=I({get(){var u;return c.value!=null||!i?c.value:(u=i.items.value.find(y=>i.selected.value.includes(y.id)))==null?void 0:u.value},set(u){c.value=u}});return ee(()=>{const u=it.filterProps(a);return r(it,q({_as:"VTabsWindow"},u,{modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),o)}),{}}}),Wt=J({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ye(),...$a(),...Ra()},"VWindowItem"),ot=Z()({name:"VWindowItem",directives:{Touch:Pl},props:Wt(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:o}=l;const i=yt(zt),c=Qa(a,Mt),{isBooted:s}=Ye();if(!i||!c)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const u=Qe(!1),y=I(()=>s.value&&(i.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function _(){!u.value||!i||(u.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function n(){var b;u.value||!i||(u.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=he((b=i.rootRef.value)==null?void 0:b.clientHeight)),i.transitionCount.value+=1)}function f(){_()}function d(b){u.value&&sa(()=>{!y.value||!u.value||!i||(i.transitionHeight.value=he(b.clientHeight))})}const m=I(()=>{const b=i.isReversed.value?a.reverseTransition:a.transition;return y.value?{name:typeof b!="string"?i.transition.value:b,onBeforeEnter:n,onAfterEnter:_,onEnterCancelled:f,onBeforeLeave:n,onAfterLeave:_,onLeaveCancelled:f,onEnter:d}:!1}),{hasContent:h}=Ha(a,c.isSelected);return ee(()=>r(Ia,{transition:m.value,disabled:!s.value},{default:()=>{var b;return[Ie(r("div",{class:["v-window-item",c.selectedClass.value,a.class],style:a.style},[h.value&&((b=o.default)==null?void 0:b.call(o))]),[[oa,c.isSelected.value]])]}})),{groupItem:c}}}),wl=J({...Wt()},"VTabsWindowItem"),Vl=Z()({name:"VTabsWindowItem",props:wl(),setup(a,l){let{slots:o}=l;return ee(()=>{const i=ot.filterProps(a);return r(ot,q({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",a.class],style:a.style}),o)}),{}}});function $l(a){return a?a.map(l=>na(l)?l:{text:l,value:l}):[]}const Ql=J({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ua({mandatory:"force",selectedClass:"v-tab-item--selected"}),...gt(),...ge()},"VTabs"),He=Z()({name:"VTabs",props:Ql(),emits:{"update:modelValue":a=>!0},setup(a,l){let{attrs:o,slots:i}=l;const c=Ue(a,"modelValue"),s=I(()=>$l(a.items)),{densityClasses:u}=wt(a),{backgroundColorClasses:y,backgroundColorStyles:_}=Xe(D(a,"bgColor")),{scopeId:n}=Fa();return rt({VTab:{color:D(a,"color"),direction:D(a,"direction"),stacked:D(a,"stacked"),fixed:D(a,"fixedTabs"),sliderColor:D(a,"sliderColor"),hideSlider:D(a,"hideSlider")}}),ee(()=>{const f=lt.filterProps(a),d=!!(i.window||a.items.length>0);return r(N,null,[r(lt,q(f,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},u.value,y.value,a.class],style:[{"--v-tabs-height":he(a.height)},_.value,a.style],role:"tablist",symbol:je},n,o),{default:()=>{var m;return[((m=i.default)==null?void 0:m.call(i))??s.value.map(h=>{var b;return((b=i.tab)==null?void 0:b.call(i,{item:h}))??r(ve,q(h,{key:h.text,value:h.value}),{default:i[`tab.${h.value}`]?()=>{var S;return(S=i[`tab.${h.value}`])==null?void 0:S.call(i,{item:h})}:void 0})})]}}),d&&r(Cl,q({modelValue:c.value,"onUpdate:modelValue":m=>c.value=m,key:"tabs-window"},n),{default:()=>{var m;return[s.value.map(h=>{var b;return((b=i.item)==null?void 0:b.call(i,{item:h}))??r(Vl,{value:h.value},{default:()=>{var S;return(S=i[`item.${h.value}`])==null?void 0:S.call(i,{item:h})}})}),(m=i.window)==null?void 0:m.call(i)]}})])}),{}}}),Il={class:"menuButton"},xl={class:"menuButton"},Sl={class:"menuButton"},Tl=A({__name:"BottomNavigation",props:{height:{}},setup(a){const l=Ot(),o=I(()=>{for(const i of l)if(Ce.currentRoute.value.path.startsWith(i.path))return!H("tablet")&&i.isLibraryNode?"library":i.label;return""});return(i,c)=>(v(),V(ml,{height:i.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:p(()=>[e(H)("tablet")?(v(),V(He,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":o.value,color:"accent","center-active":""},{default:p(()=>[(v(!0),C(N,null,j(e(l),s=>(v(),V(ve,{key:s.label,to:s.path,value:s.label},{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[R(w(s.icon),1)]),_:2},1024),$("span",Il,w(i.$t(s.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(v(),V(He,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":o.value,color:"accent"},{default:p(()=>[(v(!0),C(N,null,j(e(l).filter(s=>!s.isLibraryNode),s=>(v(),V(ve,{key:s.label,to:s.path,value:s.label},{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[R(w(s.icon),1)]),_:2},1024),$("span",xl,w(i.$t(s.label)),1)]),_:2},1032,["to","value"]))),128)),r(St,null,{activator:p(({props:s})=>[r(ve,q({key:"library"},s,{value:"library"}),{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[R("mdi-bookshelf")]),_:1}),$("span",Sl,w(i.$t("library")),1)]),_:2},1040)]),default:p(()=>[r(Ae,null,{default:p(()=>[(v(!0),C(N,null,j(e(l).filter(s=>s.isLibraryNode),s=>(v(),V(le,{key:s.label,title:i.$t(s.label),"prepend-icon":s.icon,to:s.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}});const Bl={style:{width:"100%"}},zl={key:0,style:{display:"flex",flex:"1 1 auto","align-items":"center"}},Ml={style:{"z-index":"1"},class:"text-caption"},Al={key:1,style:{width:"100%","padding-bottom":"0px"}},Fe=A({__name:"PlayerTimeline",props:{isProgressBar:{type:Boolean,default:!1},color:{default:"accent"}},setup(a){const l=a,o=z(!1),i=z(!0),c=z(!1),s=z(0),u=z(0),y=I(()=>t.curQueueItem?o.value?`-${we(t.curQueueItem.duration-n.value)}`:`${we(n.value)}`:"0:00"),_=I(()=>{if(!t.curQueueItem)return"0:00";const h=t.curQueueItem.duration;return we(h)}),n=I(()=>c.value?(u.value=s.value,s.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);ae(n,h=>{c.value||(s.value=h)});const f=function(){c.value=!0},d=()=>{c.value=!1,m(u.value)},m=h=>{var b;c.value||P.queueCommandSeek(((b=t.activePlayerQueue)==null?void 0:b.queue_id)||"",Math.round(h))};return(h,b)=>{var S,B;return v(),C("div",Bl,[e(t).activePlayerQueue&&!h.isProgressBar?(v(),C("div",zl,[$("div",{class:"text-caption",style:{cursor:"pointer","z-index":"1"},onClick:b[0]||(b[0]=E=>o.value?o.value=!1:o.value=!0)},w(y.value),1),r(Tt,{modelValue:s.value,"onUpdate:modelValue":b[1]||(b[1]=E=>s.value=E),disabled:!e(t).curQueueItem||((S=e(t).curQueueItem.media_item)==null?void 0:S.media_type)!=e(oe).TRACK,color:l.color,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":i.value?0:10,onTouchstart:b[2]||(b[2]=E=>i.value=!1),onTouchend:b[3]||(b[3]=E=>i.value=!0),onMouseenter:b[4]||(b[4]=E=>i.value=!1),onMouseleave:b[5]||(b[5]=E=>i.value=!0),onStart:f,onEnd:d},null,8,["modelValue","disabled","color","max","thumb-size"]),$("div",Ml,w(_.value),1)])):e(t).activePlayerQueue&&h.isProgressBar?(v(),C("div",Al,[r(xa,{modelValue:s.value,"onUpdate:modelValue":b[6]||(b[6]=E=>s.value=E),disabled:!e(t).activePlayerQueue||!e(t).curQueueItem||((B=e(t).activePlayerQueue)==null?void 0:B.items)==0,height:"70",color:e(ua)(l.color,.15),"bg-color":l.color,"bg-opacity":1,style:{position:"absolute","border-radius":"10px"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration},null,8,["modelValue","disabled","color","bg-color","max"])])):Q("",!0)])}}}),Wl=A({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},setup(a){const l=a,o=()=>{if(i.value){const s=i.value.offsetWidth,u=i.value.offsetHeight,y=Math.min(s,u);c.value.$el.style.fontSize=`${y}px`}},i=z(),c=z();return Be(()=>{o(),window.addEventListener("resize",o)}),De(()=>{window.removeEventListener("resize",o)}),(s,u)=>(v(),C("div",{ref_key:"responsiveIconHolder",ref:i,class:Ee([l.type=="btn"?"responsive-icon-holder-btn":"responsive-icon-holder",{disabled:s.disabled}]),style:W({width:l.staticWidth?l.staticWidth:l.width,height:l.staticWidth?l.staticWidth:l.height,maxHeight:l.staticHeight?l.staticHeight:l.maxHeight,maxWidth:l.staticWidth?l.staticWidth:l.maxWidth,minHeight:l.staticHeight?l.staticHeight:l.minHeight,minWidth:l.staticWidth?l.staticWidth:l.minWidth})},[r(Re,{"model-value":s.badge==!0,color:"error",dot:""},{default:p(()=>[s.type==="icon"?(v(),V(F,{key:0,ref_key:"responsiveIcon",ref:c,class:"responsive-icon",color:s.color?s.color:"",icon:l.icon?l.icon:"mdi-check",width:l.staticWidth?l.staticWidth:null,height:l.staticHeight?l.staticHeight:null},qe({_:2},[j(s.$slots,(y,_)=>({name:_,fn:p(()=>[Le(s.$slots,_,{},void 0,!0)])}))]),1032,["color","icon","width","height"])):s.type==="btn"?(v(),V(F,{key:1,ref_key:"responsiveIcon",ref:c,class:"responsive-icon",style:{cursor:"pointer"},color:s.color?s.color:"",icon:l.icon?l.icon:"mdi-check",width:l.staticWidth?l.staticWidth:null,height:l.staticHeight?l.staticHeight:null,disabled:s.disabled},qe({_:2},[j(s.$slots,(y,_)=>({name:_,fn:p(()=>[Le(s.$slots,_,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):Q("",!0)]),_:3},8,["model-value"])],6))}});const ie=K(Wl,[["__scopeId","data-v-2c0644be"]]),qt=A({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(o,i)=>{var c,s,u,y,_,n,f,d,m,h;return l.isVisible?(v(),V(ie,q({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((c=e(t).activePlayerQueue)!=null&&c.active)||((s=e(t).activePlayerQueue)==null?void 0:s.items)==0,color:e(me)((u=l.icon)==null?void 0:u.color,[[((y=e(t).activePlayerQueue)==null?void 0:y.repeat_mode)==e(O).OFF,null],[((_=e(t).activePlayerQueue)==null?void 0:_.repeat_mode)==e(O).ALL,"primary"],[((n=e(t).activePlayerQueue)==null?void 0:n.repeat_mode)==e(O).ONE,"primary"]]),icon:e(me)((f=l.icon)==null?void 0:f.icon,[[((d=e(t).activePlayerQueue)==null?void 0:d.repeat_mode)==e(O).OFF,"mdi-repeat-off"],[((m=e(t).activePlayerQueue)==null?void 0:m.repeat_mode)==e(O).ALL,"mdi-repeat"],[((h=e(t).activePlayerQueue)==null?void 0:h.repeat_mode)==e(O).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:i[0]||(i[0]=b=>{var S,B,E,U;return e(P).queueCommandRepeat(((S=e(t).activePlayerQueue)==null?void 0:S.queue_id)||"",e(me)(null,[[((B=e(t).activePlayerQueue)==null?void 0:B.repeat_mode)==e(O).OFF,e(O).ONE],[((E=e(t).activePlayerQueue)==null?void 0:E.repeat_mode)==e(O).ALL,e(O).OFF],[((U=e(t).activePlayerQueue)==null?void 0:U.repeat_mode)==e(O).ONE,e(O).ALL]]))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Et=A({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(o,i)=>{var c,s,u,y,_,n,f;return l.isVisible?(v(),V(ie,q({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((c=e(t).activePlayerQueue)!=null&&c.active)||((s=e(t).activePlayerQueue)==null?void 0:s.items)==0,color:e(me)((u=l.icon)==null?void 0:u.color,[[(y=e(t).activePlayerQueue)==null?void 0:y.shuffle_enabled,"primary",""]]),icon:e(me)((_=l.icon)==null?void 0:_.icon,[[(n=e(t).activePlayerQueue)==null?void 0:n.shuffle_enabled,"mdi-shuffle"],[((f=e(t).activePlayerQueue)==null?void 0:f.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:i[0]||(i[0]=d=>{var m,h;return e(P).queueCommandShuffle(((m=e(t).activePlayerQueue)==null?void 0:m.queue_id)||"",!((h=e(t).activePlayerQueue)!=null&&h.shuffle_enabled))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Lt=A({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(o,i)=>{var c,s,u,y,_,n;return e(t).activePlayerQueue&&((c=e(t).activePlayerQueue)!=null&&c.active)&&l.isVisible?(v(),V(ie,q({key:0},l.icon,{disabled:e(t).activePlayerQueue&&!((s=e(t).activePlayerQueue)!=null&&s.active)&&((u=e(t).activePlayerQueue)==null?void 0:u.items)==0,icon:((y=e(t).activePlayerQueue)==null?void 0:y.state)=="playing"?l.withCircle?"mdi-pause-circle":"mdi-pause":l.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:i[0]||(i[0]=f=>e(P).queueCommandPlayPause(e(t).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):((_=e(t).activePlayer)==null?void 0:_.state)==e(ra).PLAYING&&l.isVisible?(v(),V(ie,q({key:1},l.icon,{icon:"mdi-stop",type:"btn",onClick:i[1]||(i[1]=f=>e(P).queueCommandStop(e(t).activePlayer.player_id))}),null,16)):l.isVisible?(v(),V(ie,q({key:2},l.icon,{disabled:((n=e(t).activePlayerQueue)==null?void 0:n.items)==0,icon:l.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:i[2]||(i[2]=f=>{var d;return e(P).queueCommandPlay(((d=e(t).activePlayerQueue)==null?void 0:d.queue_id)||e(t).activePlayer.player_id)})}),null,16,["disabled","icon"])):Q("",!0)}}}),Rt=A({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(o,i)=>{var c,s;return l.isVisible?(v(),V(ie,q({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((c=e(t).activePlayerQueue)!=null&&c.active)||((s=e(t).activePlayerQueue)==null?void 0:s.items)==0,icon:"mdi-skip-previous-outline",type:"btn",onClick:i[0]||(i[0]=u=>e(P).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Ht=A({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(o,i)=>{var c,s;return l.isVisible?(v(),V(ie,q({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((c=e(t).activePlayerQueue)!=null&&c.active)||((s=e(t).activePlayerQueue)==null?void 0:s.items)==0,icon:"mdi-skip-next-outline",type:"btn",onClick:i[0]||(i[0]=u=>e(P).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),ql={key:0,style:{display:"inline-flex"}},El={key:0,class:"player-controls-elements"},Ll={key:1,class:"player-controls-elements"},Rl={key:2},Hl={key:3,class:"player-controls-elements"},Fl={key:4,class:"player-controls-elements"},st=A({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){const l=a;return(o,i)=>{var c,s,u,y,_;return l.visibleComponents?(v(),C("div",ql,[l.visibleComponents&&((c=l.visibleComponents.shuffle)!=null&&c.isVisible)?(v(),C("div",El,[r(Et,{class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((s=l.visibleComponents.previous)!=null&&s.isVisible)?(v(),C("div",Ll,[r(Rt,{class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((u=l.visibleComponents.play)!=null&&u.isVisible)?(v(),C("div",Rl,[r(Lt,{class:"media-controls-item","with-circle":l.visibleComponents.play.withCircle,icon:l.visibleComponents.play.icon},null,8,["with-circle","icon"])])):Q("",!0),l.visibleComponents&&((y=l.visibleComponents.next)!=null&&y.isVisible)?(v(),C("div",Hl,[r(Ht,{icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((_=l.visibleComponents.repeat)!=null&&_.isVisible)?(v(),C("div",Fl,[r(qt,{icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0)])):Q("",!0)}}});const Ft=A({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,o=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(i,c)=>{var s,u,y;return l.isVisible?(v(),V(ie,q({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((s=e(t).activePlayerQueue)!=null&&s.active)||((u=e(t).activePlayerQueue)==null?void 0:u.items)==0,icon:"mdi-playlist-play",color:e(me)((y=l.icon)==null?void 0:y.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:o}),null,16,["disabled","color"])):Q("",!0)}}}),Dt=A({__name:"SpeakerBtn",props:{color:{}},setup(a){return(l,o)=>(v(),V(se,{variant:"icon",ripple:!1,icon:"",onClick:o[0]||(o[0]=i=>e(t).showPlayersMenu=!0)},{default:p(()=>{var i;return[r(F,{color:l.color?l.color:"",size:24,icon:(i=e(t).activePlayer)!=null&&i.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}});const Dl={props:{width:String,height:String,style:String,isPowered:Boolean},emits:["update:model-value"],setup(a,l){const o=z(!0),i=I(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:o.value?0:10,step:2,elevation:0,style:`width: ${a.width}; height:${a.height}; display: inline-grid; ${a.style}`,disabled:!a.isPowered})),c=I(()=>({...i.value,...l}));return{isThumbHidden:o,playerVolumeProps:c,onWheel:({deltaY:u})=>{const y=c.value.step,_=l.attrs["model-value"],n=u<0?y:-y;l.emit("update:model-value",_+n)}}}};function Ul(a,l,o,i,c,s){return v(),V(Tt,q(i.playerVolumeProps,{onTouchstart:l[0]||(l[0]=u=>i.isThumbHidden=!1),onTouchend:l[1]||(l[1]=u=>i.isThumbHidden=!0),onMouseenter:l[2]||(l[2]=u=>i.isThumbHidden=!1),onMouseleave:l[3]||(l[3]=u=>i.isThumbHidden=!0),onWheel:_e(i.onWheel,["prevent"]),"onUpdate:modelValue":l[4]||(l[4]=u=>a.$emit("update:model-value",u))}),qe({_:2},[j(a.$slots,(u,y)=>({name:y,fn:p(()=>[Le(a.$slots,y,{},void 0,!0)])}))]),1040,["onWheel"])}const Te=K(Dl,[["render",Ul],["__scopeId","data-v-79eabd73"]]),Nl={class:"text-center"},Yl={class:"text-caption"},Ol={key:0,class:"syncbtn"},Xl={key:0},Gl={class:"text-center"},jl={key:1},Kl={key:0,class:"text-caption"},Jl={key:1,class:"text-caption"},Zl=A({__name:"VolumeControl",props:{player:{}},setup(a){const l=a,o=z(!1),i=z([]),c=function(n,f=!0){var m,h,b;const d=[];f&&n.type!=re.GROUP&&n.type!=re.SYNC_GROUP&&d.push(n);for(const S of n.group_childs){const B=(m=P)==null?void 0:m.players[S];B&&B.available&&!d.includes(B)&&d.push(B)}if(o.value&&n.type==re.PLAYER)for(const S of Object.keys((h=P)==null?void 0:h.players)){const B=(b=P)==null?void 0:b.players[S];B&&B.available&&B.can_sync_with.includes(n.player_id)&&!d.includes(B)&&d.push(B)}return d.sort((S,B)=>S.display_name.toUpperCase()>B.display_name.toUpperCase()?1:-1),d},s=function(n,f){n.type==re.GROUP||n.type==re.SYNC_GROUP||n.group_childs.length>0?P.playerCommandGroupPower(n.player_id,f):P.playerCommandPower(n.player_id,f)},u=function(){o.value=!o.value,i.value=[...l.player.group_childs]},y=function(n,f){f?i.value.push(n):i.value=i.value.filter(d=>d!=n)},_=function(){const n=l.player.group_childs.filter(f=>!i.value.includes(f));n.length>0&&P.playerCommandUnSyncMany(n),P.playerCommandSyncMany(l.player.player_id,i.value),o.value=!1};return(n,f)=>(v(),V(Ae,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>[r(le,null,{prepend:p(()=>[$("div",{style:W(n.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("div",Nl,[r(se,{icon:"",style:{height:"25px !important"},onClick:f[0]||(f[0]=d=>s(n.player,!n.player.powered))},{default:p(()=>[r(F,{size:25,icon:n.player.volume_muted?"mdi-volume-off":"mdi-power"},null,8,["icon"])]),_:1}),$("div",Yl,w(n.player.group_volume),1)])],4)]),default:p(()=>[$("div",{class:"volumesliderrow",style:W(n.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,w(e(Me)(n.player,27)),1),r(Te,{class:"vc-slider",width:"100%",color:"secondary","is-powered":n.player.powered,disabled:!n.player.available||!n.player.powered,"model-value":Math.round(n.player.group_volume),"onUpdate:modelValue":f[1]||(f[1]=d=>e(P).playerCommandGroupVolume(n.player.player_id,d))},null,8,["is-powered","disabled","model-value"])],4)]),append:p(()=>[$("div",{style:W(n.player.powered?"opacity: 0.75":"opacity: 0.5")},[n.player.type==e(re).PLAYER&&n.player.can_sync_with.length&&Object.values(e(P).players).filter(d=>!d.synced_to&&d.can_sync_with.includes(n.player.player_id)).length>0?(v(),C("div",Ol,[r(se,{icon:"",onClick:u},{default:p(()=>[r(F,null,{default:p(()=>[R("mdi-link-variant")]),_:1})]),_:1})])):Q("",!0)],4)]),_:1}),n.player.group_childs.length>0||o.value?(v(),C("div",Xl,[r(Se,{style:{"margin-top":"7px","margin-bottom":"7px"}}),(v(!0),C(N,null,j(c(n.player,!o.value),d=>(v(),V(le,{key:d.player_id,density:"compact",style:W(d.powered||o.value?"opacity: 0.75":"opacity: 0.5"),onClick:f[2]||(f[2]=_e(()=>{},["stop"]))},{prepend:p(()=>[$("div",null,[$("div",Gl,[o.value?(v(),V(jt,{key:0,class:"checkbox","model-value":i.value.includes(d.player_id),"onUpdate:modelValue":m=>y(d.player_id,m)},null,8,["model-value","onUpdate:modelValue"])):(v(),C("div",jl,[r(se,{icon:"",style:{"min-height":"20px",height:"25px !important"},onClick:m=>e(P).playerCommandPowerToggle(d.player_id)},{default:p(()=>[r(F,{size:25,icon:"mdi-power"})]),_:2},1032,["onClick"]),d.volume_muted?(v(),C("div",Kl,w(n.$t("muted")),1)):(v(),C("div",Jl,w(d.volume_level),1))]))])])]),default:p(()=>[$("div",{class:"volumesliderrow",style:W(d.powered||o.value?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,w(e(pt)(d.display_name,27)),1),r(Te,{width:"100%",color:"secondary","is-powered":d.powered,disabled:!n.player.available||!d.powered&&!o.value,"model-value":Math.round(d.volume_level),"onUpdate:modelValue":m=>e(P).playerCommandVolumeSet(d.player_id,m)},null,8,["is-powered","disabled","model-value","onUpdate:modelValue"])],4)]),_:2},1032,["style"]))),128))])):Q("",!0),o.value?(v(),V(le,{key:1},{default:p(()=>[r(be,{color:"primary",width:"100%",onClick:_},{default:p(()=>[R(w(n.$t("apply")),1)]),_:1})]),_:1})):Q("",!0)]),_:1}))}});const Ut=K(Zl,[["__scopeId","data-v-bfd22c65"]]),ei={key:0},ti={key:0},ai={class:"text-caption"},li={key:1},ii=A({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,o=z(!1);return(i,c)=>l.isVisible&&e(t).activePlayer?(v(),C("div",ei,[r(St,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=s=>o.value=s),class:"volume-control-dialog","close-on-content-click":!1,scrim:i.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:p(({props:s})=>{var u,y;return[e(H)("bp5")||!i.responsiveVolumeSize?(v(),C("div",ti,[r(Te,{style:"margin-right: 0px; margin-left: 0px;",width:i.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((u=e(t).activePlayer)==null?void 0:u.group_volume)||0):Math.round(((y=e(t).activePlayer)==null?void 0:y.volume_level)||0),"onUpdate:modelValue":c[0]||(c[0]=_=>{var n,f;return e(t).activePlayer.group_childs.length>0?e(P).playerCommandGroupVolume(((n=e(t).activePlayer)==null?void 0:n.player_id)||"",_):e(P).playerCommandVolumeSet(((f=e(t).activePlayer)==null?void 0:f.player_id)||"",_)})},{prepend:p(()=>[r(se,q({variant:"icon",size:"48",ripple:!1},{...s}),{default:p(()=>{var _,n;return[r(F,{color:l.color?i.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),$("div",ai,w(e(t).activePlayer.group_childs.length>0?Math.round(((_=e(t).activePlayer)==null?void 0:_.group_volume)||0):Math.round(((n=e(t).activePlayer)==null?void 0:n.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(v(),C("div",li,[r(se,q({...s},{size:"48",variant:"icon"}),{default:p(()=>{var _,n;return[r(F,{color:l.color?i.color:"",icon:"mdi-volume-high"},null,8,["color"]),$("div",{class:"text-caption",style:W({color:l.color?i.color:""})},w(e(t).activePlayer.group_childs.length>0?Math.round(((_=e(t).activePlayer)==null?void 0:_.group_volume)||0):Math.round(((n=e(t).activePlayer)==null?void 0:n.volume_level)||0)),5)]}),_:2},1040)]))]}),default:p(()=>[r(Oe,{"min-width":300},{default:p(()=>[r(Ae,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>{var s,u,y;return[r(le,{density:"compact","two-line":"",title:(s=e(t).activePlayer)==null?void 0:s.display_name.substring(0,25),subtitle:(u=e(t).activePlayer)!=null&&u.powered?i.$t("state."+((y=e(t).activePlayer)==null?void 0:y.state)):i.$t("state.off")},{prepend:p(()=>[r(F,{size:"50",icon:e(t).activePlayer.icon,color:"primary"},null,8,["icon"])]),_:1},8,["title","subtitle"]),r(Se),e(t).activePlayer?(v(),V(Ut,{key:0,player:e(t).activePlayer},null,8,["player"])):Q("",!0)]}),_:1})]),_:1})]),_:1},8,["modelValue","scrim"])])):Q("",!0)}});const Nt=K(ii,[["__scopeId","data-v-e73a7beb"]]),oi={class:"main"},si={key:0,class:"main-media-details"},ni={class:"main-media-details-image"},ui={class:"main-media-details-track-info"},ri={key:0},di={style:{margin:"auto","padding-top":"20px"}},ci={key:1,class:"main-queue-items"},mi={class:"queue-items-scroll-box"},vi={class:"media-thumb listitem-media-thumb"},yi={key:0},pi={class:"player-bottom"},fi={style:{height:"50px"}},_i={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},hi={class:"media-controls"},bi=A({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{t:l}=da(),{name:o}=ft(),i=a,c=z([]),s=z(""),u=z(0),y=I(()=>t.activePlayerQueue?c.value.slice(t.activePlayerQueue.current_index):[]),_=I(()=>t.activePlayerQueue?c.value.slice(0,t.activePlayerQueue.current_index):[]),n=I(()=>{switch(o.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),f=I(()=>{switch(o.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),d=function(k){t.showFullscreenPlayer=!1,Ce.push({name:k.media_type,params:{itemId:k.item_id,provider:k.provider}})},m=function(k){t.globalSearchTerm=k,Ce.push({name:"search"}),t.showFullscreenPlayer=!1},h=function(k,g){var L,X,G,Y,ne,de,ue;const x=c.value.indexOf(g),M=[{label:"play_now",labelArgs:[],action:()=>{S(g,"play_now")},icon:"mdi-play-circle-outline",disabled:x===((L=t.activePlayerQueue)==null?void 0:L.current_index)||x===((X=t.activePlayerQueue)==null?void 0:X.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{S(g,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:x<=(((G=t.activePlayerQueue)==null?void 0:G.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{S(g,"up")},icon:"mdi-arrow-up",disabled:x<=(((Y=t.activePlayerQueue)==null?void 0:Y.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{S(g,"down")},icon:"mdi-arrow-down",disabled:x<=(((ne=t.activePlayerQueue)==null?void 0:ne.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{S(g,"delete")},icon:"mdi-delete",disabled:x<=(((de=t.activePlayerQueue)==null?void 0:de.index_in_buffer)||0)}];((ue=g==null?void 0:g.media_item)==null?void 0:ue.media_type)==oe.TRACK&&M.push({label:"show_info",labelArgs:[],action:()=>{d(g.media_item)},icon:"mdi-information-outline",disabled:!1}),ce.emit("contextmenu",{items:M,posX:k.clientX,posY:k.clientY})},b=function(k){const g=[{label:"settings.player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,Ce.push(`/settings/editplayer/${t.activePlayerQueue.queue_id}`)},icon:"mdi-cog-outline"},{label:"queue_clear",labelArgs:[],action:()=>{P.queueCommandClear(t.activePlayerQueue.queue_id)},icon:"mdi-cancel"},{label:t.activePlayerQueue.shuffle_enabled?"shuffle_enabled":"shuffle_disabled",labelArgs:[],action:()=>{P.queueCommandShuffleToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-shuffle":"mdi-shuffle-disabled"},{label:"repeat_mode",labelArgs:[l(`repeatmode.${t.activePlayerQueue.repeat_mode}`)],action:()=>{P.queueCommandRepeatToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-repeat":"mdi-repeat-off"}];ce.emit("contextmenu",{items:g,posX:k.clientX,posY:k.clientY})},S=function(k,g){var x,M,L,X,G;!k||!t.activePlayerQueue||(g=="play_now"?P.queueCommandPlayIndex((x=t.activePlayerQueue)==null?void 0:x.queue_id,k.queue_item_id):g=="move_next"?P.queueCommandMoveNext((M=t.activePlayerQueue)==null?void 0:M.queue_id,k.queue_item_id):g=="up"?P.queueCommandMoveUp((L=t.activePlayerQueue)==null?void 0:L.queue_id,k.queue_item_id):g=="down"?P.queueCommandMoveDown((X=t.activePlayerQueue)==null?void 0:X.queue_id,k.queue_item_id):g=="delete"&&P.queueCommandDelete((G=t.activePlayerQueue)==null?void 0:G.queue_id,k.queue_item_id))},B=async function(k=!1){if(k&&(c.value=[]),t.activePlayerQueue){const g=c.value.length,x=(t.activePlayerQueue.current_index||0)+50,M=await P.getPlayerQueueItems(t.activePlayerQueue.queue_id,x,g);c.value.push(...M.items)}},E=function({done:k}){var g;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){k("empty");return}if(c.value.length>=((g=t.activePlayerQueue)==null?void 0:g.items)){k("empty");return}B(!1).then(()=>{k("ok")})};Be(()=>{const k=P.subscribe(ca.QUEUE_ITEMS_UPDATED,()=>{B(!0)});De(k)});const U=function(k){var x;if(!((x=t.curQueueItem)!=null&&x.media_item))return;if(!t.curQueueItem.media_item.favorite){P.toggleFavorite(t.curQueueItem.media_item);return}const g=[{label:"favorites_remove",labelArgs:[],action:()=>{P.toggleFavorite(t.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{ce.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];ce.emit("contextmenu",{items:g,posX:k.clientX,posY:k.clientY})};return ae(()=>t.showQueueItems,k=>{k&&B(!0)},{immediate:!0}),ae(()=>i.colorPalette,k=>{!k.darkColor||!k.lightColor?s.value=xe.theme.current.value.dark?"#000":"#fff":s.value=xe.theme.current.value.dark?k.darkColor:k.lightColor}),(k,g)=>e(t).showPlayersMenu?Q("",!0):(v(),V(ht,{key:0,modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":g[9]||(g[9]=x=>e(t).showFullscreenPlayer=x),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:p(()=>[r(Oe,{color:e(ma)(s.value,77,40)},{default:p(()=>{var x,M,L,X,G,Y,ne,de,ue,Pe,pe,Ke,Je,Ze;return[r(Ka,{class:"v-toolbar-default",color:"transparent",title:e(t).activePlayer?e(Me)(e(t).activePlayer):""},{prepend:p(()=>[r(se,{icon:"",onClick:g[0]||(g[0]=T=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(F,{icon:"mdi-chevron-down"})]),_:1})]),append:p(()=>[r(se,{icon:"",onClick:g[1]||(g[1]=T=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(F,{icon:"mdi-dots-vertical",onClick:_e(b,["stop"])})]),_:1})]),_:1},8,["title"]),$("div",oi,[e(H)("bp7")||!e(t).showQueueItems?(v(),C("div",si,[$("div",ni,[r($e,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])]),$("div",ui,[(x=e(t).curQueueItem)!=null&&x.media_item?(v(),V(Ve,{key:0,style:W(`font-size: ${n.value};cursor:pointer;`),onClick:g[2]||(g[2]=T=>d(e(t).curQueueItem.media_item))},{default:p(()=>[R(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(v(),C("span",ri,"( "+w(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)]),_:1},8,["style"])):(M=e(t).activePlayerQueue)!=null&&M.display_name||(L=e(t).activePlayer)!=null&&L.display_name?(v(),V(Ve,{key:1,style:W(`font-size: ${n.value};cursor:pointer;`),onClick:g[3]||(g[3]=T=>e(t).showPlayersMenu=!0)},{default:p(()=>{var T,te;return[R(w(((T=e(t).activePlayerQueue)==null?void 0:T.display_name)||((te=e(t).activePlayer)==null?void 0:te.display_name)),1)]}),_:1},8,["style"])):(v(),V(Ve,{key:2,style:W(`font-size: ${n.value};cursor:pointer;`),onClick:g[4]||(g[4]=T=>e(t).showPlayersMenu=!0)},{default:p(()=>{var T;return[R(w(((T=e(t).activePlayer)==null?void 0:T.display_name)||k.$t("no_player")),1)]}),_:1},8,["style"])),((G=(X=e(t).curQueueItem)==null?void 0:X.media_item)==null?void 0:G.media_type)==e(oe).RADIO&&((ne=(Y=e(t).curQueueItem)==null?void 0:Y.streamdetails)!=null&&ne.stream_title)?(v(),V(fe,{key:3,class:"text-h6 text-md-h5 text-lg-h4",onClick:g[5]||(g[5]=T=>m(e(t).curQueueItem.streamdetails.stream_title))},{default:p(()=>[R(w(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):Q("",!0),(de=e(t).curQueueItem)!=null&&de.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(v(),V(fe,{key:4,style:W(`font-size: ${f.value};cursor:pointer;`),onClick:g[6]||(g[6]=T=>d(e(t).curQueueItem.media_item.album))},{default:p(()=>[R(w(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):Q("",!0),(ue=e(t).curQueueItem)!=null&&ue.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(v(),V(fe,{key:5,style:W(`font-size: ${f.value};cursor:pointer;`),onClick:g[7]||(g[7]=T=>d(e(t).curQueueItem.media_item.artists[0]))},{default:p(()=>[R(w(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):Q("",!0),((Pe=e(t).activePlayer)==null?void 0:Pe.active_source)!=((pe=e(t).activePlayer)==null?void 0:pe.player_id)?(v(),V(fe,{key:6,style:W(`font-size: ${f.value}`)},{default:p(()=>{var T;return[R(w(k.$t("external_source_active",[(T=e(t).activePlayer)==null?void 0:T.active_source])),1)]}),_:1},8,["style"])):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(v(),V(fe,{key:7,style:W(`font-size: ${f.value}`)},{default:p(()=>[R(w(k.$t("queue_empty")),1)]),_:1},8,["style"])):Q("",!0),$("div",di,[r(Kt)])])])):Q("",!0),e(t).showQueueItems?(v(),C("div",ci,[r(He,{modelValue:u.value,"onUpdate:modelValue":g[8]||(g[8]=T=>u.value=T),"hide-slider":"",density:"compact"},{default:p(()=>[r(ve,{value:0},{default:p(()=>{var T,te;return[R(w(k.$t("queue"))+" ",1),r(Re,{color:"grey",content:(((T=e(t).activePlayerQueue)==null?void 0:T.items)||0)-(((te=e(t).activePlayerQueue)==null?void 0:te.current_index)||0),inline:""},null,8,["content"])]}),_:1}),r(ve,{value:1},{default:p(()=>{var T;return[R(w(k.$t("played"))+" ",1),r(Re,{color:"grey",content:(T=e(t).activePlayerQueue)==null?void 0:T.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),$("div",mi,[r(za,{items:y.value,onLoad:E,"empty-text":"",height:"100%"},{default:p(()=>[r(Ja,{"item-height":70,"max-height":"90%",items:u.value==0?y.value:_.value},{default:p(({item:T})=>[r(ja,{link:"","show-menu-btn":!0,onClick:_e(te=>h(te,T),["stop"]),onMenu:_e(te=>h(te,T),["stop"])},{prepend:p(()=>[$("div",vi,[r($e,{size:"50",item:T},null,8,["item"])])]),title:p(()=>[R(w(T.name),1)]),subtitle:p(()=>[R(w(e(we)(T.duration))+" ",1),T.media_item&&"album"in T.media_item&&T.media_item.album?(v(),C("span",yi," | "+w(T.media_item.album.name),1)):Q("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1},8,["items"])])])):Q("",!0)]),$("div",pi,[$("div",fi,[r(Dt,{style:{position:"absolute","margin-left":"3%",right:"auto"}}),r(Nt,{"responsive-volume-size":!1,style:{position:"absolute","margin-left":"auto",right:"5%"}})]),$("div",_i,[r(Fe,{"is-progress-bar":!1,color:k.$vuetify.theme.current.dark?i.colorPalette.lightColor:i.colorPalette.darkColor},null,8,["color"])]),$("div",hi,[r(ie,{disabled:!((Ke=e(t).curQueueItem)!=null&&Ke.media_item),icon:(Ze=(Je=e(t).curQueueItem)==null?void 0:Je.media_item)!=null&&Ze.favorite?"mdi-heart":"mdi-heart-outline",title:k.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:U},null,8,["disabled","icon","title"]),k.$vuetify.display.mdAndUp?(v(),V(Et,{key:0,class:"media-controls-item","max-height":"30px"})):Q("",!0),r(Rt,{class:"media-controls-item","max-height":"45px"}),r(Lt,{class:"media-controls-item","max-height":"100px"}),r(Ht,{class:"media-controls-item","max-height":"45px"}),k.$vuetify.display.mdAndUp?(v(),V(qt,{key:1,class:"media-controls-item","max-height":"35px"})):Q("",!0),r(Ft,{class:"media-controls-item","max-height":"30px"})])])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}});const gi=K(bi,[["__scopeId","data-v-2fffc30f"]]),Pi={key:0},ki={key:1},Ci={class:"d-flex justify-center",style:{width:"100%"}},wi={key:0},Vi={key:1},$i={key:2,class:"line-clamp-1"},Qi={key:3,class:"line-clamp-1"},Ii={key:4,class:"line-clamp-1"},xi={key:5,class:"line-clamp-1"},Si={key:0},Ti=A({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=a,o=I(()=>{var i,c;return(c=(i=t.activePlayerQueue)==null?void 0:i.current_item)==null?void 0:c.streamdetails});return(i,c)=>(v(),V(le,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:p(()=>{var s;return[$("div",{class:"media-thumb player-media-thumb",style:W(`height: ${e(H)({breakpoint:"phone"})?50:64}px; width: ${e(H)({breakpoint:"phone"})?50:64}px; `)},[r(gi,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":i.colorPalette},null,8,["show-fullscreen","color-palette"]),r($e,{item:((s=e(t).curQueueItem)==null?void 0:s.media_item)||e(t).curQueueItem,fallback:e(nt),style:{cursor:"pointer"},onClick:c[0]||(c[0]=u=>e(t).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:p(()=>[$("div",{style:W({cursor:"pointer",color:i.primaryColor})},[e(t).curQueueItem&&e(t).curQueueItem.media_item?(v(),C("div",{key:0,onClick:c[1]||(c[1]=s=>e(t).showFullscreenPlayer=!0)},[R(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(v(),C("span",Pi,"("+w(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)])):e(t).curQueueItem?(v(),C("div",ki,w(e(t).curQueueItem.name),1)):e(t).activePlayer?Q("",!0):(v(),C("div",{key:2,onClick:c[2]||(c[2]=s=>e(t).showPlayersMenu=!0)},w(i.$t("no_player")),1))],4)]),append:p(()=>{var s,u,y;return[(s=o.value)!=null&&s.audio_format.content_type&&!e(H)({breakpoint:"phone"})&&i.showQualityDetailsBtn?(v(),V(Na,q({key:0,disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((y=e(t).activePlayerQueue)==null?void 0:y.items)==0,class:"player-track-content-type",style:i.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},l),{default:p(()=>[$("div",Ci,w(o.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):Q("",!0)]}),subtitle:p(()=>{var s,u,y,_,n,f,d,m,h;return[$("div",{style:W({cursor:"pointer",color:i.primaryColor}),class:"line-clamp-1",onClick:c[3]||(c[3]=b=>e(t).showFullscreenPlayer=!0)},[e(t).curQueueItem&&((s=e(t).curQueueItem.media_item)==null?void 0:s.media_type)==e(oe).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!l.showOnlyArtist?(v(),C("div",wi,w(e(va)(e(t).curQueueItem.media_item.artists))+"  "+w(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(v(),C("div",Vi,w(e(t).curQueueItem.media_item.artists[0].name),1)):(y=(u=e(t).curQueueItem)==null?void 0:u.streamdetails)!=null&&y.stream_title?(v(),C("div",$i,w((n=(_=e(t).curQueueItem)==null?void 0:_.streamdetails)==null?void 0:n.stream_title),1)):e(t).curQueueItem&&((f=e(t).curQueueItem.media_item)!=null&&f.metadata.description)?(v(),C("div",Qi,w(e(t).curQueueItem.media_item.metadata.description),1)):((d=e(t).activePlayer)==null?void 0:d.active_source)!=((m=e(t).activePlayer)==null?void 0:m.player_id)?(v(),C("div",Ii,w(i.$t("external_source_active",[(h=e(t).activePlayer)==null?void 0:h.active_source])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(v(),C("div",xi,w(i.$t("queue_empty")),1)):Q("",!0)],4),e(t).activePlayer?(v(),C("div",Si,w(e(Me)(e(t).activePlayer)),1)):Q("",!0)]}),_:1}))}});const Bi=A({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,o)=>(v(),C(N,null,[l.player&&l.player.isVisible?(v(),V(Dt,{key:0,color:l.player.color},null,8,["color"])):Q("",!0),l.queue&&l.queue.isVisible?(v(),V(Ft,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):Q("",!0),l.volume&&l.volume.isVisible?(v(),V(Nt,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):Q("",!0)],64))}}),zi=["data-floating"],Mi=["data-mobile"],Ai={class:"mediacontrols-left"},Wi={class:"mediacontrols-bottom-center"},qi={style:{width:"100%"}},Ei={class:"mediacontrols-bottom-right"},Li={key:1,class:"volume-slider"},Ri=A({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){ya(s=>({"4faac088":c.value})),ut();const{mobile:l}=ft({mobileBreakpoint:576}),o=z({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),i=new Image;i.src=xe.theme.current.value.dark?nt:Jt,i.crossOrigin="Anonymous",i.addEventListener("load",function(){o.value=pa(i)});const c=I(()=>xe.theme.current.value.dark?o.value&&o.value.darkColor?o.value.darkColor+"26":"CCCCCC26":o.value&&o.value.lightColor?o.value.lightColor+"26":"CCCCCC26");return ae(()=>{var s;return(s=t.curQueueItem)==null?void 0:s.queue_item_id},()=>{var s;(s=t.curQueueItem)!=null&&s.media_item?i.src=et(t.curQueueItem.media_item,at.THUMB)||"":t.curQueueItem?i.src=et(t.curQueueItem,at.THUMB)||"":i.src=""}),(s,u)=>{var _,n,f,d,m,h,b;const y=vt("breakpoint");return v(),C(N,null,[$("div",{class:"mediacontrols-bg","data-floating":s.useFloatingPlayer},null,8,zi),e(H)("bp3")?Ie((v(),V(Fe,{key:0,color:s.$vuetify.theme.current.dark?o.value.lightColor||"#fff":o.value.darkColor||"#000","is-progress-bar":!0},null,8,["color"])),[[y,{breakpoint:"bp3",condition:"lt"}]]):Q("",!0),$("div",{class:"mediacontrols","data-mobile":e(l)},[$("div",Ai,[r(Ti,{"show-quality-details-btn":!!e(H)("bp8"),"show-only-artist":!e(H)("bp7"),"color-palette":o.value,"primary-color":s.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),$("div",Wi,[$("div",qi,[r(st,{"visible-components":{repeat:{isVisible:e(H)("bp3")},shuffle:{isVisible:e(H)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:e(H)("bp3")},next:{isVisible:e(H)("bp3")}}},null,8,["visible-components"]),Ie(r(Fe,{color:s.$vuetify.theme.current.dark?o.value.lightColor||"#fff":o.value.darkColor||"#000","is-progress-bar":!1,disabled:!((_=e(t).activePlayerQueue)!=null&&_.active)||((d=(f=(n=e(t).activePlayerQueue)==null?void 0:n.current_item)==null?void 0:f.media_item)==null?void 0:d.media_type)!==e(oe).TRACK},null,8,["color","disabled"]),[[y,{breakpoint:"mobile",condition:"gt"}]])])]),$("div",Ei,[$("div",null,[r(Bi,{queue:{isVisible:e(H)("bp3"),color:s.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:s.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l),color:s.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),r(st,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(H)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:s.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Mi),e(l)?(v(),C("div",Li,[r(Te,{width:"100%",color:"secondary","is-powered":(m=e(t).activePlayer)==null?void 0:m.powered,disabled:!e(t).activePlayer||!((h=e(t).activePlayer)!=null&&h.powered),"model-value":Math.round(((b=e(t).activePlayer)==null?void 0:b.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":u[0]||(u[0]=S=>e(P).playerCommandGroupVolume(e(t).activePlayerId,S)),"onClick:prepend":u[1]||(u[1]=S=>e(P).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5)),"onClick:append":u[2]||(u[2]=S=>e(P).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5))},null,8,["is-powered","disabled","model-value"])])):Q("",!0)],64)}}});const Hi=K(Ri,[["__scopeId","data-v-d03b49cf"]]);const Fi=J({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...bt(),...ye(),...Pt(),...It(),...kt(),...ge({tag:"footer"}),...ze()},"VFooter"),Di=Z()({name:"VFooter",props:Fi(),setup(a,l){let{slots:o}=l;const{themeClasses:i}=Ne(a),{backgroundColorClasses:c,backgroundColorStyles:s}=Xe(D(a,"color")),{borderClasses:u}=Ct(a),{elevationClasses:y}=Vt(a),{roundedClasses:_}=$t(a),n=Qe(32),{resizeRef:f}=Sa(b=>{b.length&&(n.value=b[0].target.clientHeight)}),d=I(()=>a.height==="auto"?n.value:parseInt(a.height,10)),{layoutItemStyles:m,layoutIsReady:h}=xt({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:d,elementSize:I(()=>a.height==="auto"?void 0:d.value),active:I(()=>a.app),absolute:D(a,"absolute")});return ee(()=>r(a.tag,{ref:f,class:["v-footer",i.value,c.value,u.value,y.value,_.value,a.class],style:[s.value,a.app?m.value:{height:he(a.height)},a.style]},o)),a.app?h:{}}}),Ui=A({__name:"Footer",setup(a){const l=I(()=>t.navigationMenuStyle=="horizontal"),o=I(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),i=I(()=>l.value?o.value+5:0);return(c,s)=>(v(),C(N,null,[l.value?(v(),C("div",{key:0,class:Ee(c.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:W(`
      position: fixed;
      width: 100%;
      height: ${o.value+(e(H)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):Q("",!0),e(t).navigationMenuStyle=="horizontal"?(v(),V(Tl,{key:1,height:o.value},null,8,["height"])):Q("",!0),r(Di,{bottom:"",fixed:"",class:Ee(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:W(`bottom: ${i.value}px;`),elevation:"10",app:""},{default:p(()=>[r(Hi,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}});const Ni={key:0,class:"text-body-2",style:{"line-height":"1em"}},Yi={key:1,class:"text-body-2",style:{"line-height":"1em"}},Oi={key:2,class:"text-body-2",style:{"line-height":"1em"}},Xi=A({__name:"PlayerSelect",setup(a){const l=z(void 0),o=I(()=>{var f,d;const n=[];for(const m in(f=P)==null?void 0:f.players){const h=(d=P)==null?void 0:d.players[m];u(h,!0)&&n.push(h)}return n.slice().sort((m,h)=>{var b;return m.display_name.toUpperCase()>((b=h.display_name)==null?void 0:b.toUpperCase())?1:-1})});ae(()=>t.showPlayersMenu,n=>{n&&l.value==null&&(l.value=t.activePlayer?o.value.indexOf(t.activePlayer):void 0)}),ae(()=>t.activePlayerId,n=>{n&&localStorage.setItem("mass.LastPlayerId",n)}),ae(()=>P.players,n=>{n&&y()},{deep:!0}),ae(()=>P.state,n=>{n.value!=_t.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});const i=z(),c=z();Be(()=>{var n,f,d;i.value=(d=(f=(n=fa())==null?void 0:n.vnode)==null?void 0:f.el)==null?void 0:d.getRootNode(),y()});const s=function(n){c.value!=n&&(c.value=n,setTimeout(()=>{var d;const f=(d=i.value)==null?void 0:d.getElementById(n);f==null||f.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},0))},u=function(n,f=!0,d=!1,m=!1){return!(!n.enabled||!n.available&&!f||n.synced_to&&!d||n.hidden&&!m)},y=function(){if(t.activePlayer&&u(t.activePlayer,!1,!1,!1))return;const n=_();n&&(t.activePlayerId=n.player_id,console.debug("Selected new default player: ",n.display_name))},_=function(){const n=localStorage.getItem("mass.LastPlayerId");if(n&&n in P.players&&u(P.players[n],!1,!1,!1)&&P.players[n].powered)return P.players[n]};return(n,f)=>(v(),V(Xt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[1]||(f[1]=d=>e(t).showPlayersMenu=d),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:"290",style:{"z-index":"9999"}},{default:p(()=>[r(Ve,{class:"title"},{default:p(()=>[$("b",null,w(n.$t("players")),1)]),_:1}),r(Ya,{modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=d=>l.value=d),focusable:"",variant:"accordion",flat:""},{default:p(()=>[(v(!0),C(N,null,j(o.value,d=>(v(),V(Oa,{id:d.player_id,key:d.player_id,disabled:!d.available,flat:"",class:"playerrow"},{default:p(()=>[r(Xa,{"hide-actions":"",onClick:m=>{e(t).activePlayerId=d.player_id,s(d.player_id)}},{default:p(()=>[r(le,{class:"playerrow-list-item"},{prepend:p(()=>[r(F,{size:"45",icon:d.type==e(re).PLAYER&&d.group_childs.length?"mdi-speaker-multiple":d.icon,color:"primary"},null,8,["icon"])]),title:p(()=>[$("div",null,[$("b",null,w(e(pt)(e(Me)(d),22)),1)])]),subtitle:p(()=>[d.powered?d.active_source!=d.player_id&&e(P).queues[d.active_source]?(v(),C("div",Yi,w(n.$t("state."+d.state))+" ("+w(e(P).queues[d.active_source].display_name)+") ",1)):(v(),C("div",Oi,w(n.$t("state."+d.state)),1)):(v(),C("div",Ni,w(n.$t("state.off")),1))]),_:2},1024)]),_:2},1032,["onClick"]),r(Ga,null,{default:p(()=>[r(Ut,{player:d},null,8,["player"])]),_:2},1024)]),_:2},1032,["id","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}});const Gi=K(Xi,[["__scopeId","data-v-73a3abbd"]]);function ji(a={}){const{immediate:l=!1,onNeedRefresh:o,onOfflineReady:i,onRegistered:c,onRegisteredSW:s,onRegisterError:u}=a;let y,_,n;const f=async(m=!0)=>{await _,await(n==null?void 0:n())};async function d(){if("serviceWorker"in navigator){if(y=await _a(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[],import.meta.url).then(({Workbox:m})=>new m("./sw.js",{scope:"./",type:"classic"})).catch(m=>{u==null||u(m)}),!y)return;n=async()=>{await(y==null?void 0:y.messageSkipWaiting())};{let m=!1;const h=()=>{m=!0,y==null||y.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),o==null||o()};y.addEventListener("installed",b=>{typeof b.isUpdate>"u"?typeof b.isExternal<"u"?b.isExternal?h():!m&&(i==null||i()):b.isExternal?window.location.reload():!m&&(i==null||i()):b.isUpdate||i==null||i()}),y.addEventListener("waiting",h),y.addEventListener("externalwaiting",h)}y.register({immediate:l}).then(m=>{s?s("./sw.js",m):c==null||c(m)}).catch(m=>{u==null||u(m)})}}return _=d(),f}function Ki(a={}){const{immediate:l=!0,onNeedRefresh:o,onOfflineReady:i,onRegistered:c,onRegisteredSW:s,onRegisterError:u}=a,y=z(!1),_=z(!1);return{updateServiceWorker:ji({immediate:l,onNeedRefresh(){y.value=!0,o==null||o()},onOfflineReady(){_.value=!0,i==null||i()},onRegistered:c,onRegisteredSW:s,onRegisterError:u}),offlineReady:_,needRefresh:y}}const Ji={key:0,class:"pwa-toast",role:"alert"},Zi={class:"message"},eo={key:0},to={key:1},ao=A({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:o,updateServiceWorker:i}=Ki(),c=async()=>{l.value=!1,o.value=!1};return(s,u)=>e(l)||e(o)?(v(),C("div",Ji,[$("div",Zi,[e(l)?(v(),C("span",eo," App ready to work offline ")):(v(),C("span",to," New content available, click on reload button to update. "))]),e(o)?(v(),C("button",{key:0,onClick:u[0]||(u[0]=y=>e(i)())},"Reload")):Q("",!0),$("button",{onClick:c},"Close")])):Q("",!0)}});const lo=J({...ye(),...Aa({fullHeight:!0}),...ze()},"VApp"),io=Z()({name:"VApp",props:lo(),setup(a,l){let{slots:o}=l;const i=Ne(a),{layoutClasses:c,getLayoutItem:s,items:u,layoutRef:y}=Wa(a),{rtlClasses:_}=mt();return ee(()=>r("div",{ref:y,class:["v-application",i.themeClasses.value,c.value,_.value,a.class],style:[a.style]},[r("div",{class:"v-application__wrap"},[r(ha,null,{default:()=>{var n;return[r(N,null,[(n=o.default)==null?void 0:n.call(o)])]}})])])),{getLayoutItem:s,items:u,theme:i}}}),$o=A({__name:"Default",setup(a){return(l,o)=>(v(),V(io,null,{default:p(()=>[r(Gi),e(P).state.value==e(_t).CONNECTED?(v(),V(dl,{key:0})):(v(),V(Da,{key:1},{default:p(()=>[r(Ta,{indeterminate:"",size:"64"})]),_:1})),e(t).isInStandaloneMode?(v(),V(ao,{key:2})):Q("",!0),r(Ui)]),_:1}))}});export{$o as default};
