import{w as ae,i as fe,n as de,h as ze,c as He,b as Pe,U as Re,o as We}from"./index.c43be487.js";import{s as le,w as J,V as $e,o as qe,z as ee,A as te,h as $,d as c,j as u,i as M,r as p,C as ce,p as Me,W as Be,P as Ae,f as I,l as O,a as A,g as S,m as D,c as j,R as se,u as Z,n as z,E as je,F as Le,G as Ue,H as Ne,e as we,v as Ge}from"./scheduler.8ceb707f.js";import{S as ne,i as oe,b as Y,d as F,m as K,a as H,t as R,e as Q,f as Oe,g as De,c as Ve}from"./index.07e72a31.js";import{y as Je,z as Ze,k as be,n as ke,A as Ye,m as Fe,b as Ke,j as he,B as Qe,C as Xe}from"./index.5be2fceb.js";import{T as xe}from"./Tags.da6a56c8.js";import{a as ye}from"./Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{a as et}from"./index.218e9685.js";import{M as tt}from"./dayjs.min.5e6a5a69.js";import"./updater.e153cbf1.js";import{b as st,c as at,M as lt}from"./menu-trigger.0f0338f1.js";import{g as nt}from"./navigation.78a01be5.js";import{f as ot}from"./index.87fe8e34.js";import{T as rt}from"./Tooltip.8ec69d41.js";const qt=async l=>{let e=null;const s=await fetch(`${ae}/memories`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(e=t.detail,console.log(t),null));if(e)throw e;return s},Gt=async(l,e)=>{let s=null;const t=await fetch(`${ae}/memories/add`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`},body:JSON.stringify({content:e})}).then(async a=>{if(!a.ok)throw await a.json();return a.json()}).catch(a=>(s=a.detail,console.log(a),null));if(s)throw s;return t},Jt=async(l,e)=>{let s=null;const t=await fetch(`${ae}/memories/query`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`},body:JSON.stringify({content:e})}).then(async a=>{if(!a.ok)throw await a.json();return a.json()}).catch(a=>(s=a.detail,console.log(a),null));if(s)throw s;return t},Zt=async(l,e)=>{let s=null;const t=await fetch(`${ae}/memories/${e}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`}}).then(async a=>{if(!a.ok)throw await a.json();return a.json()}).then(a=>a).catch(a=>(s=a.detail,console.log(a),null));if(s)throw s;return t},Yt=async l=>{let e=null;const s=await fetch(`${ae}/memories/user`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).then(t=>t).catch(t=>(e=t.detail,console.log(t),null));if(e)throw e;return s};function it(l){let e,s;return e=new xe({props:{tags:l[0],deleteTag:l[2],addTag:l[1]}}),{c(){Y(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,a){K(e,t,a),s=!0},p(t,[a]){const o={};a&1&&(o.tags=t[0]),e.$set(o)},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){R(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function ct(l,e,s){let t,a;J(l,fe,f=>s(4,t=f)),J(l,de,f=>s(5,a=f));const o=$e();let{chatId:n=""}=e,r=[];const i=async()=>await Je(localStorage.token,n).catch(async f=>[]),m=async f=>{await Ze(localStorage.token,n,f),s(0,r=await i()),await be(localStorage.token,n,{tags:r}),de.set(await ke(localStorage.token))},w=async f=>{await Ye(localStorage.token,n,f),s(0,r=await i()),await be(localStorage.token,n,{tags:r}),console.log(a),await de.set(await ke(localStorage.token)),console.log(a),a.map(k=>k.name).includes(f)?(await fe.set(await Fe(localStorage.token,f)),t.find(k=>k.id===n)&&o("close")):await fe.set(await Ke(localStorage.token))};return qe(async()=>{n&&s(0,r=await i())}),l.$$set=f=>{"chatId"in f&&s(3,n=f.chatId)},[r,m,w,n]}class Ft extends ne{constructor(e){super(),oe(this,e,ct,it,le,{chatId:3})}}function ut(l){let e,s;return{c(){e=ee("svg"),s=ee("path"),this.h()},l(t){e=te(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=$(e);s=te(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),$(s).forEach(c),a.forEach(c),this.h()},h(){u(s,"stroke-linecap","round"),u(s,"stroke-linejoin","round"),u(s,"d","m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(t,a){M(t,e,a),p(e,s)},p(t,[a]){a&2&&u(e,"stroke-width",t[1]),a&1&&u(e,"class",t[0])},i:ce,o:ce,d(t){t&&c(e)}}}function ft(l,e,s){let{className:t="size-3.5"}=e,{strokeWidth:a="2.5"}=e;return l.$$set=o=>{"className"in o&&s(0,t=o.className),"strokeWidth"in o&&s(1,a=o.strokeWidth)},[t,a]}class dt extends ne{constructor(e){super(),oe(this,e,ft,ut,le,{className:0,strokeWidth:1})}}function ht(l){let e,s,t;return{c(){e=ee("svg"),s=ee("path"),t=ee("path"),this.h()},l(a){e=te(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=$(e);s=te(o,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),$(s).forEach(c),t=te(o,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),$(t).forEach(c),o.forEach(c),this.h()},h(){u(s,"fill-rule","evenodd"),u(s,"d","M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z"),u(s,"clip-rule","evenodd"),u(t,"fill-rule","evenodd"),u(t,"d","M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor"),u(e,"class",l[0])},m(a,o){M(a,e,o),p(e,s),p(e,t)},p(a,[o]){o&1&&u(e,"class",a[0])},i:ce,o:ce,d(a){a&&c(e)}}}function mt(l,e,s){let{className:t="w-4 h-4"}=e;return l.$$set=a=>{"className"in a&&s(0,t=a.className)},[t]}class pt extends ne{constructor(e){super(),oe(this,e,mt,ht,le,{className:0})}}function Ce(l){var U;let e,s,t,a,o,n,r,i,m,w,f,k,_;function v(d,y){return d[2].share_id?gt:_t}let T=v(l),E=T(l),C=((U=l[4])==null?void 0:U.features.enable_community_sharing)&&Te(l);m=new pt({});function N(d,y){return d[2].share_id?wt:vt}let g=N(l),h=g(l);return{c(){e=I("div"),s=I("div"),E.c(),t=A(),a=I("div"),o=I("div"),n=I("div"),C&&C.c(),r=A(),i=I("button"),Y(m.$$.fragment),w=A(),h.c(),this.h()},l(d){e=S(d,"DIV",{class:!0});var y=$(e);s=S(y,"DIV",{class:!0});var P=$(s);E.l(P),P.forEach(c),t=j(y),a=S(y,"DIV",{class:!0});var W=$(a);o=S(W,"DIV",{class:!0});var X=$(o);n=S(X,"DIV",{class:!0});var G=$(n);C&&C.l(G),r=j(G),i=S(G,"BUTTON",{class:!0,type:!0,id:!0});var q=$(i);F(m.$$.fragment,q),w=j(q),h.l(q),q.forEach(c),G.forEach(c),X.forEach(c),W.forEach(c),y.forEach(c),this.h()},h(){u(s,"class","text-sm dark:text-gray-300 mb-1"),u(i,"class","self-center flex items-center gap-1 px-3.5 py-2 rounded-xl text-sm font-medium bg-emerald-600 hover:bg-emerald-500 text-white"),u(i,"type","button"),u(i,"id","copy-and-share-chat-button"),u(n,"class","flex gap-1"),u(o,"class","flex flex-col items-end space-x-1 mt-1.5"),u(a,"class","flex justify-end"),u(e,"class","px-5 pt-4 pb-5 w-full flex flex-col justify-center")},m(d,y){M(d,e,y),p(e,s),E.m(s,null),p(e,t),p(e,a),p(a,o),p(o,n),C&&C.m(n,null),p(n,r),p(n,i),K(m,i,null),p(i,w),h.m(i,null),f=!0,k||(_=Z(i,"click",l[11]),k=!0)},p(d,y){var P;T===(T=v(d))&&E?E.p(d,y):(E.d(1),E=T(d),E&&(E.c(),E.m(s,null))),(P=d[4])!=null&&P.features.enable_community_sharing?C?C.p(d,y):(C=Te(d),C.c(),C.m(n,r)):C&&(C.d(1),C=null),g===(g=N(d))&&h?h.p(d,y):(h.d(1),h=g(d),h&&(h.c(),h.m(i,null)))},i(d){f||(H(m.$$.fragment,d),f=!0)},o(d){R(m.$$.fragment,d),f=!1},d(d){d&&c(e),E.d(),C&&C.d(),Q(m),h.d(),k=!1,_()}}}function _t(l){let e=l[3].t("Messages you send after creating your link won't be shared. Users with the URL will be able to view the shared chat.")+"",s;return{c(){s=O(e)},l(t){s=D(t,e)},m(t,a){M(t,s,a)},p(t,a){a&8&&e!==(e=t[3].t("Messages you send after creating your link won't be shared. Users with the URL will be able to view the shared chat.")+"")&&z(s,e)},d(t){t&&c(s)}}}function gt(l){let e,s=l[3].t("You have shared this chat")+"",t,a,o,n=l[3].t("before")+"",r,i,m,w,f=l[3].t("Click here to")+"",k,_,v,T=l[3].t("delete this link")+"",E,C,N=l[3].t("and create a new shared link.")+"",g,h,U;return{c(){e=I("a"),t=O(s),a=A(),o=I("span"),r=O(n),i=O("."),w=A(),k=O(f),_=A(),v=I("button"),E=O(T),C=A(),g=O(N),this.h()},l(d){e=S(d,"A",{href:!0,target:!0});var y=$(e);t=D(y,s),a=j(y),o=S(y,"SPAN",{class:!0});var P=$(o);r=D(P,n),P.forEach(c),i=D(y,"."),y.forEach(c),w=j(d),k=D(d,f),_=j(d),v=S(d,"BUTTON",{class:!0});var W=$(v);E=D(W,T),W.forEach(c),C=j(d),g=D(d,N),this.h()},h(){u(o,"class","underline"),u(e,"href",m="/s/"+l[2].share_id),u(e,"target","_blank"),u(v,"class","underline")},m(d,y){M(d,e,y),p(e,t),p(e,a),p(e,o),p(o,r),p(e,i),M(d,w,y),M(d,k,y),M(d,_,y),M(d,v,y),p(v,E),M(d,C,y),M(d,g,y),h||(U=Z(v,"click",l[9]),h=!0)},p(d,y){y&8&&s!==(s=d[3].t("You have shared this chat")+"")&&z(t,s),y&8&&n!==(n=d[3].t("before")+"")&&z(r,n),y&4&&m!==(m="/s/"+d[2].share_id)&&u(e,"href",m),y&8&&f!==(f=d[3].t("Click here to")+"")&&z(k,f),y&8&&T!==(T=d[3].t("delete this link")+"")&&z(E,T),y&8&&N!==(N=d[3].t("and create a new shared link.")+"")&&z(g,N)},d(d){d&&(c(e),c(w),c(k),c(_),c(v),c(C),c(g)),h=!1,U()}}}function Te(l){let e,s=l[3].t("Share to OpenWebUI Community")+"",t,a,o;return{c(){e=I("button"),t=O(s),this.h()},l(n){e=S(n,"BUTTON",{class:!0,type:!0});var r=$(e);t=D(r,s),r.forEach(c),this.h()},h(){u(e,"class","self-center px-3.5 py-2 rounded-xl text-sm font-medium bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white"),u(e,"type","button")},m(n,r){M(n,e,r),p(e,t),a||(o=Z(e,"click",l[10]),a=!0)},p(n,r){r&8&&s!==(s=n[3].t("Share to OpenWebUI Community")+"")&&z(t,s)},d(n){n&&c(e),a=!1,o()}}}function vt(l){let e=l[3].t("Copy Link")+"",s;return{c(){s=O(e)},l(t){s=D(t,e)},m(t,a){M(t,s,a)},p(t,a){a&8&&e!==(e=t[3].t("Copy Link")+"")&&z(s,e)},d(t){t&&c(s)}}}function wt(l){let e=l[3].t("Update and Copy Link")+"",s;return{c(){s=O(e)},l(t){s=D(t,e)},m(t,a){M(t,s,a)},p(t,a){a&8&&e!==(e=t[3].t("Update and Copy Link")+"")&&z(s,e)},d(t){t&&c(s)}}}function bt(l){let e,s,t,a=l[3].t("Share Chat")+"",o,n,r,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,w,f,k,_=l[2]&&Ce(l);return{c(){e=I("div"),s=I("div"),t=I("div"),o=O(a),n=A(),r=I("button"),r.innerHTML=i,m=A(),_&&_.c(),this.h()},l(v){e=S(v,"DIV",{});var T=$(e);s=S(T,"DIV",{class:!0});var E=$(s);t=S(E,"DIV",{class:!0});var C=$(t);o=D(C,a),C.forEach(c),n=j(E),r=S(E,"BUTTON",{class:!0,"data-svelte-h":!0}),se(r)!=="svelte-745w2y"&&(r.innerHTML=i),E.forEach(c),m=j(T),_&&_.l(T),T.forEach(c),this.h()},h(){u(t,"class","text-lg font-medium self-center"),u(r,"class","self-center"),u(s,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-0.5")},m(v,T){M(v,e,T),p(e,s),p(s,t),p(t,o),p(s,n),p(s,r),p(e,m),_&&_.m(e,null),w=!0,f||(k=Z(r,"click",l[8]),f=!0)},p(v,T){(!w||T&8)&&a!==(a=v[3].t("Share Chat")+"")&&z(o,a),v[2]?_?(_.p(v,T),T&4&&H(_,1)):(_=Ce(v),_.c(),H(_,1),_.m(e,null)):_&&(De(),R(_,1,1,()=>{_=null}),Ve())},i(v){w||(H(_),w=!0)},o(v){R(_),w=!1},d(v){v&&c(e),_&&_.d(),f=!1,k()}}}function kt(l){let e,s,t;function a(n){l[12](n)}let o={size:"sm",$$slots:{default:[bt]},$$scope:{ctx:l}};return l[0]!==void 0&&(o.show=l[0]),e=new tt({props:o}),Me.push(()=>Oe(e,"show",a)),{c(){Y(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){K(e,n,r),t=!0},p(n,[r]){const i={};r&65567&&(i.$$scope={dirty:r,ctx:n}),!s&&r&1&&(s=!0,i.show=n[0],Be(()=>s=!1)),e.$set(i)},i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function yt(l,e,s){let t,a,o;J(l,ze,g=>s(14,t=g)),J(l,He,g=>s(4,o=g));let{chatId:n}=e,r=null,i=null;const m=Ae("i18n");J(l,m,g=>s(3,a=g));const w=async()=>{const g=await Qe(localStorage.token,n);return i=`${window.location.origin}/s/${g.id}`,console.log(i),s(2,r=await he(localStorage.token,n)),i},f=async()=>{const g=r.chat;console.log("share",g),ye.success(a.t("Redirecting you to OpenWebUI Community"));const h="https://openwebui.com",U=await window.open(`${h}/chats/upload`,"_blank");window.addEventListener("message",d=>{d.origin===h&&d.data==="loaded"&&U.postMessage(JSON.stringify({chat:g,models:t.filter(y=>g.models.includes(y.id))}),"*")},!1)};let{show:k=!1}=e;const _=g=>r?g?r.id!==g.id||r.share_id!==g.share_id:!1:!0,v=()=>{s(0,k=!1)},T=async()=>{await Xe(localStorage.token,n)&&s(2,r=await he(localStorage.token,n))},E=()=>{f(),s(0,k=!1)},C=async()=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){console.log("isSafari");const h=async()=>{const U=await w();return new Blob([U],{type:"text/plain"})};navigator.clipboard.write([new ClipboardItem({"text/plain":h()})]).then(()=>(console.log("Async: Copying to clipboard was successful!"),!0)).catch(U=>(console.error("Async: Could not copy text: ",U),!1))}else et(await w());ye.success(a.t("Copied shared chat URL to clipboard!")),s(0,k=!1)};function N(g){k=g,s(0,k)}return l.$$set=g=>{"chatId"in g&&s(1,n=g.chatId),"show"in g&&s(0,k=g.show)},l.$$.update=()=>{l.$$.dirty&7&&k&&(async()=>{if(n){const g=await he(localStorage.token,n);_(g)&&s(2,r=g)}else s(2,r=null),console.log(r)})()},[k,n,r,a,o,m,w,f,v,T,E,C,N]}class Kt extends ne{constructor(e){super(),oe(this,e,yt,kt,le,{chatId:1,show:0})}}const Ct=l=>({}),Ee=l=>({});function Tt(l){let e;const s=l[8].default,t=je(s,l,l[16],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&65536)&&Le(t,s,a,a[16],e?Ne(s,a[16],o,null):Ue(a[16]),null)},i(a){e||(H(t,a),e=!0)},o(a){R(t,a),e=!1},d(a){t&&t.d(a)}}}function Ie(l){let e,s,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',a,o,n=l[3].t("Admin Panel")+"",r,i,m;return{c(){e=I("button"),s=I("div"),s.innerHTML=t,a=A(),o=I("div"),r=O(n),this.h()},l(w){e=S(w,"BUTTON",{class:!0});var f=$(e);s=S(f,"DIV",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-1vodyax"&&(s.innerHTML=t),a=j(f),o=S(f,"DIV",{class:!0});var k=$(o);r=D(k,n),k.forEach(c),f.forEach(c),this.h()},h(){u(s,"class","self-center mr-3"),u(o,"class","self-center font-medium"),u(e,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(w,f){M(w,e,f),p(e,s),p(e,a),p(e,o),p(o,r),i||(m=Z(e,"click",l[11]),i=!0)},p(w,f){f&8&&n!==(n=w[3].t("Admin Panel")+"")&&z(r,n)},d(w){w&&c(e),i=!1,m()}}}function Se(l){let e,s,t,a;return t=new rt({props:{content:l[5]&&l[5].length>0?`${l[3].t("Running")}: ${l[5].join(", ")} ✨`:"",$$slots:{default:[Et]},$$scope:{ctx:l}}}),{c(){e=I("hr"),s=A(),Y(t.$$.fragment),this.h()},l(o){e=S(o,"HR",{class:!0}),s=j(o),F(t.$$.fragment,o),this.h()},h(){u(e,"class","dark:border-gray-800 my-1.5 p-0")},m(o,n){M(o,e,n),M(o,s,n),K(t,o,n),a=!0},p(o,n){const r={};n&40&&(r.content=o[5]&&o[5].length>0?`${o[3].t("Running")}: ${o[5].join(", ")} ✨`:""),n&65560&&(r.$$scope={dirty:n,ctx:o}),t.$set(r)},i(o){a||(H(t.$$.fragment,o),a=!0)},o(o){R(t.$$.fragment,o),a=!1},d(o){o&&(c(e),c(s)),Q(t,o)}}}function Et(l){let e,s,t='<span class="relative flex size-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex rounded-full size-2 bg-green-500"></span></span>',a,o,n,r=l[3].t("Active Users")+"",i,m,w,f,k;return{c(){e=I("div"),s=I("div"),s.innerHTML=t,a=A(),o=I("div"),n=I("span"),i=O(r),m=O(":"),w=A(),f=I("span"),k=O(l[4]),this.h()},l(_){e=S(_,"DIV",{class:!0});var v=$(e);s=S(v,"DIV",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-dl2p8d"&&(s.innerHTML=t),a=j(v),o=S(v,"DIV",{class:!0});var T=$(o);n=S(T,"SPAN",{class:!0});var E=$(n);i=D(E,r),m=D(E,":"),E.forEach(c),w=j(T),f=S(T,"SPAN",{class:!0});var C=$(f);k=D(C,l[4]),C.forEach(c),T.forEach(c),v.forEach(c),this.h()},h(){u(s,"class","flex items-center"),u(n,"class","font-medium"),u(f,"class","font-semibold"),u(o,"class",""),u(e,"class","flex rounded-md py-1.5 px-3 text-xs gap-2.5 items-center")},m(_,v){M(_,e,v),p(e,s),p(e,a),p(e,o),p(o,n),p(n,i),p(n,m),p(o,w),p(o,f),p(f,k)},p(_,v){v&8&&r!==(r=_[3].t("Active Users")+"")&&z(i,r),v&16&&z(k,_[4])},d(_){_&&c(e)}}}function It(l){let e,s,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',a,o,n=l[3].t("Settings")+"",r,i,m,w,f,k,_,v=l[3].t("Archived Chats")+"",T,E,C,N,g,h,U,d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd"></path></svg>',y,P,W=l[3].t("Sign Out")+"",X,G,q,x,ue,me;f=new dt({props:{className:"size-5",strokeWidth:"1.5"}});let V=l[1]==="admin"&&Ie(l),L=l[4]&&Se(l);return{c(){e=I("button"),s=I("div"),s.innerHTML=t,a=A(),o=I("div"),r=O(n),i=A(),m=I("button"),w=I("div"),Y(f.$$.fragment),k=A(),_=I("div"),T=O(v),E=A(),V&&V.c(),C=A(),N=I("hr"),g=A(),h=I("button"),U=I("div"),U.innerHTML=d,y=A(),P=I("div"),X=O(W),G=A(),L&&L.c(),q=we(),this.h()},l(b){e=S(b,"BUTTON",{class:!0});var B=$(e);s=S(B,"DIV",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-1ew1v3e"&&(s.innerHTML=t),a=j(B),o=S(B,"DIV",{class:!0});var pe=$(o);r=D(pe,n),pe.forEach(c),B.forEach(c),i=j(b),m=S(b,"BUTTON",{class:!0});var re=$(m);w=S(re,"DIV",{class:!0});var _e=$(w);F(f.$$.fragment,_e),_e.forEach(c),k=j(re),_=S(re,"DIV",{class:!0});var ge=$(_);T=D(ge,v),ge.forEach(c),re.forEach(c),E=j(b),V&&V.l(b),C=j(b),N=S(b,"HR",{class:!0}),g=j(b),h=S(b,"BUTTON",{class:!0});var ie=$(h);U=S(ie,"DIV",{class:!0,"data-svelte-h":!0}),se(U)!=="svelte-1svlfdm"&&(U.innerHTML=d),y=j(ie),P=S(ie,"DIV",{class:!0});var ve=$(P);X=D(ve,W),ve.forEach(c),ie.forEach(c),G=j(b),L&&L.l(b),q=we(),this.h()},h(){u(s,"class","self-center mr-3"),u(o,"class","self-center font-medium"),u(e,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),u(w,"class","self-center mr-3"),u(_,"class","self-center font-medium"),u(m,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),u(N,"class","dark:border-gray-800 my-1.5 p-0"),u(U,"class","self-center mr-3"),u(P,"class","self-center font-medium"),u(h,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(b,B){M(b,e,B),p(e,s),p(e,a),p(e,o),p(o,r),M(b,i,B),M(b,m,B),p(m,w),K(f,w,null),p(m,k),p(m,_),p(_,T),M(b,E,B),V&&V.m(b,B),M(b,C,B),M(b,N,B),M(b,g,B),M(b,h,B),p(h,U),p(h,y),p(h,P),p(P,X),M(b,G,B),L&&L.m(b,B),M(b,q,B),x=!0,ue||(me=[Z(e,"click",l[9]),Z(m,"click",l[10]),Z(h,"click",l[12])],ue=!0)},p(b,B){(!x||B&8)&&n!==(n=b[3].t("Settings")+"")&&z(r,n),(!x||B&8)&&v!==(v=b[3].t("Archived Chats")+"")&&z(T,v),b[1]==="admin"?V?V.p(b,B):(V=Ie(b),V.c(),V.m(C.parentNode,C)):V&&(V.d(1),V=null),(!x||B&8)&&W!==(W=b[3].t("Sign Out")+"")&&z(X,W),b[4]?L?(L.p(b,B),B&16&&H(L,1)):(L=Se(b),L.c(),H(L,1),L.m(q.parentNode,q)):L&&(De(),R(L,1,1,()=>{L=null}),Ve())},i(b){x||(H(f.$$.fragment,b),H(L),x=!0)},o(b){R(f.$$.fragment,b),R(L),x=!1},d(b){b&&(c(e),c(i),c(m),c(E),c(C),c(N),c(g),c(h),c(G),c(q)),Q(f),V&&V.d(b),L&&L.d(b),ue=!1,Ge(me)}}}function St(l){let e,s;return e=new lt({props:{class:"w-full "+l[2]+" text-sm rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:8,side:"bottom",align:"start",transition:l[13],$$slots:{default:[It]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,a){K(e,t,a),s=!0},p(t,a){const o={};a&4&&(o.class="w-full "+t[2]+" text-sm rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow"),a&65595&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){R(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function $t(l){let e,s,t;e=new at({props:{$$slots:{default:[Tt]},$$scope:{ctx:l}}});const a=l[8].content,o=je(a,l,l[16],Ee),n=o||St(l);return{c(){Y(e.$$.fragment),s=A(),n&&n.c()},l(r){F(e.$$.fragment,r),s=j(r),n&&n.l(r)},m(r,i){K(e,r,i),M(r,s,i),n&&n.m(r,i),t=!0},p(r,i){const m={};i&65536&&(m.$$scope={dirty:i,ctx:r}),e.$set(m),o?o.p&&(!t||i&65536)&&Le(o,a,r,r[16],t?Ne(a,r[16],i,Ct):Ue(r[16]),Ee):n&&n.p&&(!t||i&63)&&n.p(r,t?i:-1)},i(r){t||(H(e.$$.fragment,r),H(n,r),t=!0)},o(r){R(e.$$.fragment,r),R(n,r),t=!1},d(r){r&&c(s),Q(e,r),n&&n.d(r)}}}function Mt(l){let e,s,t;function a(n){l[15](n)}let o={onOpenChange:l[14],$$slots:{default:[$t]},$$scope:{ctx:l}};return l[0]!==void 0&&(o.open=l[0]),e=new st({props:o}),Me.push(()=>Oe(e,"open",a)),{c(){Y(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){K(e,n,r),t=!0},p(n,[r]){const i={};r&65599&&(i.$$scope={dirty:r,ctx:n}),!s&&r&1&&(s=!0,i.open=n[0],Be(()=>s=!1)),e.$set(i)},i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Bt(l,e,s){let t,a,o;J(l,Pe,h=>s(4,a=h)),J(l,Re,h=>s(5,o=h));let{$$slots:n={},$$scope:r}=e;const i=Ae("i18n");J(l,i,h=>s(3,t=h));let{show:m=!1}=e,{role:w=""}=e,{className:f="max-w-[240px]"}=e;const k=$e(),_=async()=>{await We.set(!0),s(0,m=!1)},v=()=>{k("show","archived-chat"),s(0,m=!1)},T=()=>{nt("/admin"),s(0,m=!1)},E=()=>{localStorage.removeItem("token"),location.href="/auth",s(0,m=!1)},C=h=>ot(h,{duration:100}),N=h=>{k("change",h)};function g(h){m=h,s(0,m)}return l.$$set=h=>{"show"in h&&s(0,m=h.show),"role"in h&&s(1,w=h.role),"className"in h&&s(2,f=h.className),"$$scope"in h&&s(16,r=h.$$scope)},[m,w,f,t,a,o,i,k,n,_,v,T,E,C,N,g,r]}class Qt extends ne{constructor(e){super(),oe(this,e,Bt,Mt,le,{show:0,role:1,className:2})}}export{dt as A,Kt as S,Ft as T,Qt as U,Gt as a,Yt as b,Zt as d,qt as g,Jt as q};
//# sourceMappingURL=UserMenu.e4689451.js.map
