import{s as _t,f as d,l as H,a as M,g as h,h as v,m as N,d as i,c as A,j as o,i as $,r,u as te,O as il,n as P,C as Ye,v as et,P as Et,w as Ue,Q as qe,z as Pe,A as je,R as He,S as ml,o as Bt,p as yt,T as nl,U as Wt,K as Ht,V as Kt,W as It,X as ol,E as ta,F as la,G as sa,H as aa,Y as va,e as pl,Z as Xt,k as vt,t as _a}from"../chunks/scheduler.8ceb707f.js";import{S as mt,i as pt,b as Te,d as Ve,m as Ce,a as ne,g as Ct,t as oe,c as Mt,e as Me,f as Dt}from"../chunks/index.552978e5.js";import{a as Qe}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{f as Sl}from"../chunks/FileSaver.min.898eb36f.js";import{g as Yt}from"../chunks/navigation.ca872900.js";import{a as ma,b as ra,c as pa}from"../chunks/index.e8cf6d45.js";import"../chunks/sha256.8dba905a.js";import{g as ga}from"../chunks/index.4c333a0d.js";import{g as ba}from"../chunks/index.71c8bafa.js";import{g as wa,a as ka,b as Pt,d as ya,c as Ql,u as na,e as kl,f as oa,h as ia,i as Ea,j as Ia,k as Da,l as Ta,m as Va,n as ca,o as Ca}from"../chunks/index.3efa0b97.js";import{u as Qt,d as Ma,W as ua,e as el,f as _l,g as jt,t as Aa,h as xl,c as Ll,i as St,j as es,k as Ut,l as yl,m as ts,n as Cl,a as Sa,o as El,p as xa,q as La,r as Ba}from"../chunks/index.1355041b.js";import{M as cl,d as gl}from"../chunks/dayjs.min.08f51e5f.js";import{u as Ha,a as Na,b as Oa,c as Ua,d as Pa}from"../chunks/index.31906850.js";import{g as ja,S as fa}from"../chunks/Switch.1f7a9311.js";import{g as rl,c as za,a as ls,b as Za,d as $a,e as Ra}from"../chunks/index.485e0f6b.js";import{T as Gt}from"../chunks/Tooltip.653c5973.js";import{g as Wa}from"../chunks/index.b8edd766.js";import{e as rt}from"../chunks/each.15ac4e72.js";import{g as qa}from"../chunks/index.571c8cc6.js";import{A as Ya}from"../chunks/AdvancedParams.07c1f2a6.js";import{a as Fa,g as Il,d as Ga,b as Ka,T as Ja,A as Xa,S as Qa,U as er}from"../chunks/UserMenu.757e3a60.js";import"../chunks/index.c4ca6160.js";import"../chunks/updater.e153cbf1.js";import{D as tr,M as al}from"../chunks/Dropdown.4f0533e0.js";import{M as lr}from"../chunks/menu-trigger.1e780b67.js";import{f as sr}from"../chunks/index.e8e699b3.js";import{D as ar,S as rr,G as nr}from"../chunks/DocumentDuplicate.e9956fe5.js";import{g as or}from"../chunks/index.f3a8d814.js";const ir=(s,e)=>e.some(t=>s instanceof t);let ss,as;function cr(){return ss||(ss=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ur(){return as||(as=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const da=new WeakMap,Ml=new WeakMap,ha=new WeakMap,Dl=new WeakMap,Bl=new WeakMap;function fr(s){const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("success",n),s.removeEventListener("error",c)},n=()=>{t(qt(s.result)),a()},c=()=>{l(s.error),a()};s.addEventListener("success",n),s.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&da.set(t,s)}).catch(()=>{}),Bl.set(e,s),e}function dr(s){if(Ml.has(s))return;const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("complete",n),s.removeEventListener("error",c),s.removeEventListener("abort",c)},n=()=>{t(),a()},c=()=>{l(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",n),s.addEventListener("error",c),s.addEventListener("abort",c)});Ml.set(s,e)}let Al={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Ml.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ha.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qt(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function hr(s){Al=s(Al)}function vr(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(Tl(this),e,...t);return ha.set(l,e.sort?e.sort():[e]),qt(l)}:ur().includes(s)?function(...e){return s.apply(Tl(this),e),qt(da.get(this))}:function(...e){return qt(s.apply(Tl(this),e))}}function _r(s){return typeof s=="function"?vr(s):(s instanceof IDBTransaction&&dr(s),ir(s,cr())?new Proxy(s,Al):s)}function qt(s){if(s instanceof IDBRequest)return fr(s);if(Dl.has(s))return Dl.get(s);const e=_r(s);return e!==s&&(Dl.set(s,e),Bl.set(e,s)),e}const Tl=s=>Bl.get(s);function mr(s,e,{blocked:t,upgrade:l,blocking:a,terminated:n}={}){const c=indexedDB.open(s,e),u=qt(c);return l&&c.addEventListener("upgradeneeded",f=>{l(qt(c.result),f.oldVersion,f.newVersion,qt(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{n&&f.addEventListener("close",()=>n()),a&&f.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),u}function rs(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),qt(t).then(()=>{})}const pr=["get","getKey","getAll","getAllKeys","count"],gr=["put","add","delete","clear"],Vl=new Map;function ns(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Vl.get(e))return Vl.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,a=gr.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(a||pr.includes(t)))return;const n=async function(c,...u){const f=this.transaction(c,a?"readwrite":"readonly");let _=f.store;return l&&(_=_.index(u.shift())),(await Promise.all([_[t](...u),a&&f.done]))[0]};return Vl.set(e,n),n}hr(s=>({...s,get:(e,t,l)=>ns(e,t)||s.get(e,t,l),has:(e,t)=>!!ns(e,t)||s.has(e,t)}));function os(s){let e,t,l,a=s[4].t("Current Password")+"",n,c,u,f,_,g,m,p=s[4].t("New Password")+"",w,b,k,E,y,V,T,D=s[4].t("Confirm Password")+"",I,S,C,R,q,B,G,F=s[4].t("Update password")+"",L,x,Z;return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("div"),f=d("input"),_=M(),g=d("div"),m=d("div"),w=H(p),b=M(),k=d("div"),E=d("input"),y=M(),V=d("div"),T=d("div"),I=H(D),S=M(),C=d("div"),R=d("input"),q=M(),B=d("div"),G=d("button"),L=H(F),this.h()},l(U){e=h(U,"DIV",{class:!0});var O=v(e);t=h(O,"DIV",{class:!0});var K=v(t);l=h(K,"DIV",{class:!0});var j=v(l);n=N(j,a),j.forEach(i),c=A(K),u=h(K,"DIV",{class:!0});var z=v(u);f=h(z,"INPUT",{class:!0,type:!0,autocomplete:!0}),z.forEach(i),K.forEach(i),_=A(O),g=h(O,"DIV",{class:!0});var J=v(g);m=h(J,"DIV",{class:!0});var W=v(m);w=N(W,p),W.forEach(i),b=A(J),k=h(J,"DIV",{class:!0});var Q=v(k);E=h(Q,"INPUT",{class:!0,type:!0,autocomplete:!0}),Q.forEach(i),J.forEach(i),y=A(O),V=h(O,"DIV",{class:!0});var le=v(V);T=h(le,"DIV",{class:!0});var ae=v(T);I=N(ae,D),ae.forEach(i),S=A(le),C=h(le,"DIV",{class:!0});var ce=v(C);R=h(ce,"INPUT",{class:!0,type:!0,autocomplete:!0}),ce.forEach(i),le.forEach(i),O.forEach(i),q=A(U),B=h(U,"DIV",{class:!0});var re=v(B);G=h(re,"BUTTON",{class:!0});var _e=v(G);L=N(_e,F),_e.forEach(i),re.forEach(i),this.h()},h(){o(l,"class","mb-1 text-xs text-gray-500"),o(f,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(f,"type","password"),o(f,"autocomplete","current-password"),f.required=!0,o(u,"class","flex-1"),o(t,"class","flex flex-col w-full"),o(m,"class","mb-1 text-xs text-gray-500"),o(E,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(E,"type","password"),o(E,"autocomplete","new-password"),E.required=!0,o(k,"class","flex-1"),o(g,"class","flex flex-col w-full"),o(T,"class","mb-1 text-xs text-gray-500"),o(R,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(R,"type","password"),o(R,"autocomplete","off"),R.required=!0,o(C,"class","flex-1"),o(V,"class","flex flex-col w-full"),o(e,"class","py-2.5 space-y-1.5"),o(G,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),o(B,"class","mt-3 flex justify-end")},m(U,O){$(U,e,O),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(u,f),qe(f,s[1]),r(e,_),r(e,g),r(g,m),r(m,w),r(g,b),r(g,k),r(k,E),qe(E,s[2]),r(e,y),r(e,V),r(V,T),r(T,I),r(V,S),r(V,C),r(C,R),qe(R,s[3]),$(U,q,O),$(U,B,O),r(B,G),r(G,L),x||(Z=[te(f,"input",s[8]),te(E,"input",s[9]),te(R,"input",s[10])],x=!0)},p(U,O){O&16&&a!==(a=U[4].t("Current Password")+"")&&P(n,a),O&2&&f.value!==U[1]&&qe(f,U[1]),O&16&&p!==(p=U[4].t("New Password")+"")&&P(w,p),O&4&&E.value!==U[2]&&qe(E,U[2]),O&16&&D!==(D=U[4].t("Confirm Password")+"")&&P(I,D),O&8&&R.value!==U[3]&&qe(R,U[3]),O&16&&F!==(F=U[4].t("Update password")+"")&&P(L,F)},d(U){U&&(i(e),i(q),i(B)),x=!1,et(Z)}}}function br(s){let e,t,l,a=s[4].t("Change Password")+"",n,c,u,f=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",_,g,m,p,w=s[0]&&os(s);return{c(){e=d("form"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),_=H(f),g=M(),w&&w.c(),this.h()},l(b){e=h(b,"FORM",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var E=v(t);l=h(E,"DIV",{class:!0});var y=v(l);n=N(y,a),y.forEach(i),c=A(E),u=h(E,"BUTTON",{class:!0,type:!0});var V=v(u);_=N(V,f),V.forEach(i),E.forEach(i),g=A(k),w&&w.l(k),k.forEach(i),this.h()},h(){o(l,"class","font-medium"),o(u,"class","text-xs font-medium text-gray-500"),o(u,"type","button"),o(t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col text-sm")},m(b,k){$(b,e,k),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(u,_),r(e,g),w&&w.m(e,null),m||(p=[te(u,"click",s[7]),te(e,"submit",il(s[11]))],m=!0)},p(b,[k]){k&16&&a!==(a=b[4].t("Change Password")+"")&&P(n,a),k&17&&f!==(f=(b[0]?b[4].t("Hide"):b[4].t("Show"))+"")&&P(_,f),b[0]?w?w.p(b,k):(w=os(b),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},i:Ye,o:Ye,d(b){b&&i(e),w&&w.d(),m=!1,et(p)}}}function wr(s,e,t){let l;const a=Et("i18n");Ue(s,a,k=>t(4,l=k));let n=!1,c="",u="",f="";const _=async()=>{u===f?(await Ha(localStorage.token,c,u).catch(E=>(Qe.error(E),null))&&Qe.success(l.t("Successfully updated.")),t(1,c=""),t(2,u=""),t(3,f="")):(Qe.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,u=""),t(3,f=""))},g=()=>{t(0,n=!n)};function m(){c=this.value,t(1,c)}function p(){u=this.value,t(2,u)}function w(){f=this.value,t(3,f)}return[n,c,u,f,l,a,_,g,m,p,w,()=>{_()}]}class kr extends mt{constructor(e){super(),pt(this,e,wr,br,_t,{})}}function yr(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=je(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M12 4.5v15m7.5-7.5h-15"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,a){$(l,e,a),r(e,t)},p(l,[a]){a&2&&o(e,"stroke-width",l[1]),a&1&&o(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&i(e)}}}function Er(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,a=n.strokeWidth)},[l,a]}class Ir extends mt{constructor(e){super(),pt(this,e,Er,yr,_t,{className:0,strokeWidth:1})}}function is(s){let e,t,l,a,n=s[11].t("JWT Token")+"",c,u,f,_,g,m,p,w,b,k,E,y,V,T,D=s[11].t("API Key")+"",I,S,C,R,q,B,G,F;function L(W,Q){return W[4]?Tr:Dr}let x=L(s),Z=x(s);function U(W,Q){return W[5]?Cr:Vr}let O=U(s),K=O(s);const j=[Ar,Mr],z=[];function J(W,Q){return W[6]?0:1}return R=J(s),q=z[R]=j[R](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),c=H(n),u=M(),f=d("div"),_=d("div"),g=d("input"),p=M(),w=d("button"),Z.c(),b=M(),k=d("button"),K.c(),E=M(),y=d("div"),V=d("div"),T=d("div"),I=H(D),S=M(),C=d("div"),q.c(),this.h()},l(W){e=h(W,"DIV",{class:!0});var Q=v(e);t=h(Q,"DIV",{class:!0});var le=v(t);l=h(le,"DIV",{class:!0});var ae=v(l);a=h(ae,"DIV",{class:!0});var ce=v(a);c=N(ce,n),ce.forEach(i),ae.forEach(i),u=A(le),f=h(le,"DIV",{class:!0});var re=v(f);_=h(re,"DIV",{class:!0});var _e=v(_);g=h(_e,"INPUT",{class:!0,type:!0}),p=A(_e),w=h(_e,"BUTTON",{class:!0});var Ae=v(w);Z.l(Ae),Ae.forEach(i),_e.forEach(i),b=A(re),k=h(re,"BUTTON",{class:!0});var pe=v(k);K.l(pe),pe.forEach(i),re.forEach(i),le.forEach(i),E=A(Q),y=h(Q,"DIV",{class:!0});var ie=v(y);V=h(ie,"DIV",{class:!0});var ue=v(V);T=h(ue,"DIV",{class:!0});var ge=v(T);I=N(ge,D),ge.forEach(i),ue.forEach(i),S=A(ie),C=h(ie,"DIV",{class:!0});var ee=v(C);q.l(ee),ee.forEach(i),ie.forEach(i),Q.forEach(i),this.h()},h(){o(a,"class","self-center text-xs font-medium"),o(l,"class","flex justify-between w-full"),o(g,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(g,"type",m=s[4]?"text":"password"),g.value=localStorage.token,g.disabled=!0,o(w,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(_,"class","flex w-full"),o(k,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),o(f,"class","flex mt-2"),o(t,"class","justify-between w-full"),o(T,"class","self-center text-xs font-medium"),o(V,"class","flex justify-between w-full"),o(C,"class","flex mt-2"),o(y,"class","justify-between w-full"),o(e,"class","flex flex-col gap-4")},m(W,Q){$(W,e,Q),r(e,t),r(t,l),r(l,a),r(a,c),r(t,u),r(t,f),r(f,_),r(_,g),r(_,p),r(_,w),Z.m(w,null),r(f,b),r(f,k),K.m(k,null),r(e,E),r(e,y),r(y,V),r(V,T),r(T,I),r(y,S),r(y,C),z[R].m(C,null),B=!0,G||(F=[te(w,"click",s[23]),te(k,"click",s[24])],G=!0)},p(W,Q){(!B||Q&2048)&&n!==(n=W[11].t("JWT Token")+"")&&P(c,n),(!B||Q&16&&m!==(m=W[4]?"text":"password"))&&o(g,"type",m),x!==(x=L(W))&&(Z.d(1),Z=x(W),Z&&(Z.c(),Z.m(w,null))),O!==(O=U(W))&&(K.d(1),K=O(W),K&&(K.c(),K.m(k,null))),(!B||Q&2048)&&D!==(D=W[11].t("API Key")+"")&&P(I,D);let le=R;R=J(W),R===le?z[R].p(W,Q):(Ct(),oe(z[le],1,1,()=>{z[le]=null}),Mt(),q=z[R],q?q.p(W,Q):(q=z[R]=j[R](W),q.c()),ne(q,1),q.m(C,null))},i(W){B||(ne(q),B=!0)},o(W){oe(q),B=!1},d(W){W&&i(e),Z.d(),K.d(),z[R].d(),G=!1,et(F)}}}function Dr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{d:!0}),v(t).forEach(i),l=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){$(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Tr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(n,"path",{d:!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){$(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Vr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){$(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Cr(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,a){$(l,e,a),r(e,t)},d(l){l&&i(e)}}}function Mr(s){let e,t,l,a=s[11].t("Create new secret key")+"",n,c,u,f;return t=new Ir({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=d("button"),Te(t.$$.fragment),l=M(),n=H(a),this.h()},l(_){e=h(_,"BUTTON",{class:!0});var g=v(e);Ve(t.$$.fragment,g),l=A(g),n=N(g,a),g.forEach(i),this.h()},h(){o(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(_,g){$(_,e,g),Ce(t,e,null),r(e,l),r(e,n),c=!0,u||(f=te(e,"click",s[28]),u=!0)},p(_,g){(!c||g&2048)&&a!==(a=_[11].t("Create new secret key")+"")&&P(n,a)},i(_){c||(ne(t.$$.fragment,_),c=!0)},o(_){oe(t.$$.fragment,_),c=!1},d(_){_&&i(e),Me(t),u=!1,f()}}}function Ar(s){let e,t,l,a,n,c,u,f,_,g,m,p;function w(T,D){return T[7]?xr:Sr}let b=w(s),k=b(s);function E(T,D){return T[8]?Br:Lr}let y=E(s),V=y(s);return _=new Gt({props:{content:s[11].t("Create new key"),$$slots:{default:[Hr]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("input"),a=M(),n=d("button"),k.c(),c=M(),u=d("button"),V.c(),f=M(),Te(_.$$.fragment),this.h()},l(T){e=h(T,"DIV",{class:!0});var D=v(e);t=h(D,"INPUT",{class:!0,type:!0}),a=A(D),n=h(D,"BUTTON",{class:!0});var I=v(n);k.l(I),I.forEach(i),D.forEach(i),c=A(T),u=h(T,"BUTTON",{class:!0});var S=v(u);V.l(S),S.forEach(i),f=A(T),Ve(_.$$.fragment,T),this.h()},h(){o(t,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"type",l=s[7]?"text":"password"),t.value=s[6],t.disabled=!0,o(n,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(e,"class","flex w-full"),o(u,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(T,D){$(T,e,D),r(e,t),r(e,a),r(e,n),k.m(n,null),$(T,c,D),$(T,u,D),V.m(u,null),$(T,f,D),Ce(_,T,D),g=!0,m||(p=[te(n,"click",s[25]),te(u,"click",s[26])],m=!0)},p(T,D){(!g||D&128&&l!==(l=T[7]?"text":"password"))&&o(t,"type",l),(!g||D&64&&t.value!==T[6])&&(t.value=T[6]),b!==(b=w(T))&&(k.d(1),k=b(T),k&&(k.c(),k.m(n,null))),y!==(y=E(T))&&(V.d(1),V=y(T),V&&(V.c(),V.m(u,null)));const I={};D&2048&&(I.content=T[11].t("Create new key")),D&1073741824&&(I.$$scope={dirty:D,ctx:T}),_.$set(I)},i(T){g||(ne(_.$$.fragment,T),g=!0)},o(T){oe(_.$$.fragment,T),g=!1},d(T){T&&(i(e),i(c),i(u),i(f)),k.d(),V.d(),Me(_,T),m=!1,et(p)}}}function Sr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{d:!0}),v(t).forEach(i),l=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){$(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function xr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(n,"path",{d:!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){$(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Lr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){$(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Br(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,a){$(l,e,a),r(e,t)},d(l){l&&i(e)}}}function Hr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=h(n,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-olpspw"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(n,c){$(n,e,c),l||(a=te(e,"click",s[27]),l=!0)},p:Ye,d(n){n&&i(e),l=!1,a()}}}function Nr(s){let e,t,l,a,n,c,u,f,_,g,m,p,w,b='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',k,E,y,V=s[11].t("Profile Image")+"",T,D,I,S,C=s[11].t("Use Initials")+"",R,q,B,G=s[11].t("Use Gravatar")+"",F,L,x,Z=s[11].t("Remove")+"",U,O,K,j,z,J=s[11].t("Name")+"",W,Q,le,ae,ce,re,_e,Ae,pe,ie,ue,ge,ee=s[11].t("API keys")+"",se,fe,me,Ne=(s[3]?s[11].t("Hide"):s[11].t("Show"))+"",be,Fe,Se,xe,X,Y=s[11].t("Save")+"",de,ke,Be,Ee;_e=new kr({});let ye=s[3]&&is(s);return{c(){e=d("div"),t=d("div"),l=d("input"),a=M(),n=d("div"),c=d("div"),u=d("div"),f=d("div"),_=d("button"),g=d("img"),p=M(),w=d("div"),w.innerHTML=b,k=M(),E=d("div"),y=d("div"),T=H(V),D=M(),I=d("div"),S=d("button"),R=H(C),q=M(),B=d("button"),F=H(G),L=M(),x=d("button"),U=H(Z),O=M(),K=d("div"),j=d("div"),z=d("div"),W=H(J),Q=M(),le=d("div"),ae=d("input"),ce=M(),re=d("div"),Te(_e.$$.fragment),Ae=M(),pe=d("hr"),ie=M(),ue=d("div"),ge=d("div"),se=H(ee),fe=M(),me=d("button"),be=H(Ne),Fe=M(),ye&&ye.c(),Se=M(),xe=d("div"),X=d("button"),de=H(Y),this.h()},l(De){e=h(De,"DIV",{class:!0});var Ie=v(e);t=h(Ie,"DIV",{class:!0});var Re=v(t);l=h(Re,"INPUT",{id:!0,type:!0,accept:!0}),a=A(Re),n=h(Re,"DIV",{class:!0});var nt=v(n);c=h(nt,"DIV",{class:!0});var st=v(c);u=h(st,"DIV",{class:!0});var ot=v(u);f=h(ot,"DIV",{class:!0});var gt=v(f);_=h(gt,"BUTTON",{class:!0,type:!0});var Je=v(_);g=h(Je,"IMG",{src:!0,alt:!0,class:!0}),p=A(Je),w=h(Je,"DIV",{class:!0,"data-svelte-h":!0}),He(w)!=="svelte-11ivb2j"&&(w.innerHTML=b),Je.forEach(i),gt.forEach(i),ot.forEach(i),k=A(st),E=h(st,"DIV",{class:!0});var wt=v(E);y=h(wt,"DIV",{class:!0});var Tt=v(y);T=N(Tt,V),Tt.forEach(i),D=A(wt),I=h(wt,"DIV",{});var tt=v(I);S=h(tt,"BUTTON",{class:!0});var ze=v(S);R=N(ze,C),ze.forEach(i),q=A(tt),B=h(tt,"BUTTON",{class:!0});var We=v(B);F=N(We,G),We.forEach(i),L=A(tt),x=h(tt,"BUTTON",{class:!0});var Xe=v(x);U=N(Xe,Z),Xe.forEach(i),tt.forEach(i),wt.forEach(i),st.forEach(i),O=A(nt),K=h(nt,"DIV",{class:!0});var it=v(K);j=h(it,"DIV",{class:!0});var ft=v(j);z=h(ft,"DIV",{class:!0});var Le=v(z);W=N(Le,J),Le.forEach(i),Q=A(ft),le=h(ft,"DIV",{class:!0});var we=v(le);ae=h(we,"INPUT",{class:!0,type:!0}),we.forEach(i),ft.forEach(i),it.forEach(i),nt.forEach(i),ce=A(Re),re=h(Re,"DIV",{class:!0});var Oe=v(re);Ve(_e.$$.fragment,Oe),Oe.forEach(i),Ae=A(Re),pe=h(Re,"HR",{class:!0}),ie=A(Re),ue=h(Re,"DIV",{class:!0});var Ze=v(ue);ge=h(Ze,"DIV",{class:!0});var ve=v(ge);se=N(ve,ee),ve.forEach(i),fe=A(Ze),me=h(Ze,"BUTTON",{class:!0,type:!0});var Ke=v(me);be=N(Ke,Ne),Ke.forEach(i),Ze.forEach(i),Fe=A(Re),ye&&ye.l(Re),Re.forEach(i),Se=A(Ie),xe=h(Ie,"DIV",{class:!0});var dt=v(xe);X=h(dt,"BUTTON",{class:!0});var bt=v(X);de=N(bt,Y),bt.forEach(i),dt.forEach(i),Ie.forEach(i),this.h()},h(){o(l,"id","profile-image-input"),o(l,"type","file"),l.hidden=!0,o(l,"accept","image/*"),ml(g.src,m=s[1]!==""?s[1]:rl(s[2]))||o(g,"src",m),o(g,"alt","profile"),o(g,"class","rounded-full size-16 object-cover"),o(w,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(_,"class","relative rounded-full dark:bg-gray-700"),o(_,"type","button"),o(f,"class","self-center mt-2"),o(u,"class","flex flex-col"),o(y,"class","mb-0.5 text-sm font-medium"),o(S,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(B,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(x,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),o(E,"class","flex-1 flex flex-col self-center gap-0.5"),o(c,"class","flex space-x-5"),o(z,"class","mb-1 text-xs font-medium"),o(ae,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(ae,"type","text"),ae.required=!0,o(le,"class","flex-1"),o(j,"class","flex flex-col w-full"),o(K,"class","pt-0.5"),o(n,"class","space-y-1"),o(re,"class","py-0.5"),o(pe,"class","dark:border-gray-850 my-4"),o(ge,"class","font-medium"),o(me,"class","text-xs font-medium text-gray-500"),o(me,"type","button"),o(ue,"class","flex justify-between items-center text-sm"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(X,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(xe,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(De,Ie){$(De,e,Ie),r(e,t),r(t,l),s[15](l),r(t,a),r(t,n),r(n,c),r(c,u),r(u,f),r(f,_),r(_,g),r(_,p),r(_,w),r(c,k),r(c,E),r(E,y),r(y,T),r(E,D),r(E,I),r(I,S),r(S,R),r(I,q),r(I,B),r(B,F),r(I,L),r(I,x),r(x,U),r(n,O),r(n,K),r(K,j),r(j,z),r(z,W),r(j,Q),r(j,le),r(le,ae),qe(ae,s[2]),r(t,ce),r(t,re),Ce(_e,re,null),r(t,Ae),r(t,pe),r(t,ie),r(t,ue),r(ue,ge),r(ge,se),r(ue,fe),r(ue,me),r(me,be),r(t,Fe),ye&&ye.m(t,null),r(e,Se),r(e,xe),r(xe,X),r(X,de),ke=!0,Be||(Ee=[te(l,"change",s[16]),te(_,"click",s[17]),te(S,"click",s[18]),te(B,"click",s[19]),te(x,"click",s[20]),te(ae,"input",s[21]),te(me,"click",s[22]),te(X,"click",s[29])],Be=!0)},p(De,[Ie]){(!ke||Ie&6&&!ml(g.src,m=De[1]!==""?De[1]:rl(De[2])))&&o(g,"src",m),(!ke||Ie&2048)&&V!==(V=De[11].t("Profile Image")+"")&&P(T,V),(!ke||Ie&2048)&&C!==(C=De[11].t("Use Initials")+"")&&P(R,C),(!ke||Ie&2048)&&G!==(G=De[11].t("Use Gravatar")+"")&&P(F,G),(!ke||Ie&2048)&&Z!==(Z=De[11].t("Remove")+"")&&P(U,Z),(!ke||Ie&2048)&&J!==(J=De[11].t("Name")+"")&&P(W,J),Ie&4&&ae.value!==De[2]&&qe(ae,De[2]),(!ke||Ie&2048)&&ee!==(ee=De[11].t("API keys")+"")&&P(se,ee),(!ke||Ie&2056)&&Ne!==(Ne=(De[3]?De[11].t("Hide"):De[11].t("Show"))+"")&&P(be,Ne),De[3]?ye?(ye.p(De,Ie),Ie&8&&ne(ye,1)):(ye=is(De),ye.c(),ne(ye,1),ye.m(t,null)):ye&&(Ct(),oe(ye,1,1,()=>{ye=null}),Mt()),(!ke||Ie&2048)&&Y!==(Y=De[11].t("Save")+"")&&P(de,Y)},i(De){ke||(ne(_e.$$.fragment,De),ne(ye),ke=!0)},o(De){oe(_e.$$.fragment,De),oe(ye),ke=!1},d(De){De&&i(e),s[15](null),Me(_e),ye&&ye.d(),Be=!1,et(Ee)}}}function Or(s,e,t){let l,a;Ue(s,Qt,O=>t(10,l=O));const n=Et("i18n");Ue(s,n,O=>t(11,a=O));let{saveHandler:c}=e,u="",f="",_=!1,g=!1,m=!1,p="",w=!1,b=!1,k;const E=async()=>{f!==l.name&&(u===rl(l.name)||u==="")&&t(1,u=rl(f));const O=await Oa(localStorage.token,f,u).catch(K=>{Qe.error(K)});return O?(await Qt.set(O),!0):!1},y=async()=>{t(6,p=await Ua(localStorage.token)),p?Qe.success(a.t("API Key created.")):Qe.error(a.t("Failed to create API Key."))};Bt(async()=>{t(2,f=l.name),t(1,u=l.profile_image_url),t(6,p=await Na(localStorage.token).catch(O=>(console.log(O),"")))});function V(O){yt[O?"unshift":"push"](()=>{k=O,t(9,k)})}const T=O=>{const K=k.files??[];let j=new FileReader;j.onload=z=>{let J=`${z.target.result}`;const W=new Image;W.src=J,W.onload=function(){const Q=document.createElement("canvas"),le=Q.getContext("2d"),ae=W.width/W.height;let ce,re;ae>1?(ce=100*ae,re=100):(ce=100,re=100/ae),Q.width=100,Q.height=100;const _e=(100-ce)/2,Ae=(100-re)/2;le.drawImage(W,_e,Ae,ce,re);const pe=Q.toDataURL("image/jpeg");t(1,u=pe),t(9,k.files=null,k)}},K.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(K[0].type)&&j.readAsDataURL(K[0])},D=()=>{k.click()},I=async()=>{za()?t(1,u=rl(f)):Qe.info(a.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},S=async()=>{const O=await ja(l.email);t(1,u=O)},C=async()=>{t(1,u="/user.png")};function R(){f=this.value,t(2,f)}const q=()=>{t(3,_=!_)},B=()=>{t(4,g=!g)},G=()=>{ls(localStorage.token),t(5,m=!0),setTimeout(()=>{t(5,m=!1)},2e3)},F=()=>{t(7,w=!w)},L=()=>{ls(p),t(8,b=!0),setTimeout(()=>{t(8,b=!1)},2e3)},x=()=>{y()},Z=()=>{y()},U=async()=>{await E()&&c()};return s.$$set=O=>{"saveHandler"in O&&t(0,c=O.saveHandler)},[c,u,f,_,g,m,p,w,b,k,l,a,n,E,y,V,T,D,I,S,C,R,q,B,G,F,L,x,Z,U]}class Ur extends mt{constructor(e){super(),pt(this,e,Or,Nr,_t,{saveHandler:0})}}function Pr(s){let e,t;return{c(){e=H("v"),t=H(el)},l(l){e=N(l,"v"),t=N(l,el)},m(l,a){$(l,e,a),$(l,t,a)},p:Ye,d(l){l&&(i(e),i(t))}}}function cs(s){let e,t,l,a,n=s[4].t("Ollama Version")+"",c,u,f,_,g=(s[0]??"N/A")+"",m;return{c(){e=d("hr"),t=M(),l=d("div"),a=d("div"),c=H(n),u=M(),f=d("div"),_=d("div"),m=H(g),this.h()},l(p){e=h(p,"HR",{class:!0}),t=A(p),l=h(p,"DIV",{});var w=v(l);a=h(w,"DIV",{class:!0});var b=v(a);c=N(b,n),b.forEach(i),u=A(w),f=h(w,"DIV",{class:!0});var k=v(f);_=h(k,"DIV",{class:!0});var E=v(_);m=N(E,g),E.forEach(i),k.forEach(i),w.forEach(i),this.h()},h(){o(e,"class","dark:border-gray-850"),o(a,"class","mb-2.5 text-sm font-medium"),o(_,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),o(f,"class","flex w-full")},m(p,w){$(p,e,w),$(p,t,w),$(p,l,w),r(l,a),r(a,c),r(l,u),r(l,f),r(f,_),r(_,m)},p(p,w){w&16&&n!==(n=p[4].t("Ollama Version")+"")&&P(c,n),w&1&&g!==(g=(p[0]??"N/A")+"")&&P(m,g)},d(p){p&&(i(e),i(t),i(l))}}}function us(s){let e,t,l;return{c(){e=d("span"),t=H(s[3]),l=H(` -
			`),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);t=N(n,s[3]),n.forEach(i),l=N(a,` -
			`),this.h()},h(){o(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(a,n){$(a,e,n),r(e,t),$(a,l,n)},p(a,n){n&8&&P(t,a[3])},d(a){a&&(i(e),i(l))}}}function jr(s){let e,t,l,a,n,c,u,f=s[4].t("Version")+"",_,g,m,p,w,b,k,E,y=(s[1]===null?s[4].t("Checking for updates..."):s[1]?`(v${s[2].latest} ${s[4].t("available!")})`:s[4].t("(latest)"))+"",V,T,D,I,S,C=s[4].t("See what's new")+"",R,q,B,G=s[4].t("Check for updates")+"",F,L,x,Z,U,O,K='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',j,z,J=!s[3].includes("Open WebUI"),W=s[4].t("Created by")+"",Q,le,ae,ce="Timothy J. Baek",re,_e,Ae;b=new Gt({props:{content:Ma,$$slots:{default:[Pr]},$$scope:{ctx:s}}});let pe=s[0]&&cs(s),ie=J&&us(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=d("div"),c=H(s[3]),u=M(),_=H(f),g=M(),m=d("div"),p=d("div"),w=d("div"),Te(b.$$.fragment),k=M(),E=d("a"),V=H(y),D=M(),I=d("button"),S=d("div"),R=H(C),q=M(),B=d("button"),F=H(G),L=M(),pe&&pe.c(),x=M(),Z=d("hr"),U=M(),O=d("div"),O.innerHTML=K,j=M(),z=d("div"),ie&&ie.c(),Q=H(W),le=M(),ae=d("a"),ae.textContent=ce,this.h()},l(ue){e=h(ue,"DIV",{class:!0});var ge=v(e);t=h(ge,"DIV",{class:!0});var ee=v(t);l=h(ee,"DIV",{});var se=v(l);a=h(se,"DIV",{class:!0});var fe=v(a);n=h(fe,"DIV",{});var me=v(n);c=N(me,s[3]),u=A(me),_=N(me,f),me.forEach(i),fe.forEach(i),g=A(se),m=h(se,"DIV",{class:!0});var Ne=v(m);p=h(Ne,"DIV",{class:!0});var be=v(p);w=h(be,"DIV",{class:!0});var Fe=v(w);Ve(b.$$.fragment,Fe),k=A(Fe),E=h(Fe,"A",{href:!0,target:!0});var Se=v(E);V=N(Se,y),Se.forEach(i),Fe.forEach(i),D=A(be),I=h(be,"BUTTON",{class:!0});var xe=v(I);S=h(xe,"DIV",{});var X=v(S);R=N(X,C),X.forEach(i),xe.forEach(i),be.forEach(i),q=A(Ne),B=h(Ne,"BUTTON",{class:!0});var Y=v(B);F=N(Y,G),Y.forEach(i),Ne.forEach(i),se.forEach(i),L=A(ee),pe&&pe.l(ee),x=A(ee),Z=h(ee,"HR",{class:!0}),U=A(ee),O=h(ee,"DIV",{class:!0,"data-svelte-h":!0}),He(O)!=="svelte-1hy20dm"&&(O.innerHTML=K),j=A(ee),z=h(ee,"DIV",{class:!0});var de=v(z);ie&&ie.l(de),Q=N(de,W),le=A(de),ae=h(de,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),He(ae)!=="svelte-1tvrifl"&&(ae.textContent=ce),de.forEach(i),ee.forEach(i),ge.forEach(i),this.h()},h(){o(a,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),o(E,"href",T="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),o(E,"target","_blank"),o(w,"class","flex gap-1"),o(I,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),o(p,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(B,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),o(m,"class","flex w-full justify-between items-center"),o(Z,"class","dark:border-gray-850"),o(O,"class","flex space-x-1"),o(ae,"class","text-gray-500 dark:text-gray-300 font-medium"),o(ae,"href","https://github.com/tjbck"),o(ae,"target","_blank"),o(z,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","space-y-3"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(ue,ge){$(ue,e,ge),r(e,t),r(t,l),r(l,a),r(a,n),r(n,c),r(n,u),r(n,_),r(l,g),r(l,m),r(m,p),r(p,w),Ce(b,w,null),r(w,k),r(w,E),r(E,V),r(p,D),r(p,I),r(I,S),r(S,R),r(m,q),r(m,B),r(B,F),r(t,L),pe&&pe.m(t,null),r(t,x),r(t,Z),r(t,U),r(t,O),r(t,j),r(t,z),ie&&ie.m(z,null),r(z,Q),r(z,le),r(z,ae),re=!0,_e||(Ae=[te(I,"click",s[7]),te(B,"click",s[8])],_e=!0)},p(ue,[ge]){(!re||ge&8)&&P(c,ue[3]),(!re||ge&16)&&f!==(f=ue[4].t("Version")+"")&&P(_,f);const ee={};ge&512&&(ee.$$scope={dirty:ge,ctx:ue}),b.$set(ee),(!re||ge&22)&&y!==(y=(ue[1]===null?ue[4].t("Checking for updates..."):ue[1]?`(v${ue[2].latest} ${ue[4].t("available!")})`:ue[4].t("(latest)"))+"")&&P(V,y),(!re||ge&4&&T!==(T="https://github.com/open-webui/open-webui/releases/tag/v"+ue[2].latest))&&o(E,"href",T),(!re||ge&16)&&C!==(C=ue[4].t("See what's new")+"")&&P(R,C),(!re||ge&16)&&G!==(G=ue[4].t("Check for updates")+"")&&P(F,G),ue[0]?pe?pe.p(ue,ge):(pe=cs(ue),pe.c(),pe.m(t,x)):pe&&(pe.d(1),pe=null),ge&8&&(J=!ue[3].includes("Open WebUI")),J?ie?ie.p(ue,ge):(ie=us(ue),ie.c(),ie.m(z,Q)):ie&&(ie.d(1),ie=null),(!re||ge&16)&&W!==(W=ue[4].t("Created by")+"")&&P(Q,W)},i(ue){re||(ne(b.$$.fragment,ue),re=!0)},o(ue){oe(b.$$.fragment,ue),re=!1},d(ue){ue&&i(e),Me(b),pe&&pe.d(),ie&&ie.d(),_e=!1,et(Ae)}}}function zr(s,e,t){let l,a;Ue(s,ua,p=>t(3,l=p));const n=Et("i18n");Ue(s,n,p=>t(4,a=p));let c="",u=null,f={current:"",latest:""};const _=async()=>{t(1,u=null),t(2,f=await ma().catch(p=>({current:el,latest:el}))),console.log(f),t(1,u=Za(f.latest,f.current)),console.log(u)};return Bt(async()=>{t(0,c=await Wa(localStorage.token).catch(p=>"")),_()}),[c,u,f,l,a,n,_,()=>{_l.set(!0)},()=>{_()}]}class Zr extends mt{constructor(e){super(),pt(this,e,zr,jr,_t,{})}}function fs(s,e,t){const l=s.slice();return l[33]=e[t],l}function ds(s){let e,t=s[33].title+"",l,a;return{c(){e=d("option"),l=H(t),this.h()},l(n){e=h(n,"OPTION",{});var c=v(e);l=N(c,t),c.forEach(i),this.h()},h(){e.__value=a=s[33].code,qe(e,e.__value)},m(n,c){$(n,e,c),r(e,l)},p(n,c){c[0]&4&&t!==(t=n[33].title+"")&&P(l,t),c[0]&4&&a!==(a=n[33].code)&&(e.__value=a,qe(e,e.__value))},d(n){n&&i(e)}}}function hs(s){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){o(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,a){$(l,e,a)},d(l){l&&i(e)}}}function $r(s){let e,t=s[10].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function Rr(s){let e,t=s[10].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function vs(s){var K;let e,t,l,a,n,c,u,f,_=s[10].t("Keep Alive")+"",g,m,p,w,b,k,E,y,V=s[10].t("Request Mode")+"",T,D,I,S,C,R;function q(j){s[25](j)}let B={admin:((K=s[11])==null?void 0:K.role)==="admin"};s[9]!==void 0&&(B.params=s[9]),e=new Ya({props:B}),yt.push(()=>Dt(e,"params",q));function G(j,z){return j[8]===null?qr:Wr}let F=G(s),L=F(s),x=s[8]!==null&&_s(s);function Z(j,z){if(j[7]==="")return Fr;if(j[7]==="json")return Yr}let U=Z(s),O=U&&U(s);return{c(){Te(e.$$.fragment),l=M(),a=d("hr"),n=M(),c=d("div"),u=d("div"),f=d("div"),g=H(_),m=M(),p=d("button"),L.c(),w=M(),x&&x.c(),b=M(),k=d("div"),E=d("div"),y=d("div"),T=H(V),D=M(),I=d("button"),O&&O.c(),this.h()},l(j){Ve(e.$$.fragment,j),l=A(j),a=h(j,"HR",{class:!0}),n=A(j),c=h(j,"DIV",{class:!0});var z=v(c);u=h(z,"DIV",{class:!0});var J=v(u);f=h(J,"DIV",{class:!0});var W=v(f);g=N(W,_),W.forEach(i),m=A(J),p=h(J,"BUTTON",{class:!0,type:!0});var Q=v(p);L.l(Q),Q.forEach(i),J.forEach(i),w=A(z),x&&x.l(z),z.forEach(i),b=A(j),k=h(j,"DIV",{});var le=v(k);E=h(le,"DIV",{class:!0});var ae=v(E);y=h(ae,"DIV",{class:!0});var ce=v(y);T=N(ce,V),ce.forEach(i),D=A(ae),I=h(ae,"BUTTON",{class:!0});var re=v(I);O&&O.l(re),re.forEach(i),ae.forEach(i),le.forEach(i),this.h()},h(){o(a,"class","dark:border-gray-850"),o(f,"class","self-center text-xs font-medium"),o(p,"class","p-1 px-3 text-xs flex rounded transition"),o(p,"type","button"),o(u,"class","flex w-full justify-between"),o(c,"class","py-1 w-full justify-between"),o(y,"class","self-center text-sm font-medium"),o(I,"class","p-1 px-3 text-xs flex rounded transition"),o(E,"class","py-1 flex w-full justify-between")},m(j,z){Ce(e,j,z),$(j,l,z),$(j,a,z),$(j,n,z),$(j,c,z),r(c,u),r(u,f),r(f,g),r(u,m),r(u,p),L.m(p,null),r(c,w),x&&x.m(c,null),$(j,b,z),$(j,k,z),r(k,E),r(E,y),r(y,T),r(E,D),r(E,I),O&&O.m(I,null),S=!0,C||(R=[te(p,"click",s[26]),te(I,"click",s[28])],C=!0)},p(j,z){var W;const J={};z[0]&2048&&(J.admin=((W=j[11])==null?void 0:W.role)==="admin"),!t&&z[0]&512&&(t=!0,J.params=j[9],It(()=>t=!1)),e.$set(J),(!S||z[0]&1024)&&_!==(_=j[10].t("Keep Alive")+"")&&P(g,_),F===(F=G(j))&&L?L.p(j,z):(L.d(1),L=F(j),L&&(L.c(),L.m(p,null))),j[8]!==null?x?x.p(j,z):(x=_s(j),x.c(),x.m(c,null)):x&&(x.d(1),x=null),(!S||z[0]&1024)&&V!==(V=j[10].t("Request Mode")+"")&&P(T,V),U===(U=Z(j))&&O?O.p(j,z):(O&&O.d(1),O=U&&U(j),O&&(O.c(),O.m(I,null)))},i(j){S||(ne(e.$$.fragment,j),S=!0)},o(j){oe(e.$$.fragment,j),S=!1},d(j){j&&(i(l),i(a),i(n),i(c),i(b),i(k)),Me(e,j),L.d(),x&&x.d(),O&&O.d(),C=!1,et(R)}}}function Wr(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("Custom")+"")&&P(l,t)},d(a){a&&i(e)}}}function qr(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("Default")+"")&&P(l,t)},d(a){a&&i(e)}}}function _s(s){let e,t,l,a,n;return{c(){e=d("div"),t=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var u=v(e);t=h(u,"INPUT",{class:!0,type:!0,placeholder:!0}),u.forEach(i),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"type","text"),o(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),o(e,"class","flex mt-1 space-x-2")},m(c,u){$(c,e,u),r(e,t),qe(t,s[8]),a||(n=te(t,"input",s[27]),a=!0)},p(c,u){u[0]&1024&&l!==(l=c[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&o(t,"placeholder",l),u[0]&256&&t.value!==c[8]&&qe(t,c[8])},d(c){c&&i(e),a=!1,n()}}}function Yr(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("JSON")+"")&&P(l,t)},d(a){a&&i(e)}}}function Fr(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("Default")+"")&&P(l,t)},d(a){a&&i(e)}}}function Gr(s){let e,t,l,a,n=s[10].t("WebUI Settings")+"",c,u,f,_,g=s[10].t("Theme")+"",m,p,w,b,k,E,y=s[10].t("System")+"",V,T,D,I=s[10].t("Dark")+"",S,C,R,q=s[10].t("OLED Dark")+"",B,G,F,L=s[10].t("Light")+"",x,Z,U,O,K=s[10].t("Language")+"",j,z,J,W,Q,le,ae,ce,re,_e=s[10].t("Notifications")+"",Ae,pe,ie,ue,ge,ee,se,fe,me=s[10].t("System Prompt")+"",Ne,be,Fe,Se,xe,X,Y,de=s[10].t("Advanced Parameters")+"",ke,Be,Ee,ye=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",De,Ie,Re,nt,st,ot=s[10].t("Save")+"",gt,Je,wt,Tt,tt=rt(s[2]),ze=[];for(let we=0;we<tt.length;we+=1)ze[we]=ds(fs(s,tt,we));let We=s[10].language==="en-US"&&hs();function Xe(we,Oe){return we[4]===!0?Rr:$r}let it=Xe(s),ft=it(s),Le=s[6]&&vs(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),c=H(n),u=M(),f=d("div"),_=d("div"),m=H(g),p=M(),w=d("div"),b=d("select"),k=d("option"),E=H("âš™ï¸ "),V=H(y),T=d("option"),D=H("ðŸŒ‘ "),S=H(I),C=d("option"),R=H("ðŸŒƒ "),B=H(q),G=d("option"),F=H("â˜€ï¸ "),x=H(L),Z=M(),U=d("div"),O=d("div"),j=H(K),z=M(),J=d("div"),W=d("select");for(let we=0;we<ze.length;we+=1)ze[we].c();Q=M(),We&&We.c(),le=M(),ae=d("div"),ce=d("div"),re=d("div"),Ae=H(_e),pe=M(),ie=d("button"),ft.c(),ue=M(),ge=d("hr"),ee=M(),se=d("div"),fe=d("div"),Ne=H(me),be=M(),Fe=d("textarea"),Se=M(),xe=d("div"),X=d("div"),Y=d("div"),ke=H(de),Be=M(),Ee=d("button"),De=H(ye),Ie=M(),Le&&Le.c(),Re=M(),nt=d("div"),st=d("button"),gt=H(ot),this.h()},l(we){e=h(we,"DIV",{class:!0});var Oe=v(e);t=h(Oe,"DIV",{class:!0});var Ze=v(t);l=h(Ze,"DIV",{class:!0});var ve=v(l);a=h(ve,"DIV",{class:!0});var Ke=v(a);c=N(Ke,n),Ke.forEach(i),u=A(ve),f=h(ve,"DIV",{class:!0});var dt=v(f);_=h(dt,"DIV",{class:!0});var bt=v(_);m=N(bt,g),bt.forEach(i),p=A(dt),w=h(dt,"DIV",{class:!0});var at=v(w);b=h(at,"SELECT",{class:!0,placeholder:!0});var lt=v(b);k=h(lt,"OPTION",{});var At=v(k);E=N(At,"âš™ï¸ "),V=N(At,y),At.forEach(i),T=h(lt,"OPTION",{});var kt=v(T);D=N(kt,"ðŸŒ‘ "),S=N(kt,I),kt.forEach(i),C=h(lt,"OPTION",{});var Nt=v(C);R=N(Nt,"ðŸŒƒ "),B=N(Nt,q),Nt.forEach(i),G=h(lt,"OPTION",{});var Ot=v(G);F=N(Ot,"â˜€ï¸ "),x=N(Ot,L),Ot.forEach(i),lt.forEach(i),at.forEach(i),dt.forEach(i),Z=A(ve),U=h(ve,"DIV",{class:!0});var ht=v(U);O=h(ht,"DIV",{class:!0});var xt=v(O);j=N(xt,K),xt.forEach(i),z=A(ht),J=h(ht,"DIV",{class:!0});var ct=v(J);W=h(ct,"SELECT",{class:!0,placeholder:!0});var he=v(W);for(let Jt=0;Jt<ze.length;Jt+=1)ze[Jt].l(he);he.forEach(i),ct.forEach(i),ht.forEach(i),Q=A(ve),We&&We.l(ve),le=A(ve),ae=h(ve,"DIV",{});var $e=v(ae);ce=h($e,"DIV",{class:!0});var Ge=v(ce);re=h(Ge,"DIV",{class:!0});var ut=v(re);Ae=N(ut,_e),ut.forEach(i),pe=A(Ge),ie=h(Ge,"BUTTON",{class:!0,type:!0});var zt=v(ie);ft.l(zt),zt.forEach(i),Ge.forEach(i),$e.forEach(i),ve.forEach(i),ue=A(Ze),ge=h(Ze,"HR",{class:!0}),ee=A(Ze),se=h(Ze,"DIV",{});var Zt=v(se);fe=h(Zt,"DIV",{class:!0});var Lt=v(fe);Ne=N(Lt,me),Lt.forEach(i),be=A(Zt),Fe=h(Zt,"TEXTAREA",{class:!0,rows:!0}),v(Fe).forEach(i),Zt.forEach(i),Se=A(Ze),xe=h(Ze,"DIV",{class:!0});var $t=v(xe);X=h($t,"DIV",{class:!0});var Rt=v(X);Y=h(Rt,"DIV",{class:!0});var tl=v(Y);ke=N(tl,de),tl.forEach(i),Be=A(Rt),Ee=h(Rt,"BUTTON",{class:!0,type:!0});var Ft=v(Ee);De=N(Ft,ye),Ft.forEach(i),Rt.forEach(i),Ie=A($t),Le&&Le.l($t),$t.forEach(i),Ze.forEach(i),Re=A(Oe),nt=h(Oe,"DIV",{class:!0});var ll=v(nt);st=h(ll,"BUTTON",{class:!0});var sl=v(st);gt=N(sl,ot),sl.forEach(i),ll.forEach(i),Oe.forEach(i),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),k.__value="system",qe(k,k.__value),T.__value="dark",qe(T,T.__value),C.__value="oled-dark",qe(C,C.__value),G.__value="light",qe(G,G.__value),o(b,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a theme"),s[1]===void 0&&nl(()=>s[18].call(b)),o(w,"class","flex items-center relative"),o(f,"class","flex w-full justify-between"),o(O,"class","self-center text-xs font-medium"),o(W,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(W,"placeholder","Select a language"),s[3]===void 0&&nl(()=>s[20].call(W)),o(J,"class","flex items-center relative"),o(U,"class","flex w-full justify-between"),o(re,"class","self-center text-xs font-medium"),o(ie,"class","p-1 px-3 text-xs flex rounded transition"),o(ie,"type","button"),o(ce,"class","py-0.5 flex w-full justify-between"),o(l,"class",""),o(ge,"class","dark:border-gray-850 my-3"),o(fe,"class","my-2.5 text-sm font-medium"),o(Fe,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(Fe,"rows","4"),o(Y,"class","font-medium"),o(Ee,"class","text-xs font-medium text-gray-500"),o(Ee,"type","button"),o(X,"class","flex justify-between items-center text-sm"),o(xe,"class","mt-2 space-y-3 pr-1.5"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),o(st,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(nt,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(we,Oe){$(we,e,Oe),r(e,t),r(t,l),r(l,a),r(a,c),r(l,u),r(l,f),r(f,_),r(_,m),r(f,p),r(f,w),r(w,b),r(b,k),r(k,E),r(k,V),r(b,T),r(T,D),r(T,S),r(b,C),r(C,R),r(C,B),r(b,G),r(G,F),r(G,x),Wt(b,s[1],!0),r(l,Z),r(l,U),r(U,O),r(O,j),r(U,z),r(U,J),r(J,W);for(let Ze=0;Ze<ze.length;Ze+=1)ze[Ze]&&ze[Ze].m(W,null);Wt(W,s[3],!0),r(l,Q),We&&We.m(l,null),r(l,le),r(l,ae),r(ae,ce),r(ce,re),r(re,Ae),r(ce,pe),r(ce,ie),ft.m(ie,null),r(t,ue),r(t,ge),r(t,ee),r(t,se),r(se,fe),r(fe,Ne),r(se,be),r(se,Fe),qe(Fe,s[5]),r(t,Se),r(t,xe),r(xe,X),r(X,Y),r(Y,ke),r(X,Be),r(X,Ee),r(Ee,De),r(xe,Ie),Le&&Le.m(xe,null),r(e,Re),r(e,nt),r(nt,st),r(st,gt),Je=!0,wt||(Tt=[te(b,"change",s[18]),te(b,"change",s[19]),te(W,"change",s[20]),te(W,"change",s[21]),te(ie,"click",s[22]),te(Fe,"input",s[23]),te(Ee,"click",s[24]),te(st,"click",s[29])],wt=!0)},p(we,Oe){if((!Je||Oe[0]&1024)&&n!==(n=we[10].t("WebUI Settings")+"")&&P(c,n),(!Je||Oe[0]&1024)&&g!==(g=we[10].t("Theme")+"")&&P(m,g),(!Je||Oe[0]&1024)&&y!==(y=we[10].t("System")+"")&&P(V,y),(!Je||Oe[0]&1024)&&I!==(I=we[10].t("Dark")+"")&&P(S,I),(!Je||Oe[0]&1024)&&q!==(q=we[10].t("OLED Dark")+"")&&P(B,q),(!Je||Oe[0]&1024)&&L!==(L=we[10].t("Light")+"")&&P(x,L),Oe[0]&2&&Wt(b,we[1]),(!Je||Oe[0]&1024)&&K!==(K=we[10].t("Language")+"")&&P(j,K),Oe[0]&4){tt=rt(we[2]);let Ze;for(Ze=0;Ze<tt.length;Ze+=1){const ve=fs(we,tt,Ze);ze[Ze]?ze[Ze].p(ve,Oe):(ze[Ze]=ds(ve),ze[Ze].c(),ze[Ze].m(W,null))}for(;Ze<ze.length;Ze+=1)ze[Ze].d(1);ze.length=tt.length}Oe[0]&12&&Wt(W,we[3]),we[10].language==="en-US"?We||(We=hs(),We.c(),We.m(l,le)):We&&(We.d(1),We=null),(!Je||Oe[0]&1024)&&_e!==(_e=we[10].t("Notifications")+"")&&P(Ae,_e),it===(it=Xe(we))&&ft?ft.p(we,Oe):(ft.d(1),ft=it(we),ft&&(ft.c(),ft.m(ie,null))),(!Je||Oe[0]&1024)&&me!==(me=we[10].t("System Prompt")+"")&&P(Ne,me),Oe[0]&32&&qe(Fe,we[5]),(!Je||Oe[0]&1024)&&de!==(de=we[10].t("Advanced Parameters")+"")&&P(ke,de),(!Je||Oe[0]&1088)&&ye!==(ye=(we[6]?we[10].t("Hide"):we[10].t("Show"))+"")&&P(De,ye),we[6]?Le?(Le.p(we,Oe),Oe[0]&64&&ne(Le,1)):(Le=vs(we),Le.c(),ne(Le,1),Le.m(xe,null)):Le&&(Ct(),oe(Le,1,1,()=>{Le=null}),Mt()),(!Je||Oe[0]&1024)&&ot!==(ot=we[10].t("Save")+"")&&P(gt,ot)},i(we){Je||(ne(Le),Je=!0)},o(we){oe(Le),Je=!1},d(we){we&&i(e),Ht(ze,we),We&&We.d(),ft.d(),Le&&Le.d(),wt=!1,et(Tt)}}}function Kr(s,e,t){let l,a,n;Ue(s,jt,z=>t(30,l=z)),Ue(s,Qt,z=>t(11,n=z));const c=Kt(),u=Et("i18n");Ue(s,u,z=>t(10,a=z));let{saveSettings:f}=e,{getModels:_}=e,g=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],m="system",p=[],w=a.language,b=!1,k="",E=!1;const y=async()=>{await Notification.requestPermission()==="granted"?(t(4,b=!b),f({notificationEnabled:b})):Qe.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let V="",T=null,D={seed:null,temperature:null,frequency_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,stop:null,tfs_z:null,num_ctx:null,max_tokens:null};const I=async()=>{V===""?t(7,V="json"):t(7,V=""),f({requestFormat:V!==""?V:void 0})};Bt(async()=>{var z,J;t(1,m=localStorage.theme??"system"),t(2,p=await qa()),t(4,b=l.notificationEnabled??!1),t(5,k=l.system??""),t(7,V=l.requestFormat??""),t(8,T=l.keepAlive??null),t(9,D={...D,...l.params}),t(9,D.stop=(z=l==null?void 0:l.params)!=null&&z.stop?(((J=l==null?void 0:l.params)==null?void 0:J.stop)??[]).join(","):null,D)});const S=z=>{let J=z==="oled-dark"?"dark":z;z==="system"&&(J=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J==="dark"&&!z.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),g.filter(W=>W!==J).forEach(W=>{W.split(" ").forEach(Q=>{document.documentElement.classList.remove(Q)})}),J.split(" ").forEach(W=>{document.documentElement.classList.add(W)}),console.log(z)},C=z=>{Aa.set(z),localStorage.setItem("theme",z),z.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),S(z)};function R(){m=ol(this),t(1,m)}const q=()=>C(m);function B(){w=ol(this),t(3,w),t(2,p)}const G=z=>{a.changeLanguage(w)},F=()=>{y()};function L(){k=this.value,t(5,k)}const x=()=>{t(6,E=!E)};function Z(z){D=z,t(9,D)}const U=()=>{t(8,T=T===null?"5m":null)};function O(){T=this.value,t(8,T)}const K=()=>{I()},j=()=>{f({system:k!==""?k:void 0,params:{seed:(D.seed!==null?D.seed:void 0)??void 0,stop:D.stop?D.stop.split(",").filter(z=>z):void 0,temperature:D.temperature!==null?D.temperature:void 0,frequency_penalty:D.frequency_penalty!==null?D.frequency_penalty:void 0,repeat_last_n:D.repeat_last_n!==null?D.repeat_last_n:void 0,mirostat:D.mirostat!==null?D.mirostat:void 0,mirostat_eta:D.mirostat_eta!==null?D.mirostat_eta:void 0,mirostat_tau:D.mirostat_tau!==null?D.mirostat_tau:void 0,top_k:D.top_k!==null?D.top_k:void 0,top_p:D.top_p!==null?D.top_p:void 0,tfs_z:D.tfs_z!==null?D.tfs_z:void 0,num_ctx:D.num_ctx!==null?D.num_ctx:void 0,max_tokens:D.max_tokens!==null?D.max_tokens:void 0,use_mmap:D.use_mmap!==null?D.use_mmap:void 0,use_mlock:D.use_mlock!==null?D.use_mlock:void 0,num_thread:D.num_thread!==null?D.num_thread:void 0},keepAlive:T?isNaN(T)?T:parseInt(T):void 0}),c("save")};return s.$$set=z=>{"saveSettings"in z&&t(0,f=z.saveSettings),"getModels"in z&&t(17,_=z.getModels)},[f,m,p,w,b,k,E,V,T,D,a,n,c,u,y,I,C,_,R,q,B,G,F,L,x,Z,U,O,K,j]}class Jr extends mt{constructor(e){super(),pt(this,e,Kr,Gr,_t,{saveSettings:0,getModels:17},null,[-1,-1])}}function ms(s,e,t){const l=s.slice();return l[30]=e[t],l}function Xr(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function Qr(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function en(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function tn(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function ln(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function sn(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function an(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function rn(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function ps(s){let e,t,l,a=s[9].t("Display the username instead of You in the Chat")+"",n,c,u,f,_;function g(w,b){return w[5]===!0?on:nn}let m=g(s),p=m(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),p.c(),this.h()},l(w){e=h(w,"DIV",{});var b=v(e);t=h(b,"DIV",{class:!0});var k=v(t);l=h(k,"DIV",{class:!0});var E=v(l);n=N(E,a),E.forEach(i),c=A(k),u=h(k,"BUTTON",{class:!0,type:!0});var y=v(u);p.l(y),y.forEach(i),k.forEach(i),b.forEach(i),this.h()},h(){o(l,"class","self-center text-xs font-medium"),o(u,"class","p-1 px-3 text-xs flex rounded transition"),o(u,"type","button"),o(t,"class","py-0.5 flex w-full justify-between")},m(w,b){$(w,e,b),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),p.m(u,null),f||(_=te(u,"click",s[26]),f=!0)},p(w,b){b[0]&512&&a!==(a=w[9].t("Display the username instead of You in the Chat")+"")&&P(n,a),m===(m=g(w))&&p?p.p(w,b):(p.d(1),p=m(w),p&&(p.c(),p.m(u,null)))},d(w){w&&i(e),p.d(),f=!1,_()}}}function nn(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function on(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function cn(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function un(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function fn(s){let e,t=s[9].t("RTL")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("RTL")+"")&&P(l,t)},d(a){a&&i(e)}}}function dn(s){let e,t=s[9].t("LTR")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("LTR")+"")&&P(l,t)},d(a){a&&i(e)}}}function gs(s){let e,t=s[30].name+"",l,a;return{c(){e=d("option"),l=H(t),this.h()},l(n){e=h(n,"OPTION",{class:!0});var c=v(e);l=N(c,t),c.forEach(i),this.h()},h(){e.__value=a=s[30].id,qe(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,c){$(n,e,c),r(e,l)},p(n,c){c[0]&1024&&t!==(t=n[30].name+"")&&P(l,t),c[0]&1024&&a!==(a=n[30].id)&&(e.__value=a,qe(e,e.__value))},d(n){n&&i(e)}}}function hn(s){let e,t,l,a,n=s[9].t("WebUI Add-ons")+"",c,u,f,_,g,m=s[9].t("Chat Bubble UI")+"",p,w,b,k,E,y,V,T=s[9].t("Title Auto-Generation")+"",D,I,S,C,R,q,B,G=s[9].t("Response AutoCopy to Clipboard")+"",F,L,x,Z,U,O,K,j=s[9].t("Widescreen Mode")+"",z,J,W,Q,le,ae,ce,re,_e=s[9].t("Fluidly stream large external response chunks")+"",Ae,pe,ie,ue,ge,ee,se,fe=s[9].t("Chat direction")+"",me,Ne,be,Fe,Se,xe,X,Y,de,ke,Be=s[9].t("Default Model")+"",Ee,ye,De,Ie,Re,nt=s[9].t("Select a model")+"",st,ot,gt,Je,wt=s[9].t("Save")+"",Tt,tt,ze;function We(he,$e){return he[6]===!0?Qr:Xr}let Xe=We(s),it=Xe(s);function ft(he,$e){return he[0]===!0?tn:en}let Le=ft(s),we=Le(s);function Oe(he,$e){return he[1]===!0?sn:ln}let Ze=Oe(s),ve=Ze(s);function Ke(he,$e){return he[2]===!0?rn:an}let dt=Ke(s),bt=dt(s),at=!s[8].chatBubble&&ps(s);function lt(he,$e){return he[3]===!0?un:cn}let At=lt(s),kt=At(s);function Nt(he,$e){return he[7]==="LTR"?dn:fn}let Ot=Nt(s),ht=Ot(s),xt=rt(s[10].filter(bs)),ct=[];for(let he=0;he<xt.length;he+=1)ct[he]=gs(ms(s,xt,he));return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),c=H(n),u=M(),f=d("div"),_=d("div"),g=d("div"),p=H(m),w=M(),b=d("button"),it.c(),k=M(),E=d("div"),y=d("div"),V=d("div"),D=H(T),I=M(),S=d("button"),we.c(),C=M(),R=d("div"),q=d("div"),B=d("div"),F=H(G),L=M(),x=d("button"),ve.c(),Z=M(),U=d("div"),O=d("div"),K=d("div"),z=H(j),J=M(),W=d("button"),bt.c(),Q=M(),at&&at.c(),le=M(),ae=d("div"),ce=d("div"),re=d("div"),Ae=H(_e),pe=M(),ie=d("button"),kt.c(),ue=M(),ge=d("div"),ee=d("div"),se=d("div"),me=H(fe),Ne=M(),be=d("button"),ht.c(),Fe=M(),Se=d("hr"),xe=M(),X=d("div"),Y=d("div"),de=d("div"),ke=d("div"),Ee=H(Be),ye=M(),De=d("div"),Ie=d("select"),Re=d("option"),st=H(nt);for(let he=0;he<ct.length;he+=1)ct[he].c();ot=M(),gt=d("div"),Je=d("button"),Tt=H(wt),this.h()},l(he){e=h(he,"FORM",{class:!0});var $e=v(e);t=h($e,"DIV",{class:!0});var Ge=v(t);l=h(Ge,"DIV",{});var ut=v(l);a=h(ut,"DIV",{class:!0});var zt=v(a);c=N(zt,n),zt.forEach(i),u=A(ut),f=h(ut,"DIV",{});var Zt=v(f);_=h(Zt,"DIV",{class:!0});var Lt=v(_);g=h(Lt,"DIV",{class:!0});var $t=v(g);p=N($t,m),$t.forEach(i),w=A(Lt),b=h(Lt,"BUTTON",{class:!0,type:!0});var Rt=v(b);it.l(Rt),Rt.forEach(i),Lt.forEach(i),Zt.forEach(i),k=A(ut),E=h(ut,"DIV",{});var tl=v(E);y=h(tl,"DIV",{class:!0});var Ft=v(y);V=h(Ft,"DIV",{class:!0});var ll=v(V);D=N(ll,T),ll.forEach(i),I=A(Ft),S=h(Ft,"BUTTON",{class:!0,type:!0});var sl=v(S);we.l(sl),sl.forEach(i),Ft.forEach(i),tl.forEach(i),C=A(ut),R=h(ut,"DIV",{});var Jt=v(R);q=h(Jt,"DIV",{class:!0});var ul=v(q);B=h(ul,"DIV",{class:!0});var Hl=v(B);F=N(Hl,G),Hl.forEach(i),L=A(ul),x=h(ul,"BUTTON",{class:!0,type:!0});var Nl=v(x);ve.l(Nl),Nl.forEach(i),ul.forEach(i),Jt.forEach(i),Z=A(ut),U=h(ut,"DIV",{});var Ol=v(U);O=h(Ol,"DIV",{class:!0});var fl=v(O);K=h(fl,"DIV",{class:!0});var Ul=v(K);z=N(Ul,j),Ul.forEach(i),J=A(fl),W=h(fl,"BUTTON",{class:!0,type:!0});var Pl=v(W);bt.l(Pl),Pl.forEach(i),fl.forEach(i),Ol.forEach(i),Q=A(ut),at&&at.l(ut),le=A(ut),ae=h(ut,"DIV",{});var jl=v(ae);ce=h(jl,"DIV",{class:!0});var dl=v(ce);re=h(dl,"DIV",{class:!0});var zl=v(re);Ae=N(zl,_e),zl.forEach(i),pe=A(dl),ie=h(dl,"BUTTON",{class:!0,type:!0});var Zl=v(ie);kt.l(Zl),Zl.forEach(i),dl.forEach(i),jl.forEach(i),ut.forEach(i),ue=A(Ge),ge=h(Ge,"DIV",{});var $l=v(ge);ee=h($l,"DIV",{class:!0});var hl=v(ee);se=h(hl,"DIV",{class:!0});var Rl=v(se);me=N(Rl,fe),Rl.forEach(i),Ne=A(hl),be=h(hl,"BUTTON",{class:!0,type:!0});var Wl=v(be);ht.l(Wl),Wl.forEach(i),hl.forEach(i),$l.forEach(i),Fe=A(Ge),Se=h(Ge,"HR",{class:!0}),xe=A(Ge),X=h(Ge,"DIV",{class:!0});var vl=v(X);Y=h(vl,"DIV",{class:!0});var ql=v(Y);de=h(ql,"DIV",{class:!0});var Yl=v(de);ke=h(Yl,"DIV",{class:!0});var Fl=v(ke);Ee=N(Fl,Be),Fl.forEach(i),Yl.forEach(i),ql.forEach(i),ye=A(vl),De=h(vl,"DIV",{class:!0});var Gl=v(De);Ie=h(Gl,"SELECT",{class:!0,placeholder:!0});var bl=v(Ie);Re=h(bl,"OPTION",{});var Kl=v(Re);st=N(Kl,nt),Kl.forEach(i);for(let wl=0;wl<ct.length;wl+=1)ct[wl].l(bl);bl.forEach(i),Gl.forEach(i),vl.forEach(i),Ge.forEach(i),ot=A($e),gt=h($e,"DIV",{class:!0});var Jl=v(gt);Je=h(Jl,"BUTTON",{class:!0,type:!0});var Xl=v(Je);Tt=N(Xl,wt),Xl.forEach(i),Jl.forEach(i),$e.forEach(i),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(g,"class","self-center text-xs font-medium"),o(b,"class","p-1 px-3 text-xs flex rounded transition"),o(b,"type","button"),o(_,"class","py-0.5 flex w-full justify-between"),o(V,"class","self-center text-xs font-medium"),o(S,"class","p-1 px-3 text-xs flex rounded transition"),o(S,"type","button"),o(y,"class","py-0.5 flex w-full justify-between"),o(B,"class","self-center text-xs font-medium"),o(x,"class","p-1 px-3 text-xs flex rounded transition"),o(x,"type","button"),o(q,"class","py-0.5 flex w-full justify-between"),o(K,"class","self-center text-xs font-medium"),o(W,"class","p-1 px-3 text-xs flex rounded transition"),o(W,"type","button"),o(O,"class","py-0.5 flex w-full justify-between"),o(re,"class","self-center text-xs font-medium"),o(ie,"class","p-1 px-3 text-xs flex rounded transition"),o(ie,"type","button"),o(ce,"class","py-0.5 flex w-full justify-between"),o(se,"class","self-center text-xs font-medium"),o(be,"class","p-1 px-3 text-xs flex rounded transition"),o(be,"type","button"),o(ee,"class","py-0.5 flex w-full justify-between"),o(Se,"class","dark:border-gray-850"),o(ke,"class","text-xs font-medium"),o(de,"class","flex justify-between items-center text-xs"),o(Y,"class","mb-2"),Re.__value="",qe(Re,Re.__value),Re.disabled=!0,Re.selected=!0,o(Ie,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ie,"placeholder","Select a model"),s[4]===void 0&&nl(()=>s[28].call(Ie)),o(De,"class","flex-1 mr-2"),o(X,"class","space-y-1 mb-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(Je,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Je,"type","submit"),o(gt,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(he,$e){$(he,e,$e),r(e,t),r(t,l),r(l,a),r(a,c),r(l,u),r(l,f),r(f,_),r(_,g),r(g,p),r(_,w),r(_,b),it.m(b,null),r(l,k),r(l,E),r(E,y),r(y,V),r(V,D),r(y,I),r(y,S),we.m(S,null),r(l,C),r(l,R),r(R,q),r(q,B),r(B,F),r(q,L),r(q,x),ve.m(x,null),r(l,Z),r(l,U),r(U,O),r(O,K),r(K,z),r(O,J),r(O,W),bt.m(W,null),r(l,Q),at&&at.m(l,null),r(l,le),r(l,ae),r(ae,ce),r(ce,re),r(re,Ae),r(ce,pe),r(ce,ie),kt.m(ie,null),r(t,ue),r(t,ge),r(ge,ee),r(ee,se),r(se,me),r(ee,Ne),r(ee,be),ht.m(be,null),r(t,Fe),r(t,Se),r(t,xe),r(t,X),r(X,Y),r(Y,de),r(de,ke),r(ke,Ee),r(X,ye),r(X,De),r(De,Ie),r(Ie,Re),r(Re,st);for(let Ge=0;Ge<ct.length;Ge+=1)ct[Ge]&&ct[Ge].m(Ie,null);Wt(Ie,s[4],!0),r(e,ot),r(e,gt),r(gt,Je),r(Je,Tt),tt||(ze=[te(b,"click",s[22]),te(S,"click",s[23]),te(x,"click",s[24]),te(W,"click",s[25]),te(ie,"click",s[27]),te(be,"click",s[19]),te(Ie,"change",s[28]),te(e,"submit",il(s[29]))],tt=!0)},p(he,$e){if($e[0]&512&&n!==(n=he[9].t("WebUI Add-ons")+"")&&P(c,n),$e[0]&512&&m!==(m=he[9].t("Chat Bubble UI")+"")&&P(p,m),Xe===(Xe=We(he))&&it?it.p(he,$e):(it.d(1),it=Xe(he),it&&(it.c(),it.m(b,null))),$e[0]&512&&T!==(T=he[9].t("Title Auto-Generation")+"")&&P(D,T),Le===(Le=ft(he))&&we?we.p(he,$e):(we.d(1),we=Le(he),we&&(we.c(),we.m(S,null))),$e[0]&512&&G!==(G=he[9].t("Response AutoCopy to Clipboard")+"")&&P(F,G),Ze===(Ze=Oe(he))&&ve?ve.p(he,$e):(ve.d(1),ve=Ze(he),ve&&(ve.c(),ve.m(x,null))),$e[0]&512&&j!==(j=he[9].t("Widescreen Mode")+"")&&P(z,j),dt===(dt=Ke(he))&&bt?bt.p(he,$e):(bt.d(1),bt=dt(he),bt&&(bt.c(),bt.m(W,null))),he[8].chatBubble?at&&(at.d(1),at=null):at?at.p(he,$e):(at=ps(he),at.c(),at.m(l,le)),$e[0]&512&&_e!==(_e=he[9].t("Fluidly stream large external response chunks")+"")&&P(Ae,_e),At===(At=lt(he))&&kt?kt.p(he,$e):(kt.d(1),kt=At(he),kt&&(kt.c(),kt.m(ie,null))),$e[0]&512&&fe!==(fe=he[9].t("Chat direction")+"")&&P(me,fe),Ot===(Ot=Nt(he))&&ht?ht.p(he,$e):(ht.d(1),ht=Ot(he),ht&&(ht.c(),ht.m(be,null))),$e[0]&512&&Be!==(Be=he[9].t("Default Model")+"")&&P(Ee,Be),$e[0]&512&&nt!==(nt=he[9].t("Select a model")+"")&&P(st,nt),$e[0]&1024){xt=rt(he[10].filter(bs));let Ge;for(Ge=0;Ge<xt.length;Ge+=1){const ut=ms(he,xt,Ge);ct[Ge]?ct[Ge].p(ut,$e):(ct[Ge]=gs(ut),ct[Ge].c(),ct[Ge].m(Ie,null))}for(;Ge<ct.length;Ge+=1)ct[Ge].d(1);ct.length=xt.length}$e[0]&1040&&Wt(Ie,he[4]),$e[0]&512&&wt!==(wt=he[9].t("Save")+"")&&P(Tt,wt)},i:Ye,o:Ye,d(he){he&&i(e),it.d(),we.d(),ve.d(),bt.d(),at&&at.d(),kt.d(),ht.d(),Ht(ct,he),tt=!1,et(ze)}}}const bs=s=>s.id;function vn(s,e,t){let l,a,n;Ue(s,jt,O=>t(8,l=O)),Ue(s,xl,O=>t(10,n=O));const c=Kt(),u=Et("i18n");Ue(s,u,O=>t(9,a=O));let{saveSettings:f}=e,_=!0,g=!1,m=!1,p=!1,w="",b=!1,k=!0,E="LTR";const y=async()=>{t(3,p=!p),f({splitLargeChunks:p})},V=async()=>{t(2,m=!m),f({widescreenMode:m})},T=async()=>{t(6,k=!k),f({chatBubble:k})},D=async()=>{t(5,b=!b),f({showUsername:b})},I=async()=>{t(0,_=!_),f({title:{...l.title,auto:_}})},S=async()=>{const O=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(O),O==="granted"?(t(1,g=!g),f({responseAutoCopy:g})):Qe.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},C=async()=>{t(7,E=E==="LTR"?"RTL":"LTR"),f({chatDirection:E})},R=async()=>{f({models:[w]})};Bt(async()=>{var O;t(0,_=((O=l==null?void 0:l.title)==null?void 0:O.auto)??!0),t(1,g=l.responseAutoCopy??!1),t(5,b=l.showUsername??!1),t(6,k=l.chatBubble??!0),t(2,m=l.widescreenMode??!1),t(3,p=l.splitLargeChunks??!1),t(7,E=l.chatDirection??"LTR"),t(4,w=((l==null?void 0:l.models)??[""]).at(0))});const q=()=>{T()},B=()=>{I()},G=()=>{S()},F=()=>{V()},L=()=>{D()},x=()=>{y()};function Z(){w=ol(this),t(4,w)}const U=()=>{R(),c("save")};return s.$$set=O=>{"saveSettings"in O&&t(21,f=O.saveSettings)},[_,g,m,p,w,b,k,E,l,a,n,c,u,y,V,T,D,I,S,C,R,f,q,B,G,F,L,x,Z,U]}class _n extends mt{constructor(e){super(),pt(this,e,vn,hn,_t,{saveSettings:21},null,[-1,-1])}}function ws(s,e,t){const l=s.slice();return l[8]=e[t],l}function ks(s,e,t){const l=s.slice();return l[25]=e[t],l}function ys(s){let e,t,l=s[7].t("Speech-to-Text Engine")+"",a,n,c,u,f,_=s[7].t("Default")+"",g,m,p=s[7].t("Web API")+"",w,b,k;return{c(){e=d("div"),t=d("div"),a=H(l),n=M(),c=d("div"),u=d("select"),f=d("option"),g=H(_),m=d("option"),w=H(p),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=v(e);t=h(y,"DIV",{class:!0});var V=v(t);a=N(V,l),V.forEach(i),n=A(y),c=h(y,"DIV",{class:!0});var T=v(c);u=h(T,"SELECT",{class:!0,placeholder:!0});var D=v(u);f=h(D,"OPTION",{});var I=v(f);g=N(I,_),I.forEach(i),m=h(D,"OPTION",{});var S=v(m);w=N(S,p),S.forEach(i),D.forEach(i),T.forEach(i),y.forEach(i),this.h()},h(){o(t,"class","self-center text-xs font-medium"),f.__value="",qe(f,f.__value),m.__value="web",qe(m,m.__value),o(u,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(u,"placeholder","Select an engine"),s[4]===void 0&&nl(()=>s[13].call(u)),o(c,"class","flex items-center relative"),o(e,"class","py-0.5 flex w-full justify-between")},m(E,y){$(E,e,y),r(e,t),r(t,a),r(e,n),r(e,c),r(c,u),r(u,f),r(f,g),r(u,m),r(m,w),Wt(u,s[4],!0),b||(k=te(u,"change",s[13]),b=!0)},p(E,y){y&128&&l!==(l=E[7].t("Speech-to-Text Engine")+"")&&P(a,l),y&128&&_!==(_=E[7].t("Default")+"")&&P(g,_),y&128&&p!==(p=E[7].t("Web API")+"")&&P(w,p),y&16&&Wt(u,E[4])},d(E){E&&i(e),b=!1,k()}}}function mn(s){let e,t=s[7].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n&128&&t!==(t=a[7].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function pn(s){let e,t=s[7].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n&128&&t!==(t=a[7].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function gn(s){let e,t=s[7].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n&128&&t!==(t=a[7].t("Off")+"")&&P(l,t)},d(a){a&&i(e)}}}function bn(s){let e,t=s[7].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n&128&&t!==(t=a[7].t("On")+"")&&P(l,t)},d(a){a&&i(e)}}}function wn(s){let e,t,l=s[7].t("Set Voice")+"",a,n,c,u,f,_,g,m,p,w=rt(s[5]),b=[];for(let k=0;k<w.length;k+=1)b[k]=Es(ws(s,w,k));return{c(){e=d("div"),t=d("div"),a=H(l),n=M(),c=d("div"),u=d("div"),f=d("input"),_=M(),g=d("datalist");for(let k=0;k<b.length;k+=1)b[k].c();this.h()},l(k){e=h(k,"DIV",{});var E=v(e);t=h(E,"DIV",{class:!0});var y=v(t);a=N(y,l),y.forEach(i),n=A(E),c=h(E,"DIV",{class:!0});var V=v(c);u=h(V,"DIV",{class:!0});var T=v(u);f=h(T,"INPUT",{list:!0,class:!0,placeholder:!0}),_=A(T),g=h(T,"DATALIST",{id:!0});var D=v(g);for(let I=0;I<b.length;I+=1)b[I].l(D);D.forEach(i),T.forEach(i),V.forEach(i),E.forEach(i),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),o(f,"list","voice-list"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder","Select a voice"),o(g,"id","voice-list"),o(u,"class","flex-1"),o(c,"class","flex w-full")},m(k,E){$(k,e,E),r(e,t),r(t,a),r(e,n),r(e,c),r(c,u),r(u,f),qe(f,s[8]),r(u,_),r(u,g);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(g,null);m||(p=te(f,"input",s[19]),m=!0)},p(k,E){if(E&128&&l!==(l=k[7].t("Set Voice")+"")&&P(a,l),E&296&&f.value!==k[8]&&qe(f,k[8]),E&32){w=rt(k[5]);let y;for(y=0;y<w.length;y+=1){const V=ws(k,w,y);b[y]?b[y].p(V,E):(b[y]=Es(V),b[y].c(),b[y].m(g,null))}for(;y<b.length;y+=1)b[y].d(1);b.length=w.length}},i:Ye,o:Ye,d(k){k&&i(e),Ht(b,k),m=!1,p()}}}function kn(s){let e,t,l=s[7].t("Set Voice")+"",a,n,c,u,f,_,g=s[7].t("Default")+"",m,p,w,b,k,E=s[7].t("Allow non-local voices")+"",y,V,T,D,I,S,C,R,q=rt(s[5].filter(s[16])),B=[];for(let L=0;L<q.length;L+=1)B[L]=Is(ks(s,q,L));function G(L){s[18](L)}let F={};return s[3]!==void 0&&(F.state=s[3]),D=new fa({props:F}),yt.push(()=>Dt(D,"state",G)),{c(){e=d("div"),t=d("div"),a=H(l),n=M(),c=d("div"),u=d("div"),f=d("select"),_=d("option"),m=H(g);for(let L=0;L<B.length;L+=1)B[L].c();w=M(),b=d("div"),k=d("div"),y=H(E),V=M(),T=d("div"),Te(D.$$.fragment),this.h()},l(L){e=h(L,"DIV",{});var x=v(e);t=h(x,"DIV",{class:!0});var Z=v(t);a=N(Z,l),Z.forEach(i),n=A(x),c=h(x,"DIV",{class:!0});var U=v(c);u=h(U,"DIV",{class:!0});var O=v(u);f=h(O,"SELECT",{class:!0});var K=v(f);_=h(K,"OPTION",{});var j=v(_);m=N(j,g),j.forEach(i);for(let Q=0;Q<B.length;Q+=1)B[Q].l(K);K.forEach(i),O.forEach(i),U.forEach(i),w=A(x),b=h(x,"DIV",{class:!0});var z=v(b);k=h(z,"DIV",{class:!0});var J=v(k);y=N(J,E),J.forEach(i),V=A(z),T=h(z,"DIV",{class:!0});var W=v(T);Ve(D.$$.fragment,W),W.forEach(i),z.forEach(i),x.forEach(i),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),_.__value="",qe(_,_.__value),_.selected=p=s[8]!=="",o(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),s[8]===void 0&&nl(()=>s[17].call(f)),o(u,"class","flex-1"),o(c,"class","flex w-full"),o(k,"class","text-xs"),o(T,"class","mt-1"),o(b,"class","flex items-center justify-between my-1.5")},m(L,x){$(L,e,x),r(e,t),r(t,a),r(e,n),r(e,c),r(c,u),r(u,f),r(f,_),r(_,m);for(let Z=0;Z<B.length;Z+=1)B[Z]&&B[Z].m(f,null);Wt(f,s[8],!0),r(e,w),r(e,b),r(b,k),r(k,y),r(b,V),r(b,T),Ce(D,T,null),S=!0,C||(R=te(f,"change",s[17]),C=!0)},p(L,x){if((!S||x&128)&&l!==(l=L[7].t("Set Voice")+"")&&P(a,l),(!S||x&128)&&g!==(g=L[7].t("Default")+"")&&P(m,g),(!S||x&296&&p!==(p=L[8]!==""))&&(_.selected=p),x&296){q=rt(L[5].filter(L[16]));let U;for(U=0;U<q.length;U+=1){const O=ks(L,q,U);B[U]?B[U].p(O,x):(B[U]=Is(O),B[U].c(),B[U].m(f,null))}for(;U<B.length;U+=1)B[U].d(1);B.length=q.length}x&296&&Wt(f,L[8]),(!S||x&128)&&E!==(E=L[7].t("Allow non-local voices")+"")&&P(y,E);const Z={};!I&&x&8&&(I=!0,Z.state=L[3],It(()=>I=!1)),D.$set(Z)},i(L){S||(ne(D.$$.fragment,L),S=!0)},o(L){oe(D.$$.fragment,L),S=!1},d(L){L&&i(e),Ht(B,L),Me(D),C=!1,R()}}}function Es(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),v(e).forEach(i),this.h()},h(){e.__value=t=s[8].name,qe(e,e.__value)},m(l,a){$(l,e,a)},p(l,a){a&32&&t!==(t=l[8].name)&&(e.__value=t,qe(e,e.__value))},d(l){l&&i(e)}}}function Is(s){let e,t=s[25].name+"",l,a,n;return{c(){e=d("option"),l=H(t),this.h()},l(c){e=h(c,"OPTION",{class:!0});var u=v(e);l=N(u,t),u.forEach(i),this.h()},h(){e.__value=a=s[25].name,qe(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=n=s[8]===s[25].name},m(c,u){$(c,e,u),r(e,l)},p(c,u){u&40&&t!==(t=c[25].name+"")&&P(l,t),u&40&&a!==(a=c[25].name)&&(e.__value=a,qe(e,e.__value)),u&296&&n!==(n=c[8]===c[25].name)&&(e.selected=n)},d(c){c&&i(e)}}}function yn(s){let e,t,l,a,n=s[7].t("STT Settings")+"",c,u,f,_,g,m=s[7].t("Instant Auto-Send After Voice Transcription")+"",p,w,b,k,E,y,V=s[7].t("TTS Settings")+"",T,D,I,S,C=s[7].t("Auto-playback response")+"",R,q,B,G,F,L,x,Z,U,O,K,j=s[7].t("Save")+"",z,J,W,Q,le=s[6].audio.stt.engine!=="web"&&ys(s);function ae(ee,se){return ee[1]===!0?pn:mn}let ce=ae(s),re=ce(s);function _e(ee,se){return ee[2]===!0?bn:gn}let Ae=_e(s),pe=Ae(s);const ie=[kn,wn],ue=[];function ge(ee,se){return ee[6].audio.tts.engine===""?0:ee[6].audio.tts.engine==="openai"?1:-1}return~(x=ge(s))&&(Z=ue[x]=ie[x](s)),{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),c=H(n),u=M(),le&&le.c(),f=M(),_=d("div"),g=d("div"),p=H(m),w=M(),b=d("button"),re.c(),k=M(),E=d("div"),y=d("div"),T=H(V),D=M(),I=d("div"),S=d("div"),R=H(C),q=M(),B=d("button"),pe.c(),G=M(),F=d("hr"),L=M(),Z&&Z.c(),U=M(),O=d("div"),K=d("button"),z=H(j),this.h()},l(ee){e=h(ee,"FORM",{class:!0});var se=v(e);t=h(se,"DIV",{class:!0});var fe=v(t);l=h(fe,"DIV",{});var me=v(l);a=h(me,"DIV",{class:!0});var Ne=v(a);c=N(Ne,n),Ne.forEach(i),u=A(me),le&&le.l(me),f=A(me),_=h(me,"DIV",{class:!0});var be=v(_);g=h(be,"DIV",{class:!0});var Fe=v(g);p=N(Fe,m),Fe.forEach(i),w=A(be),b=h(be,"BUTTON",{class:!0,type:!0});var Se=v(b);re.l(Se),Se.forEach(i),be.forEach(i),me.forEach(i),k=A(fe),E=h(fe,"DIV",{});var xe=v(E);y=h(xe,"DIV",{class:!0});var X=v(y);T=N(X,V),X.forEach(i),D=A(xe),I=h(xe,"DIV",{class:!0});var Y=v(I);S=h(Y,"DIV",{class:!0});var de=v(S);R=N(de,C),de.forEach(i),q=A(Y),B=h(Y,"BUTTON",{class:!0,type:!0});var ke=v(B);pe.l(ke),ke.forEach(i),Y.forEach(i),xe.forEach(i),G=A(fe),F=h(fe,"HR",{class:!0}),L=A(fe),Z&&Z.l(fe),fe.forEach(i),U=A(se),O=h(se,"DIV",{class:!0});var Be=v(O);K=h(Be,"BUTTON",{class:!0,type:!0});var Ee=v(K);z=N(Ee,j),Ee.forEach(i),Be.forEach(i),se.forEach(i),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(g,"class","self-center text-xs font-medium"),o(b,"class","p-1 px-3 text-xs flex rounded transition"),o(b,"type","button"),o(_,"class","py-0.5 flex w-full justify-between"),o(y,"class","mb-1 text-sm font-medium"),o(S,"class","self-center text-xs font-medium"),o(B,"class","p-1 px-3 text-xs flex rounded transition"),o(B,"type","button"),o(I,"class","py-0.5 flex w-full justify-between"),o(F,"class","dark:border-gray-850"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(K,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(K,"type","submit"),o(O,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ee,se){$(ee,e,se),r(e,t),r(t,l),r(l,a),r(a,c),r(l,u),le&&le.m(l,null),r(l,f),r(l,_),r(_,g),r(g,p),r(_,w),r(_,b),re.m(b,null),r(t,k),r(t,E),r(E,y),r(y,T),r(E,D),r(E,I),r(I,S),r(S,R),r(I,q),r(I,B),pe.m(B,null),r(t,G),r(t,F),r(t,L),~x&&ue[x].m(t,null),r(e,U),r(e,O),r(O,K),r(K,z),J=!0,W||(Q=[te(b,"click",s[14]),te(B,"click",s[15]),te(e,"submit",il(s[20]))],W=!0)},p(ee,[se]){(!J||se&128)&&n!==(n=ee[7].t("STT Settings")+"")&&P(c,n),ee[6].audio.stt.engine!=="web"?le?le.p(ee,se):(le=ys(ee),le.c(),le.m(l,f)):le&&(le.d(1),le=null),(!J||se&128)&&m!==(m=ee[7].t("Instant Auto-Send After Voice Transcription")+"")&&P(p,m),ce===(ce=ae(ee))&&re?re.p(ee,se):(re.d(1),re=ce(ee),re&&(re.c(),re.m(b,null))),(!J||se&128)&&V!==(V=ee[7].t("TTS Settings")+"")&&P(T,V),(!J||se&128)&&C!==(C=ee[7].t("Auto-playback response")+"")&&P(R,C),Ae===(Ae=_e(ee))&&pe?pe.p(ee,se):(pe.d(1),pe=Ae(ee),pe&&(pe.c(),pe.m(B,null)));let fe=x;x=ge(ee),x===fe?~x&&ue[x].p(ee,se):(Z&&(Ct(),oe(ue[fe],1,1,()=>{ue[fe]=null}),Mt()),~x?(Z=ue[x],Z?Z.p(ee,se):(Z=ue[x]=ie[x](ee),Z.c()),ne(Z,1),Z.m(t,null)):Z=null),(!J||se&128)&&j!==(j=ee[7].t("Save")+"")&&P(z,j)},i(ee){J||(ne(Z),J=!0)},o(ee){oe(Z),J=!1},d(ee){ee&&i(e),le&&le.d(),re.d(),pe.d(),~x&&ue[x].d(),W=!1,et(Q)}}}function En(s,e,t){let l,a,n;Ue(s,Ll,G=>t(6,l=G)),Ue(s,jt,G=>t(22,a=G));const c=Kt(),u=Et("i18n");Ue(s,u,G=>t(7,n=G));let{saveSettings:f}=e,_=!1,g=!1,m=!1,p="",w=[],b="";const k=()=>{t(5,w=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},E=()=>{const G=setInterval(async()=>{t(5,w=await speechSynthesis.getVoices()),w.length>0&&clearInterval(G)},100)},y=async()=>{t(2,g=!g),f({responseAutoPlayback:g})},V=async()=>{t(1,_=!_),f({speechAutoSend:_})};Bt(async()=>{var G,F,L,x,Z,U;a.conversationMode,t(1,_=a.speechAutoSend??!1),t(2,g=a.responseAutoPlayback??!1),t(4,p=((F=(G=a==null?void 0:a.audio)==null?void 0:G.stt)==null?void 0:F.engine)??""),t(8,b=((x=(L=a==null?void 0:a.audio)==null?void 0:L.tts)==null?void 0:x.voice)??l.audio.tts.voice??""),t(3,m=((U=(Z=a.audio)==null?void 0:Z.tts)==null?void 0:U.nonLocalVoices)??!1),l.audio.tts.engine==="openai"?k():E()});function T(){p=ol(this),t(4,p)}const D=()=>{V()},I=()=>{y()},S=G=>m||G.localService===!0;function C(){b=ol(this),t(8,b),t(5,w),t(3,m)}function R(G){m=G,t(3,m)}function q(){b=this.value,t(8,b),t(5,w),t(3,m)}const B=async()=>{f({audio:{stt:{engine:p!==""?p:void 0},tts:{voice:b!==""?b:void 0,nonLocalVoices:l.audio.tts.engine===""?m:void 0}}}),c("save")};return s.$$set=G=>{"saveSettings"in G&&t(0,f=G.saveSettings)},[f,_,g,m,p,w,l,n,b,c,u,y,V,T,D,I,S,C,R,q,B]}class In extends mt{constructor(e){super(),pt(this,e,En,yn,_t,{saveSettings:0})}}function Dn(s){let e,t,l,a,n,c=s[5].t("Off")+"",u;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),a=M(),n=d("span"),u=H(c),this.h()},l(f){e=je(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var _=v(e);t=je(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(_,"path",{d:!0}),v(l).forEach(i),_.forEach(i),a=A(f),n=h(f,"SPAN",{class:!0});var g=v(n);u=N(g,c),g.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(n,"class","ml-2 self-center")},m(f,_){$(f,e,_),r(e,t),r(e,l),$(f,a,_),$(f,n,_),r(n,u)},p(f,_){_&32&&c!==(c=f[5].t("Off")+"")&&P(u,c)},d(f){f&&(i(e),i(a),i(n))}}}function Tn(s){let e,t,l,a,n,c=s[5].t("On")+"",u;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),a=M(),n=d("span"),u=H(c),this.h()},l(f){e=je(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var _=v(e);t=je(_,"path",{d:!0}),v(t).forEach(i),l=je(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),_.forEach(i),a=A(f),n=h(f,"SPAN",{class:!0});var g=v(n);u=N(g,c),g.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(n,"class","ml-2 self-center")},m(f,_){$(f,e,_),r(e,t),r(e,l),$(f,a,_),$(f,n,_),r(n,u)},p(f,_){_&32&&c!==(c=f[5].t("On")+"")&&P(u,c)},d(f){f&&(i(e),i(a),i(n))}}}function Vn(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',a,n,c=s[5].t("Archive All Chats")+"",u,f,_;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),n=d("div"),u=H(c),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-1duozwn"&&(t.innerHTML=l),a=A(m),n=h(m,"DIV",{class:!0});var p=v(n);u=N(p,c),p.forEach(i),m.forEach(i),this.h()},h(){o(t,"class","self-center mr-3"),o(n,"class","self-center text-sm font-medium"),o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,m){$(g,e,m),r(e,t),r(e,a),r(e,n),r(n,u),f||(_=te(e,"click",s[19]),f=!0)},p(g,m){m&32&&c!==(c=g[5].t("Archive All Chats")+"")&&P(u,c)},d(g){g&&i(e),f=!1,_()}}}function Cn(s){let e,t,l,a,n,c,u,f=s[5].t("Are you sure?")+"",_,g,m,p,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',b,k,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,V;return{c(){e=d("div"),t=d("div"),l=Pe("svg"),a=Pe("path"),n=Pe("path"),c=M(),u=d("span"),_=H(f),g=M(),m=d("div"),p=d("button"),p.innerHTML=w,b=M(),k=d("button"),k.innerHTML=E,this.h()},l(T){e=h(T,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var I=v(t);l=je(I,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var S=v(l);a=je(S,"path",{d:!0}),v(a).forEach(i),n=je(S,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(n).forEach(i),S.forEach(i),c=A(I),u=h(I,"SPAN",{});var C=v(u);_=N(C,f),C.forEach(i),I.forEach(i),g=A(D),m=h(D,"DIV",{class:!0});var R=v(m);p=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),He(p)!=="svelte-88c061"&&(p.innerHTML=w),b=A(R),k=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),He(k)!=="svelte-1601eo8"&&(k.innerHTML=E),R.forEach(i),D.forEach(i),this.h()},h(){o(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),o(n,"fill-rule","evenodd"),o(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),o(n,"clip-rule","evenodd"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"viewBox","0 0 16 16"),o(l,"fill","currentColor"),o(l,"class","w-4 h-4"),o(t,"class","flex items-center space-x-3"),o(p,"class","hover:text-white transition"),o(k,"class","hover:text-white transition"),o(m,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(T,D){$(T,e,D),r(e,t),r(t,l),r(l,a),r(l,n),r(t,c),r(t,u),r(u,_),r(e,g),r(e,m),r(m,p),r(m,b),r(m,k),y||(V=[te(p,"click",s[17]),te(k,"click",s[18])],y=!0)},p(T,D){D&32&&f!==(f=T[5].t("Are you sure?")+"")&&P(_,f)},d(T){T&&i(e),y=!1,et(V)}}}function Mn(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',a,n,c=s[5].t("Delete All Chats")+"",u,f,_;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),n=d("div"),u=H(c),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),a=A(m),n=h(m,"DIV",{class:!0});var p=v(n);u=N(p,c),p.forEach(i),m.forEach(i),this.h()},h(){o(t,"class","self-center mr-3"),o(n,"class","self-center text-sm font-medium"),o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,m){$(g,e,m),r(e,t),r(e,a),r(e,n),r(n,u),f||(_=te(e,"click",s[22]),f=!0)},p(g,m){m&32&&c!==(c=g[5].t("Delete All Chats")+"")&&P(u,c)},d(g){g&&i(e),f=!1,_()}}}function An(s){let e,t,l,a,n,c,u,f=s[5].t("Are you sure?")+"",_,g,m,p,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',b,k,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,V;return{c(){e=d("div"),t=d("div"),l=Pe("svg"),a=Pe("path"),n=Pe("path"),c=M(),u=d("span"),_=H(f),g=M(),m=d("div"),p=d("button"),p.innerHTML=w,b=M(),k=d("button"),k.innerHTML=E,this.h()},l(T){e=h(T,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var I=v(t);l=je(I,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var S=v(l);a=je(S,"path",{d:!0}),v(a).forEach(i),n=je(S,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(n).forEach(i),S.forEach(i),c=A(I),u=h(I,"SPAN",{});var C=v(u);_=N(C,f),C.forEach(i),I.forEach(i),g=A(D),m=h(D,"DIV",{class:!0});var R=v(m);p=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),He(p)!=="svelte-19nv6qp"&&(p.innerHTML=w),b=A(R),k=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),He(k)!=="svelte-ekcykx"&&(k.innerHTML=E),R.forEach(i),D.forEach(i),this.h()},h(){o(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),o(n,"fill-rule","evenodd"),o(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),o(n,"clip-rule","evenodd"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"viewBox","0 0 16 16"),o(l,"fill","currentColor"),o(l,"class","w-4 h-4"),o(t,"class","flex items-center space-x-3"),o(p,"class","hover:text-white transition"),o(k,"class","hover:text-white transition"),o(m,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(T,D){$(T,e,D),r(e,t),r(t,l),r(l,a),r(l,n),r(t,c),r(t,u),r(u,_),r(e,g),r(e,m),r(m,p),r(m,b),r(m,k),y||(V=[te(p,"click",s[20]),te(k,"click",s[21])],y=!0)},p(T,D){D&32&&f!==(f=T[5].t("Are you sure?")+"")&&P(_,f)},d(T){T&&i(e),y=!1,et(V)}}}function Sn(s){let e,t,l,a,n,c=s[5].t("Chat History")+"",u,f,_,g,m,p=s[5].t("This setting does not sync across browsers or devices.")+"",w,b,k,E,y,V,T,D,I,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',C,R,q=s[5].t("Import Chats")+"",B,G,F,L,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',Z,U,O=s[5].t("Export Chats")+"",K,j,z,J,W,Q,le,ae;function ce(se,fe){return se[1]===!0?Tn:Dn}let re=ce(s),_e=re(s);function Ae(se,fe){return se[2]?Cn:Vn}let pe=Ae(s),ie=pe(s);function ue(se,fe){return se[3]?An:Mn}let ge=ue(s),ee=ge(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=d("div"),u=H(c),f=M(),_=d("button"),_e.c(),g=M(),m=d("div"),w=H(p),b=M(),k=d("hr"),E=M(),y=d("div"),V=d("input"),T=M(),D=d("button"),I=d("div"),I.innerHTML=S,C=M(),R=d("div"),B=H(q),G=M(),F=d("button"),L=d("div"),L.innerHTML=x,Z=M(),U=d("div"),K=H(O),j=M(),z=d("hr"),J=M(),W=d("div"),ie.c(),Q=M(),ee.c(),this.h()},l(se){e=h(se,"DIV",{class:!0});var fe=v(e);t=h(fe,"DIV",{class:!0});var me=v(t);l=h(me,"DIV",{class:!0});var Ne=v(l);a=h(Ne,"DIV",{class:!0});var be=v(a);n=h(be,"DIV",{class:!0});var Fe=v(n);u=N(Fe,c),Fe.forEach(i),f=A(be),_=h(be,"BUTTON",{class:!0,type:!0});var Se=v(_);_e.l(Se),Se.forEach(i),be.forEach(i),g=A(Ne),m=h(Ne,"DIV",{class:!0});var xe=v(m);w=N(xe,p),xe.forEach(i),Ne.forEach(i),b=A(me),k=h(me,"HR",{class:!0}),E=A(me),y=h(me,"DIV",{class:!0});var X=v(y);V=h(X,"INPUT",{id:!0,type:!0,accept:!0}),T=A(X),D=h(X,"BUTTON",{class:!0});var Y=v(D);I=h(Y,"DIV",{class:!0,"data-svelte-h":!0}),He(I)!=="svelte-135keqh"&&(I.innerHTML=S),C=A(Y),R=h(Y,"DIV",{class:!0});var de=v(R);B=N(de,q),de.forEach(i),Y.forEach(i),G=A(X),F=h(X,"BUTTON",{class:!0});var ke=v(F);L=h(ke,"DIV",{class:!0,"data-svelte-h":!0}),He(L)!=="svelte-7e4f4y"&&(L.innerHTML=x),Z=A(ke),U=h(ke,"DIV",{class:!0});var Be=v(U);K=N(Be,O),Be.forEach(i),ke.forEach(i),X.forEach(i),j=A(me),z=h(me,"HR",{class:!0}),J=A(me),W=h(me,"DIV",{class:!0});var Ee=v(W);ie.l(Ee),Q=A(Ee),ee.l(Ee),Ee.forEach(i),me.forEach(i),fe.forEach(i),this.h()},h(){o(n,"class","self-center text-sm font-medium"),o(_,"class","p-1 px-3 text-xs flex rounded transition"),o(_,"type","button"),o(a,"class","flex w-full justify-between"),o(m,"class","text-xs text-left w-full font-medium mt-0.5"),o(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),o(k,"class","dark:border-gray-850"),o(V,"id","chat-import-input"),o(V,"type","file"),o(V,"accept",".json"),V.hidden=!0,o(I,"class","self-center mr-3"),o(R,"class","self-center text-sm font-medium"),o(D,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(L,"class","self-center mr-3"),o(U,"class","self-center text-sm font-medium"),o(F,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(y,"class","flex flex-col"),o(z,"class","dark:border-gray-850"),o(W,"class","flex flex-col"),o(t,"class","space-y-2"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(se,fe){$(se,e,fe),r(e,t),r(t,l),r(l,a),r(a,n),r(n,u),r(a,f),r(a,_),_e.m(_,null),r(l,g),r(l,m),r(m,w),r(t,b),r(t,k),r(t,E),r(t,y),r(y,V),s[13](V),r(y,T),r(y,D),r(D,I),r(D,C),r(D,R),r(R,B),r(y,G),r(y,F),r(F,L),r(F,Z),r(F,U),r(U,K),r(t,j),r(t,z),r(t,J),r(t,W),ie.m(W,null),r(W,Q),ee.m(W,null),le||(ae=[te(_,"click",s[12]),te(V,"change",s[14]),te(D,"click",s[15]),te(F,"click",s[16])],le=!0)},p(se,[fe]){fe&32&&c!==(c=se[5].t("Chat History")+"")&&P(u,c),re===(re=ce(se))&&_e?_e.p(se,fe):(_e.d(1),_e=re(se),_e&&(_e.c(),_e.m(_,null))),fe&32&&p!==(p=se[5].t("This setting does not sync across browsers or devices.")+"")&&P(w,p),fe&32&&q!==(q=se[5].t("Import Chats")+"")&&P(B,q),fe&32&&O!==(O=se[5].t("Export Chats")+"")&&P(K,O),pe===(pe=Ae(se))&&ie?ie.p(se,fe):(ie.d(1),ie=pe(se),ie&&(ie.c(),ie.m(W,Q))),ge===(ge=ue(se))&&ee?ee.p(se,fe):(ee.d(1),ee=ge(se),ee&&(ee.c(),ee.m(W,null)))},i:Ye,o:Ye,d(se){se&&i(e),_e.d(),s[13](null),ie.d(),ee.d(),le=!1,et(ae)}}}function xn(s,e,t){let l,a;Ue(s,jt,L=>t(23,l=L));const{saveAs:n}=Sl,c=Et("i18n");Ue(s,c,L=>t(5,a=L));let{saveSettings:u}=e,f=!0,_,g=!1,m=!1,p;const w=async L=>{for(const x of L)console.log(x),x.chat?await Ql(localStorage.token,x.chat):await Ql(localStorage.token,x);await St.set(await Pt(localStorage.token))},b=async()=>{let L=new Blob([JSON.stringify(await wa(localStorage.token))],{type:"application/json"});n(L,`chat-export-${Date.now()}.json`)},k=async()=>{await Yt("/"),await ka(localStorage.token).catch(L=>{Qe.error(L)}),await St.set(await Pt(localStorage.token))},E=async()=>{await Yt("/"),await ya(localStorage.token).catch(L=>{Qe.error(L)}),await St.set(await Pt(localStorage.token))},y=async()=>{t(1,f=!f),console.log(f),f===!1&&await Yt("/"),u({saveChatHistory:f})};Bt(async()=>{t(1,f=l.saveChatHistory??!0)});const V=()=>{y()};function T(L){yt[L?"unshift":"push"](()=>{p=L,t(4,p)})}function D(){_=this.files,t(0,_)}const I=()=>{p.click()},S=()=>{b()},C=()=>{k(),t(2,g=!1)},R=()=>{t(2,g=!1)},q=()=>{t(2,g=!0)},B=()=>{E(),t(3,m=!1)},G=()=>{t(3,m=!1)},F=()=>{t(3,m=!0)};return s.$$set=L=>{"saveSettings"in L&&t(11,u=L.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&_){console.log(_);let L=new FileReader;L.onload=x=>{let Z=JSON.parse(x.target.result);if(console.log(Z),$a(Z)=="openai")try{Z=Ra(Z)}catch(U){console.log("Unable to import chats:",U)}w(Z)},_.length>0&&L.readAsText(_[0])}},[_,f,g,m,p,a,c,b,k,E,y,u,V,T,D,I,S,C,R,q,B,G,F]}class Ln extends mt{constructor(e){super(),pt(this,e,xn,Sn,_t,{saveSettings:11})}}function Bn(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(l,a){$(l,e,a),r(e,t)},p(l,[a]){a&1&&o(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&i(e)}}}function Hn(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className)},[l]}class Nn extends mt{constructor(e){super(),pt(this,e,Hn,Bn,_t,{className:0})}}function Ds(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){$(l,e,a)},d(l){l&&i(e)}}}function On(s){let e,t,l,a=s[3].t("Add Memory")+"",n,c,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,g,m,p,w,b,k,E,y,V,T=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",D,I,S,C,R=s[3].t("Add")+"",q,B,G,F,L,x=s[1]&&Ds();return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),u.innerHTML=f,_=M(),g=d("div"),m=d("div"),p=d("form"),w=d("div"),b=d("textarea"),E=M(),y=d("div"),V=H("â“˜ "),D=H(T),I=M(),S=d("div"),C=d("button"),q=H(R),B=M(),x&&x.c(),this.h()},l(Z){e=h(Z,"DIV",{});var U=v(e);t=h(U,"DIV",{class:!0});var O=v(t);l=h(O,"DIV",{class:!0});var K=v(l);n=N(K,a),K.forEach(i),c=A(O),u=h(O,"BUTTON",{class:!0,"data-svelte-h":!0}),He(u)!=="svelte-745w2y"&&(u.innerHTML=f),O.forEach(i),_=A(U),g=h(U,"DIV",{class:!0});var j=v(g);m=h(j,"DIV",{class:!0});var z=v(m);p=h(z,"FORM",{class:!0});var J=v(p);w=h(J,"DIV",{class:!0});var W=v(w);b=h(W,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(b).forEach(i),E=A(W),y=h(W,"DIV",{class:!0});var Q=v(y);V=N(Q,"â“˜ "),D=N(Q,T),Q.forEach(i),W.forEach(i),I=A(J),S=h(J,"DIV",{class:!0});var le=v(S);C=h(le,"BUTTON",{class:!0,type:!0});var ae=v(C);q=N(ae,R),B=A(ae),x&&x.l(ae),ae.forEach(i),le.forEach(i),J.forEach(i),z.forEach(i),j.forEach(i),U.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),o(b,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),o(b,"rows","3"),o(b,"placeholder",k=s[3].t("Enter a detail about yourself for your LLMs to recall")),o(y,"class","text-xs text-gray-500"),o(w,"class",""),o(C,"class",G="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),o(C,"type","submit"),C.disabled=s[1],o(S,"class","flex justify-end pt-1 text-sm font-medium"),o(p,"class","flex flex-col w-full"),o(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(Z,U){$(Z,e,U),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(e,_),r(e,g),r(g,m),r(m,p),r(p,w),r(w,b),qe(b,s[2]),r(w,E),r(w,y),r(y,V),r(y,D),r(p,I),r(p,S),r(S,C),r(C,q),r(C,B),x&&x.m(C,null),F||(L=[te(u,"click",s[6]),te(b,"input",s[7]),te(p,"submit",il(s[8]))],F=!0)},p(Z,U){U&8&&a!==(a=Z[3].t("Add Memory")+"")&&P(n,a),U&8&&k!==(k=Z[3].t("Enter a detail about yourself for your LLMs to recall"))&&o(b,"placeholder",k),U&4&&qe(b,Z[2]),U&8&&T!==(T=Z[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&P(D,T),U&8&&R!==(R=Z[3].t("Add")+"")&&P(q,R),Z[1]?x||(x=Ds(),x.c(),x.m(C,null)):x&&(x.d(1),x=null),U&2&&G!==(G="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(Z[1]?" cursor-not-allowed":""))&&o(C,"class",G),U&2&&(C.disabled=Z[1])},d(Z){Z&&i(e),x&&x.d(),F=!1,et(L)}}}function Un(s){let e,t,l;function a(c){s[9](c)}let n={size:"sm",$$slots:{default:[On]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new cl({props:n}),yt.push(()=>Dt(e,"show",a)),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&2063&&(f.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,f.show=c[0],It(()=>t=!1)),e.$set(f)},i(c){l||(ne(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}function Pn(s,e,t){let l;const a=Kt();let{show:n}=e;const c=Et("i18n");Ue(s,c,b=>t(3,l=b));let u=!1,f="";const _=async()=>{t(1,u=!0);const b=await Fa(localStorage.token,f).catch(k=>(Qe.error(k),null));b&&(console.log(b),Qe.success("Memory added successfully"),t(2,f=""),t(0,n=!1),a("save")),t(1,u=!1)},g=()=>{t(0,n=!1)};function m(){f=this.value,t(2,f)}const p=()=>{_()};function w(b){n=b,t(0,n)}return s.$$set=b=>{"show"in b&&t(0,n=b.show)},[n,u,f,l,c,_,g,m,p,w]}class jn extends mt{constructor(e){super(),pt(this,e,Pn,Un,_t,{show:0})}}function Ts(s,e,t){const l=s.slice();return l[13]=e[t],l}function zn(s){let e,t,l=s[3].t("Memories accessible by LLMs will be shown here.")+"",a;return{c(){e=d("div"),t=d("div"),a=H(l),this.h()},l(n){e=h(n,"DIV",{class:!0});var c=v(e);t=h(c,"DIV",{class:!0});var u=v(t);a=N(u,l),u.forEach(i),c.forEach(i),this.h()},h(){o(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),o(e,"class","text-center flex h-full text-sm w-full")},m(n,c){$(n,e,c),r(e,t),r(t,a)},p(n,c){c&8&&l!==(l=n[3].t("Memories accessible by LLMs will be shown here.")+"")&&P(a,l)},i:Ye,o:Ye,d(n){n&&i(e)}}}function Zn(s){let e,t,l,a,n,c,u=s[3].t("Name")+"",f,_,g,m=s[3].t("Created At")+"",p,w,b,k,E,y,V=rt(s[1]),T=[];for(let I=0;I<V.length;I+=1)T[I]=Vs(Ts(s,V,I));const D=I=>oe(T[I],1,1,()=>{T[I]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),a=d("thead"),n=d("tr"),c=d("th"),f=H(u),_=M(),g=d("th"),p=H(m),w=M(),b=d("th"),k=M(),E=d("tbody");for(let I=0;I<T.length;I+=1)T[I].c();this.h()},l(I){e=h(I,"DIV",{class:!0});var S=v(e);t=h(S,"DIV",{class:!0});var C=v(t);l=h(C,"TABLE",{class:!0});var R=v(l);a=h(R,"THEAD",{class:!0});var q=v(a);n=h(q,"TR",{});var B=v(n);c=h(B,"TH",{scope:!0,class:!0});var G=v(c);f=N(G,u),G.forEach(i),_=A(B),g=h(B,"TH",{scope:!0,class:!0});var F=v(g);p=N(F,m),F.forEach(i),w=A(B),b=h(B,"TH",{scope:!0,class:!0}),v(b).forEach(i),B.forEach(i),q.forEach(i),k=A(R),E=h(R,"TBODY",{});var L=v(E);for(let x=0;x<T.length;x+=1)T[x].l(L);L.forEach(i),R.forEach(i),C.forEach(i),S.forEach(i),this.h()},h(){o(c,"scope","col"),o(c,"class","px-3 py-2"),o(g,"scope","col"),o(g,"class","px-3 py-2 hidden md:flex"),o(b,"scope","col"),o(b,"class","px-3 py-2 text-right"),o(a,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),o(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),o(t,"class","relative overflow-x-auto"),o(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(I,S){$(I,e,S),r(e,t),r(t,l),r(l,a),r(a,n),r(n,c),r(c,f),r(n,_),r(n,g),r(g,p),r(n,w),r(n,b),r(l,k),r(l,E);for(let C=0;C<T.length;C+=1)T[C]&&T[C].m(E,null);y=!0},p(I,S){if((!y||S&8)&&u!==(u=I[3].t("Name")+"")&&P(f,u),(!y||S&8)&&m!==(m=I[3].t("Created At")+"")&&P(p,m),S&10){V=rt(I[1]);let C;for(C=0;C<V.length;C+=1){const R=Ts(I,V,C);T[C]?(T[C].p(R,S),ne(T[C],1)):(T[C]=Vs(R),T[C].c(),ne(T[C],1),T[C].m(E,null))}for(Ct(),C=V.length;C<T.length;C+=1)D(C);Mt()}},i(I){if(!y){for(let S=0;S<V.length;S+=1)ne(T[S]);y=!0}},o(I){T=T.filter(Boolean);for(let S=0;S<T.length;S+=1)oe(T[S]);y=!1},d(I){I&&i(e),Ht(T,I)}}}function $n(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function n(){return s[6](s[13])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-lqu2va"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(c,u){$(c,e,u),l||(a=te(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function Vs(s){let e,t,l,a=s[13].content+"",n,c,u,f,_=gl(s[13].created_at*1e3).format(s[3].t("MMMM DD, YYYY"))+"",g,m,p,w,b,k,E;return b=new Gt({props:{content:"Delete",$$slots:{default:[$n]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("div"),n=H(a),c=M(),u=d("td"),f=d("div"),g=H(_),m=M(),p=d("td"),w=d("div"),Te(b.$$.fragment),k=M(),this.h()},l(y){e=h(y,"TR",{class:!0});var V=v(e);t=h(V,"TD",{class:!0});var T=v(t);l=h(T,"DIV",{class:!0});var D=v(l);n=N(D,a),D.forEach(i),T.forEach(i),c=A(V),u=h(V,"TD",{class:!0});var I=v(u);f=h(I,"DIV",{class:!0});var S=v(f);g=N(S,_),S.forEach(i),I.forEach(i),m=A(V),p=h(V,"TD",{class:!0});var C=v(p);w=h(C,"DIV",{class:!0});var R=v(w);Ve(b.$$.fragment,R),R.forEach(i),C.forEach(i),k=A(V),V.forEach(i),this.h()},h(){o(l,"class","line-clamp-1"),o(t,"class","px-3 py-1"),o(f,"class","my-auto whitespace-nowrap"),o(u,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),o(w,"class","flex justify-end w-full"),o(p,"class","px-3 py-1"),o(e,"class","border-b dark:border-gray-800 items-center")},m(y,V){$(y,e,V),r(e,t),r(t,l),r(l,n),r(e,c),r(e,u),r(u,f),r(f,g),r(e,m),r(e,p),r(p,w),Ce(b,w,null),r(e,k),E=!0},p(y,V){(!E||V&2)&&a!==(a=y[13].content+"")&&P(n,a),(!E||V&10)&&_!==(_=gl(y[13].created_at*1e3).format(y[3].t("MMMM DD, YYYY"))+"")&&P(g,_);const T={};V&65538&&(T.$$scope={dirty:V,ctx:y}),b.$set(T)},i(y){E||(ne(b.$$.fragment,y),E=!0)},o(y){oe(b.$$.fragment,y),E=!1},d(y){y&&i(e),Me(b)}}}function Rn(s){let e,t,l,a=s[3].t("Memory")+"",n,c,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,g,m,p,w,b,k,E,y=s[3].t("Add Memory")+"",V,T,D,I=s[3].t("Clear memory")+"",S,C,R,q;const B=[Zn,zn],G=[];function F(L,x){return L[1].length>0?0:1}return p=F(s),w=G[p]=B[p](s),{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),u.innerHTML=f,_=M(),g=d("div"),m=d("div"),w.c(),b=M(),k=d("div"),E=d("button"),V=H(y),T=M(),D=d("button"),S=H(I),this.h()},l(L){e=h(L,"DIV",{});var x=v(e);t=h(x,"DIV",{class:!0});var Z=v(t);l=h(Z,"DIV",{class:!0});var U=v(l);n=N(U,a),U.forEach(i),c=A(Z),u=h(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),He(u)!=="svelte-745w2y"&&(u.innerHTML=f),Z.forEach(i),_=A(x),g=h(x,"DIV",{class:!0});var O=v(g);m=h(O,"DIV",{class:!0});var K=v(m);w.l(K),K.forEach(i),b=A(O),k=h(O,"DIV",{class:!0});var j=v(k);E=h(j,"BUTTON",{class:!0});var z=v(E);V=N(z,y),z.forEach(i),T=A(j),D=h(j,"BUTTON",{class:!0});var J=v(D);S=N(J,I),J.forEach(i),j.forEach(i),O.forEach(i),x.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),o(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(D,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),o(k,"class","flex text-sm font-medium gap-1.5"),o(g,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(L,x){$(L,e,x),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(e,_),r(e,g),r(g,m),G[p].m(m,null),r(g,b),r(g,k),r(k,E),r(E,V),r(k,T),r(k,D),r(D,S),C=!0,R||(q=[te(u,"click",s[5]),te(E,"click",s[7]),te(D,"click",s[8])],R=!0)},p(L,x){(!C||x&8)&&a!==(a=L[3].t("Memory")+"")&&P(n,a);let Z=p;p=F(L),p===Z?G[p].p(L,x):(Ct(),oe(G[Z],1,1,()=>{G[Z]=null}),Mt(),w=G[p],w?w.p(L,x):(w=G[p]=B[p](L),w.c()),ne(w,1),w.m(m,null)),(!C||x&8)&&y!==(y=L[3].t("Add Memory")+"")&&P(V,y),(!C||x&8)&&I!==(I=L[3].t("Clear memory")+"")&&P(S,I)},i(L){C||(ne(w),C=!0)},o(L){oe(w),C=!1},d(L){L&&i(e),G[p].d(),R=!1,et(q)}}}function Wn(s){let e,t,l,a,n,c;function u(m){s[9](m)}let f={size:"xl",$$slots:{default:[Rn]},$$scope:{ctx:s}};s[0]!==void 0&&(f.show=s[0]),e=new cl({props:f}),yt.push(()=>Dt(e,"show",u));function _(m){s[10](m)}let g={};return s[2]!==void 0&&(g.show=s[2]),a=new jn({props:g}),yt.push(()=>Dt(a,"show",_)),a.$on("save",s[11]),{c(){Te(e.$$.fragment),l=M(),Te(a.$$.fragment)},l(m){Ve(e.$$.fragment,m),l=A(m),Ve(a.$$.fragment,m)},m(m,p){Ce(e,m,p),$(m,l,p),Ce(a,m,p),c=!0},p(m,[p]){const w={};p&65551&&(w.$$scope={dirty:p,ctx:m}),!t&&p&1&&(t=!0,w.show=m[0],It(()=>t=!1)),e.$set(w);const b={};!n&&p&4&&(n=!0,b.show=m[2],It(()=>n=!1)),a.$set(b)},i(m){c||(ne(e.$$.fragment,m),ne(a.$$.fragment,m),c=!0)},o(m){oe(e.$$.fragment,m),oe(a.$$.fragment,m),c=!1},d(m){m&&i(l),Me(e,m),Me(a,m)}}}function qn(s,e,t){let l;Kt();const a=Et("i18n");Ue(s,a,k=>t(3,l=k));let{show:n=!1}=e,c=[],u=!1;const f=()=>{t(0,n=!1)},_=async k=>{await Ga(localStorage.token,k.id).catch(y=>(Qe.error(y),null))&&(Qe.success("Memory deleted successfully"),t(1,c=await Il(localStorage.token)))},g=()=>{t(2,u=!0)},m=async()=>{await Ka(localStorage.token).catch(E=>(Qe.error(E),null))&&(Qe.success("Memory cleared successfully"),t(1,c=[]))};function p(k){n=k,t(0,n)}function w(k){u=k,t(2,u)}const b=async()=>{t(1,c=await Il(localStorage.token))};return s.$$set=k=>{"show"in k&&t(0,n=k.show)},s.$$.update=()=>{s.$$.dirty&1&&n&&(async()=>t(1,c=await Il(localStorage.token)))()},[n,c,u,l,a,f,_,g,m,p,w,b]}class Yn extends mt{constructor(e){super(),pt(this,e,qn,Wn,_t,{show:0})}}function Fn(s){let e,t=s[3].t("Memory")+"",l,a,n,c,u=s[3].t("Experimental")+"",f,_;return{c(){e=d("div"),l=H(t),a=M(),n=d("span"),c=H("("),f=H(u),_=H(")"),this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);l=N(m,t),a=A(m),n=h(m,"SPAN",{class:!0});var p=v(n);c=N(p,"("),f=N(p,u),_=N(p,")"),p.forEach(i),m.forEach(i),this.h()},h(){o(n,"class","text-xs text-gray-500"),o(e,"class","text-sm font-medium")},m(g,m){$(g,e,m),r(e,l),r(e,a),r(e,n),r(n,c),r(n,f),r(n,_)},p(g,m){m&8&&t!==(t=g[3].t("Memory")+"")&&P(l,t),m&8&&u!==(u=g[3].t("Experimental")+"")&&P(f,u)},d(g){g&&i(e)}}}function Gn(s){let e,t,l,a,n,c,u,f,_,g,m,p,w,b,k,E=s[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",y,V,T,D,I=s[3].t("Manage")+"",S,C,R,q,B=s[3].t("Save")+"",G,F,L,x;function Z(j){s[6](j)}let U={};s[1]!==void 0&&(U.show=s[1]),e=new Yn({props:U}),yt.push(()=>Dt(e,"show",Z)),f=new Gt({props:{content:s[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[Fn]},$$scope:{ctx:s}}});function O(j){s[7](j)}let K={};return s[2]!==void 0&&(K.state=s[2]),m=new fa({props:K}),yt.push(()=>Dt(m,"state",O)),m.$on("change",s[8]),{c(){Te(e.$$.fragment),l=M(),a=d("form"),n=d("div"),c=d("div"),u=d("div"),Te(f.$$.fragment),_=M(),g=d("div"),Te(m.$$.fragment),w=M(),b=d("div"),k=d("div"),y=H(E),V=M(),T=d("div"),D=d("button"),S=H(I),C=M(),R=d("div"),q=d("button"),G=H(B),this.h()},l(j){Ve(e.$$.fragment,j),l=A(j),a=h(j,"FORM",{class:!0});var z=v(a);n=h(z,"DIV",{class:!0});var J=v(n);c=h(J,"DIV",{});var W=v(c);u=h(W,"DIV",{class:!0});var Q=v(u);Ve(f.$$.fragment,Q),_=A(Q),g=h(Q,"DIV",{class:!0});var le=v(g);Ve(m.$$.fragment,le),le.forEach(i),Q.forEach(i),W.forEach(i),w=A(J),b=h(J,"DIV",{class:!0});var ae=v(b);k=h(ae,"DIV",{});var ce=v(k);y=N(ce,E),ce.forEach(i),ae.forEach(i),V=A(J),T=h(J,"DIV",{class:!0});var re=v(T);D=h(re,"BUTTON",{type:!0,class:!0});var _e=v(D);S=N(_e,I),_e.forEach(i),re.forEach(i),J.forEach(i),C=A(z),R=h(z,"DIV",{class:!0});var Ae=v(R);q=h(Ae,"BUTTON",{class:!0,type:!0});var pe=v(q);G=N(pe,B),pe.forEach(i),Ae.forEach(i),z.forEach(i),this.h()},h(){o(g,"class","mt-1"),o(u,"class","flex items-center justify-between mb-1"),o(b,"class","text-xs text-gray-600 dark:text-gray-400"),o(D,"type","button"),o(D,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(T,"class","mt-3 mb-1 ml-1"),o(n,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),o(q,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(q,"type","submit"),o(R,"class","flex justify-end text-sm font-medium"),o(a,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(j,z){Ce(e,j,z),$(j,l,z),$(j,a,z),r(a,n),r(n,c),r(c,u),Ce(f,u,null),r(u,_),r(u,g),Ce(m,g,null),r(n,w),r(n,b),r(b,k),r(k,y),r(n,V),r(n,T),r(T,D),r(D,S),r(a,C),r(a,R),r(R,q),r(q,G),F=!0,L||(x=[te(D,"click",s[9]),te(a,"submit",il(s[10]))],L=!0)},p(j,[z]){const J={};!t&&z&2&&(t=!0,J.show=j[1],It(()=>t=!1)),e.$set(J);const W={};z&8&&(W.content=j[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),z&4104&&(W.$$scope={dirty:z,ctx:j}),f.$set(W);const Q={};!p&&z&4&&(p=!0,Q.state=j[2],It(()=>p=!1)),m.$set(Q),(!F||z&8)&&E!==(E=j[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&P(y,E),(!F||z&8)&&I!==(I=j[3].t("Manage")+"")&&P(S,I),(!F||z&8)&&B!==(B=j[3].t("Save")+"")&&P(G,B)},i(j){F||(ne(e.$$.fragment,j),ne(f.$$.fragment,j),ne(m.$$.fragment,j),F=!0)},o(j){oe(e.$$.fragment,j),oe(f.$$.fragment,j),oe(m.$$.fragment,j),F=!1},d(j){j&&(i(l),i(a)),Me(e,j),Me(f),Me(m),L=!1,et(x)}}}function Kn(s,e,t){let l,a;Ue(s,jt,k=>t(11,l=k));const n=Kt(),c=Et("i18n");Ue(s,c,k=>t(3,a=k));let{saveSettings:u}=e,f=!1,_=!1;Bt(async()=>{t(2,_=(l==null?void 0:l.memory)??!1)});function g(k){f=k,t(1,f)}function m(k){_=k,t(2,_)}const p=async()=>{u({memory:_})},w=()=>{t(1,f=!0)},b=()=>{n("save")};return s.$$set=k=>{"saveSettings"in k&&t(0,u=k.saveSettings)},[u,f,_,a,n,c,g,m,p,w,b]}class Jn extends mt{constructor(e){super(),pt(this,e,Kn,Gn,_t,{saveSettings:0})}}function Cs(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',a,n,c=s[2].t("Admin Settings")+"",u,f,_,g;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),n=d("div"),u=H(c),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-wp87ko"&&(t.innerHTML=l),a=A(p),n=h(p,"DIV",{class:!0});var w=v(n);u=N(w,c),w.forEach(i),p.forEach(i),this.h()},h(){o(t,"class","self-center mr-2"),o(n,"class","self-center"),o(e,"class",f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="admin"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(m,p){$(m,e,p),r(e,t),r(e,a),r(e,n),r(n,u),_||(g=te(e,"click",s[9]),_=!0)},p(m,p){p&4&&c!==(c=m[2].t("Admin Settings")+"")&&P(u,c),p&2&&f!==(f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(m[1]==="admin"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",f)},d(m){m&&i(e),_=!1,g()}}}function Xn(s){let e,t;return e=new Zr({}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function Qn(s){let e,t;return e=new Ur({props:{saveHandler:s[20]}}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p(l,a){const n={};a&4&&(n.saveHandler=l[20]),e.$set(n)},i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function eo(s){let e,t;return e=new Ln({props:{saveSettings:s[5]}}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function to(s){let e,t;return e=new In({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function lo(s){let e,t;return e=new Jn({props:{saveSettings:s[5]}}),e.$on("save",s[18]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function so(s){let e,t;return e=new _n({props:{saveSettings:s[5]}}),e.$on("save",s[17]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function ao(s){let e,t;return e=new Jr({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[16]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function ro(s){let e,t,l,a=s[2].t("Settings")+"",n,c,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,g,m,p,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',k,E,y=s[2].t("General")+"",V,T,D,I,S,C,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',q,B,G=s[2].t("Interface")+"",F,L,x,Z,U,O,K,j,z=s[2].t("Personalization")+"",J,W,Q,le,ae,ce='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',re,_e,Ae=s[2].t("Audio")+"",pe,ie,ue,ge,ee,se='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',fe,me,Ne=s[2].t("Chats")+"",be,Fe,Se,xe,X,Y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',de,ke,Be=s[2].t("Account")+"",Ee,ye,De,Ie,Re,nt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',st,ot,gt=s[2].t("About")+"",Je,wt,Tt,tt,ze,We,Xe,it,ft,Le=s[3].role==="admin"&&Cs(s);O=new Nn({});const we=[ao,so,lo,to,eo,Qn,Xn],Oe=[];function Ze(ve,Ke){return ve[1]==="general"?0:ve[1]==="interface"?1:ve[1]==="personalization"?2:ve[1]==="audio"?3:ve[1]==="chats"?4:ve[1]==="account"?5:ve[1]==="about"?6:-1}return~(ze=Ze(s))&&(We=Oe[ze]=we[ze](s)),{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),u.innerHTML=f,_=M(),g=d("div"),m=d("div"),p=d("button"),w=d("div"),w.innerHTML=b,k=M(),E=d("div"),V=H(y),D=M(),Le&&Le.c(),I=M(),S=d("button"),C=d("div"),C.innerHTML=R,q=M(),B=d("div"),F=H(G),x=M(),Z=d("button"),U=d("div"),Te(O.$$.fragment),K=M(),j=d("div"),J=H(z),Q=M(),le=d("button"),ae=d("div"),ae.innerHTML=ce,re=M(),_e=d("div"),pe=H(Ae),ue=M(),ge=d("button"),ee=d("div"),ee.innerHTML=se,fe=M(),me=d("div"),be=H(Ne),Se=M(),xe=d("button"),X=d("div"),X.innerHTML=Y,de=M(),ke=d("div"),Ee=H(Be),De=M(),Ie=d("button"),Re=d("div"),Re.innerHTML=nt,st=M(),ot=d("div"),Je=H(gt),Tt=M(),tt=d("div"),We&&We.c(),this.h()},l(ve){e=h(ve,"DIV",{class:!0});var Ke=v(e);t=h(Ke,"DIV",{class:!0});var dt=v(t);l=h(dt,"DIV",{class:!0});var bt=v(l);n=N(bt,a),bt.forEach(i),c=A(dt),u=h(dt,"BUTTON",{class:!0,"data-svelte-h":!0}),He(u)!=="svelte-745w2y"&&(u.innerHTML=f),dt.forEach(i),_=A(Ke),g=h(Ke,"DIV",{class:!0});var at=v(g);m=h(at,"DIV",{class:!0});var lt=v(m);p=h(lt,"BUTTON",{class:!0});var At=v(p);w=h(At,"DIV",{class:!0,"data-svelte-h":!0}),He(w)!=="svelte-qy1dha"&&(w.innerHTML=b),k=A(At),E=h(At,"DIV",{class:!0});var kt=v(E);V=N(kt,y),kt.forEach(i),At.forEach(i),D=A(lt),Le&&Le.l(lt),I=A(lt),S=h(lt,"BUTTON",{class:!0});var Nt=v(S);C=h(Nt,"DIV",{class:!0,"data-svelte-h":!0}),He(C)!=="svelte-16cea28"&&(C.innerHTML=R),q=A(Nt),B=h(Nt,"DIV",{class:!0});var Ot=v(B);F=N(Ot,G),Ot.forEach(i),Nt.forEach(i),x=A(lt),Z=h(lt,"BUTTON",{class:!0});var ht=v(Z);U=h(ht,"DIV",{class:!0});var xt=v(U);Ve(O.$$.fragment,xt),xt.forEach(i),K=A(ht),j=h(ht,"DIV",{class:!0});var ct=v(j);J=N(ct,z),ct.forEach(i),ht.forEach(i),Q=A(lt),le=h(lt,"BUTTON",{class:!0});var he=v(le);ae=h(he,"DIV",{class:!0,"data-svelte-h":!0}),He(ae)!=="svelte-36jwmy"&&(ae.innerHTML=ce),re=A(he),_e=h(he,"DIV",{class:!0});var $e=v(_e);pe=N($e,Ae),$e.forEach(i),he.forEach(i),ue=A(lt),ge=h(lt,"BUTTON",{class:!0});var Ge=v(ge);ee=h(Ge,"DIV",{class:!0,"data-svelte-h":!0}),He(ee)!=="svelte-1gtbwe5"&&(ee.innerHTML=se),fe=A(Ge),me=h(Ge,"DIV",{class:!0});var ut=v(me);be=N(ut,Ne),ut.forEach(i),Ge.forEach(i),Se=A(lt),xe=h(lt,"BUTTON",{class:!0});var zt=v(xe);X=h(zt,"DIV",{class:!0,"data-svelte-h":!0}),He(X)!=="svelte-amityv"&&(X.innerHTML=Y),de=A(zt),ke=h(zt,"DIV",{class:!0});var Zt=v(ke);Ee=N(Zt,Be),Zt.forEach(i),zt.forEach(i),De=A(lt),Ie=h(lt,"BUTTON",{class:!0});var Lt=v(Ie);Re=h(Lt,"DIV",{class:!0,"data-svelte-h":!0}),He(Re)!=="svelte-15t8s7e"&&(Re.innerHTML=nt),st=A(Lt),ot=h(Lt,"DIV",{class:!0});var $t=v(ot);Je=N($t,gt),$t.forEach(i),Lt.forEach(i),lt.forEach(i),Tt=A(at),tt=h(at,"DIV",{class:!0});var Rt=v(tt);We&&We.l(Rt),Rt.forEach(i),at.forEach(i),Ke.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(w,"class","self-center mr-2"),o(E,"class","self-center"),o(p,"class",T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(C,"class","self-center mr-2"),o(B,"class","self-center"),o(S,"class",L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(U,"class","self-center mr-2"),o(j,"class","self-center"),o(Z,"class",W="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="personalization"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ae,"class","self-center mr-2"),o(_e,"class","self-center"),o(le,"class",ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ee,"class","self-center mr-2"),o(me,"class","self-center"),o(ge,"class",Fe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(X,"class","self-center mr-2"),o(ke,"class","self-center"),o(xe,"class",ye="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(Re,"class","self-center mr-2"),o(ot,"class","self-center"),o(Ie,"class",wt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(m,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),o(tt,"class","flex-1 md:min-h-[28rem]"),o(g,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),o(e,"class","text-gray-700 dark:text-gray-100")},m(ve,Ke){$(ve,e,Ke),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(e,_),r(e,g),r(g,m),r(m,p),r(p,w),r(p,k),r(p,E),r(E,V),r(m,D),Le&&Le.m(m,null),r(m,I),r(m,S),r(S,C),r(S,q),r(S,B),r(B,F),r(m,x),r(m,Z),r(Z,U),Ce(O,U,null),r(Z,K),r(Z,j),r(j,J),r(m,Q),r(m,le),r(le,ae),r(le,re),r(le,_e),r(_e,pe),r(m,ue),r(m,ge),r(ge,ee),r(ge,fe),r(ge,me),r(me,be),r(m,Se),r(m,xe),r(xe,X),r(xe,de),r(xe,ke),r(ke,Ee),r(m,De),r(m,Ie),r(Ie,Re),r(Ie,st),r(Ie,ot),r(ot,Je),r(g,Tt),r(g,tt),~ze&&Oe[ze].m(tt,null),Xe=!0,it||(ft=[te(u,"click",s[7]),te(p,"click",s[8]),te(S,"click",s[10]),te(Z,"click",s[11]),te(le,"click",s[12]),te(ge,"click",s[13]),te(xe,"click",s[14]),te(Ie,"click",s[15])],it=!0)},p(ve,Ke){(!Xe||Ke&4)&&a!==(a=ve[2].t("Settings")+"")&&P(n,a),(!Xe||Ke&4)&&y!==(y=ve[2].t("General")+"")&&P(V,y),(!Xe||Ke&2&&T!==(T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(p,"class",T),ve[3].role==="admin"?Le?Le.p(ve,Ke):(Le=Cs(ve),Le.c(),Le.m(m,I)):Le&&(Le.d(1),Le=null),(!Xe||Ke&4)&&G!==(G=ve[2].t("Interface")+"")&&P(F,G),(!Xe||Ke&2&&L!==(L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(S,"class",L),(!Xe||Ke&4)&&z!==(z=ve[2].t("Personalization")+"")&&P(J,z),(!Xe||Ke&2&&W!==(W="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="personalization"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Z,"class",W),(!Xe||Ke&4)&&Ae!==(Ae=ve[2].t("Audio")+"")&&P(pe,Ae),(!Xe||Ke&2&&ie!==(ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(le,"class",ie),(!Xe||Ke&4)&&Ne!==(Ne=ve[2].t("Chats")+"")&&P(be,Ne),(!Xe||Ke&2&&Fe!==(Fe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(ge,"class",Fe),(!Xe||Ke&4)&&Be!==(Be=ve[2].t("Account")+"")&&P(Ee,Be),(!Xe||Ke&2&&ye!==(ye="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(xe,"class",ye),(!Xe||Ke&4)&&gt!==(gt=ve[2].t("About")+"")&&P(Je,gt),(!Xe||Ke&2&&wt!==(wt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Ie,"class",wt);let dt=ze;ze=Ze(ve),ze===dt?~ze&&Oe[ze].p(ve,Ke):(We&&(Ct(),oe(Oe[dt],1,1,()=>{Oe[dt]=null}),Mt()),~ze?(We=Oe[ze],We?We.p(ve,Ke):(We=Oe[ze]=we[ze](ve),We.c()),ne(We,1),We.m(tt,null)):We=null)},i(ve){Xe||(ne(O.$$.fragment,ve),ne(We),Xe=!0)},o(ve){oe(O.$$.fragment,ve),oe(We),Xe=!1},d(ve){ve&&i(e),Le&&Le.d(),Me(O),~ze&&Oe[ze].d(),it=!1,et(ft)}}}function no(s){let e,t,l;function a(c){s[21](c)}let n={$$slots:{default:[ro]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new cl({props:n}),yt.push(()=>Dt(e,"show",a)),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&8388623&&(f.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,f.show=c[0],It(()=>t=!1)),e.$set(f)},i(c){l||(ne(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}function oo(s,e,t){let l,a,n;Ue(s,jt,B=>t(22,l=B)),Ue(s,Qt,B=>t(3,n=B));const c=Et("i18n");Ue(s,c,B=>t(2,a=B));let{show:u=!1}=e;const f=async B=>{console.log(B),await jt.set({...l,...B}),await xl.set(await _()),await na(localStorage.token,{ui:l})},_=async()=>await ra(localStorage.token);let g="general";const m=()=>{t(0,u=!1)},p=()=>{t(1,g="general")},w=async()=>{await Yt("/admin/settings"),t(0,u=!1)},b=()=>{t(1,g="interface")},k=()=>{t(1,g="personalization")},E=()=>{t(1,g="audio")},y=()=>{t(1,g="chats")},V=()=>{t(1,g="account")},T=()=>{t(1,g="about")},D=()=>{Qe.success(a.t("Settings saved successfully!"))},I=()=>{Qe.success(a.t("Settings saved successfully!"))},S=()=>{Qe.success(a.t("Settings saved successfully!"))},C=()=>{Qe.success(a.t("Settings saved successfully!"))},R=()=>{Qe.success(a.t("Settings saved successfully!"))};function q(B){u=B,t(0,u)}return s.$$set=B=>{"show"in B&&t(0,u=B.show)},[u,g,a,n,c,f,_,m,p,w,b,k,E,y,V,T,D,I,S,C,R,q]}class io extends mt{constructor(e){super(),pt(this,e,oo,no,_t,{show:0})}}function co(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=je(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,a){$(l,e,a),r(e,t)},p(l,[a]){a&2&&o(e,"stroke-width",l[1]),a&1&&o(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&i(e)}}}function uo(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,a=n.strokeWidth)},[l,a]}class fo extends mt{constructor(e){super(),pt(this,e,uo,co,_t,{className:0,strokeWidth:1})}}function ho(s){let e;const t=s[10].default,l=ta(t,s,s[19],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,n){l&&l.m(a,n),e=!0},p(a,n){l&&l.p&&(!e||n&524288)&&la(l,t,a,a[19],e?aa(t,a[19],n,null):sa(a[19]),null)},i(a){e||(ne(l,a),e=!0)},o(a){oe(l,a),e=!1},d(a){l&&l.d(a)}}}function vo(s){let e,t;return e=new Gt({props:{content:s[8].t("More"),$$slots:{default:[ho]},$$scope:{ctx:s}}}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p(l,a){const n={};a&256&&(n.content=l[8].t("More")),a&524288&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function _o(s){let e,t,l,a=s[8].t("Rename")+"",n,c;return e=new fo({props:{strokeWidth:"2"}}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),$(u,t,f),$(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Rename")+"")&&P(n,a)},i(u){c||(ne(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function mo(s){let e,t,l,a=s[8].t("Clone")+"",n,c;return e=new ar({props:{strokeWidth:"2"}}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),$(u,t,f),$(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Clone")+"")&&P(n,a)},i(u){c||(ne(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function po(s){let e,t,l,a=s[8].t("Archive")+"",n,c;return e=new Xa({props:{strokeWidth:"2"}}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),$(u,t,f),$(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Archive")+"")&&P(n,a)},i(u){c||(ne(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function go(s){let e,t,l,a=s[8].t("Share")+"",n,c;return e=new rr({}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),$(u,t,f),$(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Share")+"")&&P(n,a)},i(u){c||(ne(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function bo(s){let e,t,l,a=s[8].t("Delete")+"",n,c;return e=new nr({props:{strokeWidth:"2"}}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),$(u,t,f),$(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Delete")+"")&&P(n,a)},i(u){c||(ne(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function wo(s){let e,t,l,a,n,c,u,f,_,g,m,p,w,b,k;return e=new al({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[_o]},$$scope:{ctx:s}}}),e.$on("click",s[11]),l=new al({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[mo]},$$scope:{ctx:s}}}),l.$on("click",s[12]),n=new al({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[po]},$$scope:{ctx:s}}}),n.$on("click",s[13]),u=new al({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[go]},$$scope:{ctx:s}}}),u.$on("click",s[14]),_=new al({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[bo]},$$scope:{ctx:s}}}),_.$on("click",s[15]),b=new Ja({props:{chatId:s[6]}}),b.$on("close",s[16]),{c(){Te(e.$$.fragment),t=M(),Te(l.$$.fragment),a=M(),Te(n.$$.fragment),c=M(),Te(u.$$.fragment),f=M(),Te(_.$$.fragment),g=M(),m=d("hr"),p=M(),w=d("div"),Te(b.$$.fragment),this.h()},l(E){Ve(e.$$.fragment,E),t=A(E),Ve(l.$$.fragment,E),a=A(E),Ve(n.$$.fragment,E),c=A(E),Ve(u.$$.fragment,E),f=A(E),Ve(_.$$.fragment,E),g=A(E),m=h(E,"HR",{class:!0}),p=A(E),w=h(E,"DIV",{class:!0});var y=v(w);Ve(b.$$.fragment,y),y.forEach(i),this.h()},h(){o(m,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),o(w,"class","flex p-1")},m(E,y){Ce(e,E,y),$(E,t,y),Ce(l,E,y),$(E,a,y),Ce(n,E,y),$(E,c,y),Ce(u,E,y),$(E,f,y),Ce(_,E,y),$(E,g,y),$(E,m,y),$(E,p,y),$(E,w,y),Ce(b,w,null),k=!0},p(E,y){const V={};y&524544&&(V.$$scope={dirty:y,ctx:E}),e.$set(V);const T={};y&524544&&(T.$$scope={dirty:y,ctx:E}),l.$set(T);const D={};y&524544&&(D.$$scope={dirty:y,ctx:E}),n.$set(D);const I={};y&524544&&(I.$$scope={dirty:y,ctx:E}),u.$set(I);const S={};y&524544&&(S.$$scope={dirty:y,ctx:E}),_.$set(S);const C={};y&64&&(C.chatId=E[6]),b.$set(C)},i(E){k||(ne(e.$$.fragment,E),ne(l.$$.fragment,E),ne(n.$$.fragment,E),ne(u.$$.fragment,E),ne(_.$$.fragment,E),ne(b.$$.fragment,E),k=!0)},o(E){oe(e.$$.fragment,E),oe(l.$$.fragment,E),oe(n.$$.fragment,E),oe(u.$$.fragment,E),oe(_.$$.fragment,E),oe(b.$$.fragment,E),k=!1},d(E){E&&(i(t),i(a),i(c),i(f),i(g),i(m),i(p),i(w)),Me(e,E),Me(l,E),Me(n,E),Me(u,E),Me(_,E),Me(b)}}}function ko(s){let e,t,l;return t=new lr({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:sr,$$slots:{default:[wo]},$$scope:{ctx:s}}}),{c(){e=d("div"),Te(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{slot:!0});var n=v(e);Ve(t.$$.fragment,n),n.forEach(i),this.h()},h(){o(e,"slot","content")},m(a,n){$(a,e,n),Ce(t,e,null),l=!0},p(a,n){const c={};n&524799&&(c.$$scope={dirty:n,ctx:a}),t.$set(c)},i(a){l||(ne(t.$$.fragment,a),l=!0)},o(a){oe(t.$$.fragment,a),l=!1},d(a){a&&i(e),Me(t)}}}function yo(s){let e,t,l;function a(c){s[17](c)}let n={$$slots:{content:[ko],default:[vo]},$$scope:{ctx:s}};return s[7]!==void 0&&(n.show=s[7]),e=new tr({props:n}),yt.push(()=>Dt(e,"show",a)),e.$on("change",s[18]),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&524799&&(f.$$scope={dirty:u,ctx:c}),!t&&u&128&&(t=!0,f.show=c[7],It(()=>t=!1)),e.$set(f)},i(c){l||(ne(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}function Eo(s,e,t){let l,{$$slots:a={},$$scope:n}=e;const c=Et("i18n");Ue(s,c,C=>t(8,l=C));let{shareHandler:u}=e,{cloneChatHandler:f}=e,{archiveChatHandler:_}=e,{renameHandler:g}=e,{deleteHandler:m}=e,{onClose:p}=e,{chatId:w=""}=e,b=!1;const k=()=>{g()},E=()=>{f()},y=()=>{_()},V=()=>{u()},T=()=>{m()},D=()=>{t(7,b=!1),p()};function I(C){b=C,t(7,b)}const S=C=>{C.detail===!1&&p()};return s.$$set=C=>{"shareHandler"in C&&t(0,u=C.shareHandler),"cloneChatHandler"in C&&t(1,f=C.cloneChatHandler),"archiveChatHandler"in C&&t(2,_=C.archiveChatHandler),"renameHandler"in C&&t(3,g=C.renameHandler),"deleteHandler"in C&&t(4,m=C.deleteHandler),"onClose"in C&&t(5,p=C.onClose),"chatId"in C&&t(6,w=C.chatId),"$$scope"in C&&t(19,n=C.$$scope)},[u,f,_,g,m,p,w,b,l,c,a,k,E,y,V,T,D,I,S,n]}class Io extends mt{constructor(e){super(),pt(this,e,Eo,yo,_t,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6})}}function Ms(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Do(s){let e,t=s[3].t("You have no archived conversations.")+"",l;return{c(){e=d("div"),l=H(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","text-left text-sm w-full mb-8")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n&8&&t!==(t=a[3].t("You have no archived conversations.")+"")&&P(l,t)},i:Ye,o:Ye,d(a){a&&i(e)}}}function To(s){let e,t,l,a,n,c,u,f=s[3].t("Name")+"",_,g,m,p=s[3].t("Created At")+"",w,b,k,E,y,V,T,D,I="Export All Archived Chats",S,C,R,q=rt(s[2].filter(s[10])),B=[];for(let F=0;F<q.length;F+=1)B[F]=As(Ms(s,q,F));const G=F=>oe(B[F],1,1,()=>{B[F]=null});return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("table"),n=d("thead"),c=d("tr"),u=d("th"),_=H(f),g=M(),m=d("th"),w=H(p),b=M(),k=d("th"),E=M(),y=d("tbody");for(let F=0;F<B.length;F+=1)B[F].c();V=M(),T=d("div"),D=d("button"),D.textContent=I,this.h()},l(F){e=h(F,"DIV",{class:!0});var L=v(e);t=h(L,"DIV",{class:!0});var x=v(t);l=h(x,"DIV",{class:!0});var Z=v(l);a=h(Z,"TABLE",{class:!0});var U=v(a);n=h(U,"THEAD",{class:!0});var O=v(n);c=h(O,"TR",{});var K=v(c);u=h(K,"TH",{scope:!0,class:!0});var j=v(u);_=N(j,f),j.forEach(i),g=A(K),m=h(K,"TH",{scope:!0,class:!0});var z=v(m);w=N(z,p),z.forEach(i),b=A(K),k=h(K,"TH",{scope:!0,class:!0}),v(k).forEach(i),K.forEach(i),O.forEach(i),E=A(U),y=h(U,"TBODY",{});var J=v(y);for(let Q=0;Q<B.length;Q+=1)B[Q].l(J);J.forEach(i),U.forEach(i),Z.forEach(i),x.forEach(i),V=A(L),T=h(L,"DIV",{class:!0});var W=v(T);D=h(W,"BUTTON",{class:!0,"data-svelte-h":!0}),He(D)!=="svelte-1kobxt8"&&(D.textContent=I),W.forEach(i),L.forEach(i),this.h()},h(){o(u,"scope","col"),o(u,"class","px-3 py-2"),o(m,"scope","col"),o(m,"class","px-3 py-2 hidden md:flex"),o(k,"scope","col"),o(k,"class","px-3 py-2 text-right"),o(n,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),o(a,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),o(l,"class","relative overflow-x-auto"),o(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),o(D,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(T,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1"),o(e,"class","w-full")},m(F,L){$(F,e,L),r(e,t),r(t,l),r(l,a),r(a,n),r(n,c),r(c,u),r(u,_),r(c,g),r(c,m),r(m,w),r(c,b),r(c,k),r(a,E),r(a,y);for(let x=0;x<B.length;x+=1)B[x]&&B[x].m(y,null);r(e,V),r(e,T),r(T,D),S=!0,C||(R=te(D,"click",s[13]),C=!0)},p(F,L){if((!S||L&8)&&f!==(f=F[3].t("Name")+"")&&P(_,f),(!S||L&8)&&p!==(p=F[3].t("Created At")+"")&&P(w,p),L&110){q=rt(F[2].filter(F[10]));let x;for(x=0;x<q.length;x+=1){const Z=Ms(F,q,x);B[x]?(B[x].p(Z,L),ne(B[x],1)):(B[x]=As(Z),B[x].c(),ne(B[x],1),B[x].m(y,null))}for(Ct(),x=q.length;x<B.length;x+=1)G(x);Mt()}},i(F){if(!S){for(let L=0;L<q.length;L+=1)ne(B[L]);S=!0}},o(F){B=B.filter(Boolean);for(let L=0;L<B.length;L+=1)oe(B[L]);S=!1},d(F){F&&i(e),Ht(B,F),C=!1,R()}}}function Vo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,a;function n(){return s[11](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(c,u){$(c,e,u),l||(a=te(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function Co(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function n(){return s[12](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(c,u){$(c,e,u),l||(a=te(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function As(s){let e,t,l,a,n=s[17].title+"",c,u,f,_,g,m=gl(s[17].created_at*1e3).format(s[3].t("MMMM DD, YYYY HH:mm"))+"",p,w,b,k,E,y,V,T,D,I;return E=new Gt({props:{content:"Unarchive Chat",$$slots:{default:[Vo]},$$scope:{ctx:s}}}),V=new Gt({props:{content:"Delete Chat",$$slots:{default:[Co]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),a=d("div"),c=H(n),f=M(),_=d("td"),g=d("div"),p=H(m),w=M(),b=d("td"),k=d("div"),Te(E.$$.fragment),y=M(),Te(V.$$.fragment),T=M(),this.h()},l(S){e=h(S,"TR",{class:!0});var C=v(e);t=h(C,"TD",{class:!0});var R=v(t);l=h(R,"A",{href:!0,target:!0});var q=v(l);a=h(q,"DIV",{class:!0});var B=v(a);c=N(B,n),B.forEach(i),q.forEach(i),R.forEach(i),f=A(C),_=h(C,"TD",{class:!0});var G=v(_);g=h(G,"DIV",{class:!0});var F=v(g);p=N(F,m),F.forEach(i),G.forEach(i),w=A(C),b=h(C,"TD",{class:!0});var L=v(b);k=h(L,"DIV",{class:!0});var x=v(k);Ve(E.$$.fragment,x),y=A(x),Ve(V.$$.fragment,x),x.forEach(i),L.forEach(i),T=A(C),C.forEach(i),this.h()},h(){o(a,"class","underline line-clamp-1"),o(l,"href",u="/c/"+s[17].id),o(l,"target","_blank"),o(t,"class","px-3 py-1 w-2/3"),o(g,"class","my-auto"),o(_,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),o(k,"class","flex justify-end w-full"),o(b,"class","px-3 py-1 text-right"),o(e,"class",D="bg-transparent "+(s[19]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(S,C){$(S,e,C),r(e,t),r(t,l),r(l,a),r(a,c),r(e,f),r(e,_),r(_,g),r(g,p),r(e,w),r(e,b),r(b,k),Ce(E,k,null),r(k,y),Ce(V,k,null),r(e,T),I=!0},p(S,C){(!I||C&6)&&n!==(n=S[17].title+"")&&P(c,n),(!I||C&6&&u!==(u="/c/"+S[17].id))&&o(l,"href",u),(!I||C&14)&&m!==(m=gl(S[17].created_at*1e3).format(S[3].t("MMMM DD, YYYY HH:mm"))+"")&&P(p,m);const R={};C&1048582&&(R.$$scope={dirty:C,ctx:S}),E.$set(R);const q={};C&1048582&&(q.$$scope={dirty:C,ctx:S}),V.$set(q),(!I||C&4&&D!==(D="bg-transparent "+(S[19]!==S[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&o(e,"class",D)},i(S){I||(ne(E.$$.fragment,S),ne(V.$$.fragment,S),I=!0)},o(S){oe(E.$$.fragment,S),oe(V.$$.fragment,S),I=!1},d(S){S&&i(e),Me(E),Me(V)}}}function Mo(s){let e,t,l,a=s[3].t("Archived Chats")+"",n,c,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,g,m,p,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',k,E,y,V,T,D,I,S,C,R,q,B;const G=[To,Do],F=[];function L(x,Z){return x[2].length>0?0:1}return S=L(s),C=F[S]=G[S](s),{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),u.innerHTML=f,_=M(),g=d("div"),m=d("div"),p=d("div"),w=d("div"),w.innerHTML=b,k=M(),E=d("input"),V=M(),T=d("hr"),D=M(),I=d("div"),C.c(),this.h()},l(x){e=h(x,"DIV",{});var Z=v(e);t=h(Z,"DIV",{class:!0});var U=v(t);l=h(U,"DIV",{class:!0});var O=v(l);n=N(O,a),O.forEach(i),c=A(U),u=h(U,"BUTTON",{class:!0,"data-svelte-h":!0}),He(u)!=="svelte-745w2y"&&(u.innerHTML=f),U.forEach(i),_=A(Z),g=h(Z,"DIV",{class:!0});var K=v(g);m=h(K,"DIV",{class:!0});var j=v(m);p=h(j,"DIV",{class:!0});var z=v(p);w=h(z,"DIV",{class:!0,"data-svelte-h":!0}),He(w)!=="svelte-kinl2y"&&(w.innerHTML=b),k=A(z),E=h(z,"INPUT",{class:!0,placeholder:!0}),z.forEach(i),j.forEach(i),V=A(K),T=h(K,"HR",{class:!0}),D=A(K),I=h(K,"DIV",{class:!0});var J=v(I);C.l(J),J.forEach(i),K.forEach(i),Z.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(w,"class","self-center ml-1 mr-3"),o(E,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),o(E,"placeholder",y=s[3].t("Search Chats")),o(p,"class","flex flex-1"),o(m,"class","flex w-full mt-2 space-x-2"),o(T,"class","dark:border-gray-850 my-2"),o(I,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(g,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(x,Z){$(x,e,Z),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(e,_),r(e,g),r(g,m),r(m,p),r(p,w),r(p,k),r(p,E),qe(E,s[1]),r(g,V),r(g,T),r(g,D),r(g,I),F[S].m(I,null),R=!0,q||(B=[te(u,"click",s[8]),te(E,"input",s[9])],q=!0)},p(x,Z){(!R||Z&8)&&a!==(a=x[3].t("Archived Chats")+"")&&P(n,a),(!R||Z&8&&y!==(y=x[3].t("Search Chats")))&&o(E,"placeholder",y),Z&2&&E.value!==x[1]&&qe(E,x[1]);let U=S;S=L(x),S===U?F[S].p(x,Z):(Ct(),oe(F[U],1,1,()=>{F[U]=null}),Mt(),C=F[S],C?C.p(x,Z):(C=F[S]=G[S](x),C.c()),ne(C,1),C.m(I,null))},i(x){R||(ne(C),R=!0)},o(x){oe(C),R=!1},d(x){x&&i(e),F[S].d(),q=!1,et(B)}}}function Ao(s){let e,t,l;function a(c){s[14](c)}let n={size:"lg",$$slots:{default:[Mo]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new cl({props:n}),yt.push(()=>Dt(e,"show",a)),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&1048591&&(f.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,f.show=c[0],It(()=>t=!1)),e.$set(f)},i(c){l||(ne(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}function So(s,e,t){let l;const{saveAs:a}=Sl,n=Kt(),c=Et("i18n");Ue(s,c,D=>t(3,l=D));let{show:u=!1}=e,f="",_=[];const g=async D=>{await oa(localStorage.token,D).catch(I=>{Qe.error(I)}),t(2,_=await kl(localStorage.token)),n("change")},m=async D=>{await ia(localStorage.token,D).catch(I=>{Qe.error(I)}),t(2,_=await kl(localStorage.token))},p=async()=>{const D=await Ea(localStorage.token);let I=new Blob([JSON.stringify(D)],{type:"application/json"});a(I,`archived-chat-export-${Date.now()}.json`)},w=()=>{t(0,u=!1)};function b(){f=this.value,t(1,f)}const k=D=>f===""||D.title.toLowerCase().includes(f.toLowerCase()),E=async D=>{g(D.id)},y=async D=>{m(D.id)},V=()=>{p()};function T(D){u=D,t(0,u)}return s.$$set=D=>{"show"in D&&t(0,u=D.show)},s.$$.update=()=>{s.$$.dirty&1&&u&&(async()=>t(2,_=await kl(localStorage.token)))()},[u,f,_,l,c,g,m,p,w,b,k,E,y,V,T]}class xo extends mt{constructor(e){super(),pt(this,e,So,Ao,_t,{show:0})}}function Ss(s,e,t){const l=s.slice();return l[60]=e[t],l[62]=t,l}function xs(s,e,t){const l=s.slice();return l[63]=e[t],l}function Ls(s){let e,t,l;return{c(){e=d("div"),this.h()},l(a){e=h(a,"DIV",{class:!0}),v(e).forEach(i),this.h()},h(){o(e,"class","fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(a,n){$(a,e,n),t||(l=te(e,"mousedown",s[30]),t=!0)},p:Ye,d(a){a&&i(e),t=!1,l()}}}function Bs(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',n,c,u,f=s[13].t("Workspace")+"",_,g,m;return{c(){e=d("div"),t=d("a"),l=d("div"),l.innerHTML=a,n=M(),c=d("div"),u=d("div"),_=H(f),this.h()},l(p){e=h(p,"DIV",{class:!0});var w=v(e);t=h(w,"A",{class:!0,href:!0,draggable:!0});var b=v(t);l=h(b,"DIV",{class:!0,"data-svelte-h":!0}),He(l)!=="svelte-zod9jr"&&(l.innerHTML=a),n=A(b),c=h(b,"DIV",{class:!0});var k=v(c);u=h(k,"DIV",{class:!0});var E=v(u);_=N(E,f),E.forEach(i),k.forEach(i),b.forEach(i),w.forEach(i),this.h()},h(){o(l,"class","self-center"),o(u,"class","self-center font-medium text-sm"),o(c,"class","flex self-center"),o(t,"class","flex-grow flex space-x-3 rounded-xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(t,"href","/workspace"),o(t,"draggable","false"),o(e,"class","px-2.5 flex justify-center text-gray-800 dark:text-gray-200")},m(p,w){$(p,e,w),r(e,t),r(t,l),r(t,n),r(t,c),r(c,u),r(u,_),g||(m=te(t,"click",s[33]),g=!0)},p(p,w){w[0]&8192&&f!==(f=p[13].t("Workspace")+"")&&P(_,f)},d(p){p&&i(e),g=!1,m()}}}function Hs(s){let e,t,l,a=s[13].t("Chat History is off for this browser.")+"",n,c,u,f=s[13].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"",_,g,m,p=s[13].t("This setting does not sync across browsers or devices.")+"",w,b,k,E,y,V,T,D,I=s[13].t("Enable Chat History")+"",S,C,R;return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("div"),_=H(f),g=M(),m=d("span"),w=H(p),b=M(),k=d("div"),E=d("button"),y=Pe("svg"),V=Pe("path"),T=M(),D=d("div"),S=H(I),this.h()},l(q){e=h(q,"DIV",{class:!0});var B=v(e);t=h(B,"DIV",{class:!0});var G=v(t);l=h(G,"DIV",{class:!0});var F=v(l);n=N(F,a),F.forEach(i),c=A(G),u=h(G,"DIV",{class:!0});var L=v(u);_=N(L,f),g=A(L),m=h(L,"SPAN",{class:!0});var x=v(m);w=N(x,p),x.forEach(i),L.forEach(i),b=A(G),k=h(G,"DIV",{class:!0});var Z=v(k);E=h(Z,"BUTTON",{class:!0,type:!0});var U=v(E);y=je(U,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var O=v(y);V=je(O,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(V).forEach(i),O.forEach(i),T=A(U),D=h(U,"DIV",{});var K=v(D);S=N(K,I),K.forEach(i),U.forEach(i),Z.forEach(i),G.forEach(i),B.forEach(i),this.h()},h(){o(l,"class","font-medium"),o(m,"class","font-semibold"),o(u,"class","text-xs mt-2"),o(V,"fill-rule","evenodd"),o(V,"d","M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z"),o(V,"clip-rule","evenodd"),o(y,"xmlns","http://www.w3.org/2000/svg"),o(y,"viewBox","0 0 16 16"),o(y,"fill","currentColor"),o(y,"class","w-3 h-3"),o(E,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-100 hover:bg-gray-200 transition text-gray-800 font-medium w-full"),o(E,"type","button"),o(k,"class","mt-3"),o(t,"class","text-left px-5 py-2"),o(e,"class","absolute z-40 w-full h-full bg-gray-50/90 dark:bg-black/90 flex justify-center")},m(q,B){$(q,e,B),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(u,_),r(u,g),r(u,m),r(m,w),r(t,b),r(t,k),r(k,E),r(E,y),r(y,V),r(E,T),r(E,D),r(D,S),C||(R=te(E,"click",s[34]),C=!0)},p(q,B){B[0]&8192&&a!==(a=q[13].t("Chat History is off for this browser.")+"")&&P(n,a),B[0]&8192&&f!==(f=q[13].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"")&&P(_,f),B[0]&8192&&p!==(p=q[13].t("This setting does not sync across browsers or devices.")+"")&&P(w,p),B[0]&8192&&I!==(I=q[13].t("Enable Chat History")+"")&&P(S,I)},d(q){q&&i(e),C=!1,R()}}}function Ns(s){let e,t,l=s[13].t("all")+"",a,n,c,u,f=rt(s[18]),_=[];for(let g=0;g<f.length;g+=1)_[g]=Os(xs(s,f,g));return{c(){e=d("div"),t=d("button"),a=H(l),n=M();for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);t=h(m,"BUTTON",{class:!0});var p=v(t);a=N(p,l),p.forEach(i),n=A(m);for(let w=0;w<_.length;w+=1)_[w].l(m);m.forEach(i),this.h()},h(){o(t,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full"),o(e,"class","px-2.5 mb-2 flex gap-1 flex-wrap")},m(g,m){$(g,e,m),r(e,t),r(t,a),r(e,n);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(e,null);c||(u=te(t,"click",s[37]),c=!0)},p(g,m){if(m[0]&8192&&l!==(l=g[13].t("all")+"")&&P(a,l),m[0]&262144){f=rt(g[18]);let p;for(p=0;p<f.length;p+=1){const w=xs(g,f,p);_[p]?_[p].p(w,m):(_[p]=Os(w),_[p].c(),_[p].m(e,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=f.length}},d(g){g&&i(e),Ht(_,g),c=!1,u()}}}function Os(s){let e,t=s[63].name+"",l,a,n,c;function u(){return s[38](s[63])}return{c(){e=d("button"),l=H(t),a=M(),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var _=v(e);l=N(_,t),a=A(_),_.forEach(i),this.h()},h(){o(e,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full")},m(f,_){$(f,e,_),r(e,l),r(e,a),n||(c=te(e,"click",u),n=!0)},p(f,_){s=f,_[0]&262144&&t!==(t=s[63].name+"")&&P(l,t)},d(f){f&&i(e),n=!1,c()}}}function Us(s){let e,t=s[13].t(s[60].time_range)+"",l;return{c(){e=d("div"),l=H(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[62]===0?"":"pt-5")+" pb-0.5")},m(a,n){$(a,e,n),r(e,l)},p(a,n){n[0]&9216&&t!==(t=a[13].t(a[60].time_range)+"")&&P(l,t)},d(a){a&&i(e)}}}function Lo(s){let e,t,l,a=s[60].title+"",n,c,u,f,_;function g(){return s[40](s[60])}function m(){return s[41](s[60])}return{c(){e=d("a"),t=d("div"),l=d("div"),n=H(a),this.h()},l(p){e=h(p,"A",{class:!0,href:!0,draggable:!0});var w=v(e);t=h(w,"DIV",{class:!0});var b=v(t);l=h(b,"DIV",{class:!0});var k=v(l);n=N(k,a),k.forEach(i),b.forEach(i),w.forEach(i),this.h()},h(){o(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),o(t,"class","flex self-center flex-1 w-full"),o(e,"class",c="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),o(e,"href",u="/c/"+s[60].id),o(e,"draggable","false")},m(p,w){$(p,e,w),r(e,t),r(t,l),r(l,n),f||(_=[te(e,"click",g),te(e,"dblclick",m)],f=!0)},p(p,w){s=p,w[0]&1024&&a!==(a=s[60].title+"")&&P(n,a),w[0]&5232&&c!==(c="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",c),w[0]&1024&&u!==(u="/c/"+s[60].id)&&o(e,"href",u)},d(p){p&&i(e),f=!1,et(_)}}}function Bo(s){let e,t,l,a,n;return{c(){e=d("div"),t=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var u=v(e);t=h(u,"INPUT",{class:!0}),u.forEach(i),this.h()},h(){o(t,"class","bg-transparent w-full outline-none mr-10"),o(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(c,u){$(c,e,u),r(e,t),qe(t,s[7]),a||(n=[va(s[26].call(null,t)),te(t,"input",s[39])],a=!0)},p(c,u){u[0]&128&&t.value!==c[7]&&qe(t,c[7]),u[0]&5232&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(c[60].id===c[12]||c[60].id===c[6]||c[60].id===c[5]?"bg-gray-200 dark:bg-gray-900":c[60].id===c[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",l)},d(c){c&&i(e),a=!1,et(n)}}}function Ho(s){let e,t,l,a;function n(){return s[47](s[60])}function c(){return s[49](s[60])}function u(){return s[50](s[60])}function f(){return s[51](s[60])}t=new Io({props:{chatId:s[60].id,cloneChatHandler:n,shareHandler:s[48],archiveChatHandler:c,renameHandler:u,deleteHandler:f,onClose:s[52],$$slots:{default:[Uo]},$$scope:{ctx:s}}});let _=s[60].id===s[12]&&Ps(s);return{c(){e=d("div"),Te(t.$$.fragment),l=M(),_&&_.c(),this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);Ve(t.$$.fragment,m),l=A(m),_&&_.l(m),m.forEach(i),this.h()},h(){o(e,"class","flex self-center space-x-1 z-10")},m(g,m){$(g,e,m),Ce(t,e,null),r(e,l),_&&_.m(e,null),a=!0},p(g,m){s=g;const p={};m[0]&1024&&(p.chatId=s[60].id),m[0]&1024&&(p.cloneChatHandler=n),m[0]&280&&(p.shareHandler=s[48]),m[0]&1024&&(p.archiveChatHandler=c),m[0]&1216&&(p.renameHandler=u),m[0]&1056&&(p.deleteHandler=f),m[0]&16&&(p.onClose=s[52]),m[0]&1040|m[2]&16&&(p.$$scope={dirty:m,ctx:s}),t.$set(p),s[60].id===s[12]?_?_.p(s,m):(_=Ps(s),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i(g){a||(ne(t.$$.fragment,g),a=!0)},o(g){oe(t.$$.fragment,g),a=!1},d(g){g&&i(e),Me(t),_&&_.d()}}}function No(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',a,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,f;function _(){return s[44](s[60])}return{c(){e=d("div"),t=d("button"),t.innerHTML=l,a=M(),n=d("button"),n.innerHTML=c,this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);t=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-b43ps3"&&(t.innerHTML=l),a=A(m),n=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),He(n)!=="svelte-1rs1rrb"&&(n.innerHTML=c),m.forEach(i),this.h()},h(){o(t,"class","self-center dark:hover:text-white transition"),o(n,"class","self-center dark:hover:text-white transition"),o(e,"class","flex self-center space-x-1.5 z-10")},m(g,m){$(g,e,m),r(e,t),r(e,a),r(e,n),u||(f=[te(t,"click",_),te(n,"click",s[45])],u=!0)},p(g,m){s=g},i:Ye,o:Ye,d(g){g&&i(e),u=!1,et(f)}}}function Oo(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',a,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,f;function _(){return s[42](s[60])}return{c(){e=d("div"),t=d("button"),t.innerHTML=l,a=M(),n=d("button"),n.innerHTML=c,this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);t=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-s5m6yg"&&(t.innerHTML=l),a=A(m),n=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),He(n)!=="svelte-tqhykr"&&(n.innerHTML=c),m.forEach(i),this.h()},h(){o(t,"class","self-center dark:hover:text-white transition"),o(n,"class","self-center dark:hover:text-white transition"),o(e,"class","flex self-center space-x-1.5 z-10")},m(g,m){$(g,e,m),r(e,t),r(e,a),r(e,n),u||(f=[te(t,"click",_),te(n,"click",s[43])],u=!0)},p(g,m){s=g},i:Ye,o:Ye,d(g){g&&i(e),u=!1,et(f)}}}function Uo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;function n(){return s[46](s[60])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),He(e)!=="svelte-pdrw69"&&(e.innerHTML=t),this.h()},h(){o(e,"aria-label","Chat Menu"),o(e,"class","self-center dark:hover:text-white transition")},m(c,u){$(c,e,u),l||(a=te(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function Ps(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;function n(){return s[53](s[60])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),He(e)!=="svelte-u345si"&&(e.innerHTML=t),this.h()},h(){o(e,"id","delete-chat-button"),o(e,"class","hidden")},m(c,u){$(c,e,u),l||(a=te(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function js(s){let e,t,l,a,n,c,u,f,_,g=(s[62]===0||s[62]>0&&s[60].time_range!==s[10][s[62]-1].time_range)&&Us(s);function m(y,V){return y[6]===y[60].id?Bo:Lo}let p=m(s),w=p(s);const b=[Oo,No,Ho],k=[];function E(y,V){return y[6]===y[60].id?0:y[5]===y[60].id?1:2}return n=E(s),c=k[n]=b[n](s),{c(){g&&g.c(),e=M(),t=d("div"),w.c(),l=M(),a=d("div"),c.c(),f=M(),this.h()},l(y){g&&g.l(y),e=A(y),t=h(y,"DIV",{class:!0});var V=v(t);w.l(V),l=A(V),a=h(V,"DIV",{class:!0});var T=v(a);c.l(T),T.forEach(i),f=A(V),V.forEach(i),this.h()},h(){o(a,"class",u=(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"from-gray-200 dark:from-gray-900":s[60].id===s[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),o(t,"class","w-full pr-2 relative group")},m(y,V){g&&g.m(y,V),$(y,e,V),$(y,t,V),w.m(t,null),r(t,l),r(t,a),k[n].m(a,null),r(t,f),_=!0},p(y,V){y[62]===0||y[62]>0&&y[60].time_range!==y[10][y[62]-1].time_range?g?g.p(y,V):(g=Us(y),g.c(),g.m(e.parentNode,e)):g&&(g.d(1),g=null),p===(p=m(y))&&w?w.p(y,V):(w.d(1),w=p(y),w&&(w.c(),w.m(t,l)));let T=n;n=E(y),n===T?k[n].p(y,V):(Ct(),oe(k[T],1,1,()=>{k[T]=null}),Mt(),c=k[n],c?c.p(y,V):(c=k[n]=b[n](y),c.c()),ne(c,1),c.m(a,null)),(!_||V[0]&5232&&u!==(u=(y[60].id===y[12]||y[60].id===y[6]||y[60].id===y[5]?"from-gray-200 dark:from-gray-900":y[60].id===y[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&o(a,"class",u)},i(y){_||(ne(c),_=!0)},o(y){oe(c),_=!1},d(y){y&&(i(e),i(t)),g&&g.d(y),w.d(),k[n].d()}}}function zs(s){let e,t;return e=new er({props:{role:s[17].role,$$slots:{default:[Po]},$$scope:{ctx:s}}}),e.$on("show",s[55]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p(l,a){const n={};a[0]&131072&&(n.role=l[17].role),a[0]&131584|a[2]&16&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function Po(s){let e,t,l,a,n,c,u=s[17].name+"",f,_,g;return{c(){e=d("button"),t=d("div"),l=d("img"),n=M(),c=d("div"),f=H(u),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0});var w=v(t);l=h(w,"IMG",{src:!0,class:!0,alt:!0}),w.forEach(i),n=A(p),c=h(p,"DIV",{class:!0});var b=v(c);f=N(b,u),b.forEach(i),p.forEach(i),this.h()},h(){ml(l.src,a=s[17].profile_image_url)||o(l,"src",a),o(l,"class","max-w-[30px] object-cover rounded-full"),o(l,"alt","User profile"),o(t,"class","self-center mr-3"),o(c,"class","self-center font-semibold"),o(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(m,p){$(m,e,p),r(e,t),r(t,l),r(e,n),r(e,c),r(c,f),_||(g=te(e,"click",s[54]),_=!0)},p(m,p){p[0]&131072&&!ml(l.src,a=m[17].profile_image_url)&&o(l,"src",a),p[0]&131072&&u!==(u=m[17].name+"")&&P(f,u)},d(m){m&&i(e),_=!1,g()}}}function jo(s){var xe;let e,t,l,a,n,c,u,f,_,g,m,p,w=`<img crossorigin="anonymous" src="${Sa}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,b,k,E=s[13].t("New Chat")+"",y,V,T,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',I,S,C='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',R,q,B,G,F,L,x,Z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',U,O,K,j,z,J,W,Q,le,ae,ce,re,_e,Ae;function pe(X){s[27](X)}let ie={chatId:s[3]};s[8]!==void 0&&(ie.show=s[8]),e=new Qa({props:ie}),yt.push(()=>Dt(e,"show",pe));function ue(X){s[28](X)}let ge={};s[15]!==void 0&&(ge.show=s[15]),a=new xo({props:ge}),yt.push(()=>Dt(a,"show",ue)),a.$on("change",s[29]);let ee=s[14]&&Ls(s),se=((xe=s[17])==null?void 0:xe.role)==="admin"&&Bs(s),fe=!(s[11].saveChatHistory??!0)&&Hs(s),me=s[18].length>0&&Ns(s),Ne=rt(s[10]),be=[];for(let X=0;X<Ne.length;X+=1)be[X]=js(Ss(s,Ne,X));const Fe=X=>oe(be[X],1,1,()=>{be[X]=null});let Se=s[17]!==void 0&&zs(s);return{c(){Te(e.$$.fragment),l=M(),Te(a.$$.fragment),c=M(),ee&&ee.c(),u=M(),f=d("div"),_=d("div"),g=d("div"),m=d("a"),p=d("div"),p.innerHTML=w,b=M(),k=d("div"),y=H(E),V=M(),T=d("div"),T.innerHTML=D,I=M(),S=d("button"),S.innerHTML=C,R=M(),se&&se.c(),q=M(),B=d("div"),fe&&fe.c(),G=M(),F=d("div"),L=d("div"),x=d("div"),x.innerHTML=Z,U=M(),O=d("input"),j=M(),me&&me.c(),z=M(),J=d("div");for(let X=0;X<be.length;X+=1)be[X].c();W=M(),Q=d("div"),le=d("div"),Se&&Se.c(),this.h()},l(X){Ve(e.$$.fragment,X),l=A(X),Ve(a.$$.fragment,X),c=A(X),ee&&ee.l(X),u=A(X),f=h(X,"DIV",{id:!0,class:!0,"data-state":!0});var Y=v(f);_=h(Y,"DIV",{class:!0});var de=v(_);g=h(de,"DIV",{class:!0});var ke=v(g);m=h(ke,"A",{id:!0,class:!0,href:!0,draggable:!0});var Be=v(m);p=h(Be,"DIV",{class:!0,"data-svelte-h":!0}),He(p)!=="svelte-r2hfwb"&&(p.innerHTML=w),b=A(Be),k=h(Be,"DIV",{class:!0});var Ee=v(k);y=N(Ee,E),Ee.forEach(i),V=A(Be),T=h(Be,"DIV",{class:!0,"data-svelte-h":!0}),He(T)!=="svelte-aq723q"&&(T.innerHTML=D),Be.forEach(i),I=A(ke),S=h(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),He(S)!=="svelte-bwmtc9"&&(S.innerHTML=C),ke.forEach(i),R=A(de),se&&se.l(de),q=A(de),B=h(de,"DIV",{class:!0});var ye=v(B);fe&&fe.l(ye),G=A(ye),F=h(ye,"DIV",{class:!0});var De=v(F);L=h(De,"DIV",{class:!0,id:!0});var Ie=v(L);x=h(Ie,"DIV",{class:!0,"data-svelte-h":!0}),He(x)!=="svelte-1yg7etj"&&(x.innerHTML=Z),U=A(Ie),O=h(Ie,"INPUT",{class:!0,placeholder:!0}),Ie.forEach(i),De.forEach(i),j=A(ye),me&&me.l(ye),z=A(ye),J=h(ye,"DIV",{class:!0});var Re=v(J);for(let ot=0;ot<be.length;ot+=1)be[ot].l(Re);Re.forEach(i),ye.forEach(i),W=A(de),Q=h(de,"DIV",{class:!0});var nt=v(Q);le=h(nt,"DIV",{class:!0});var st=v(le);Se&&Se.l(st),st.forEach(i),nt.forEach(i),de.forEach(i),Y.forEach(i),this.h()},h(){o(p,"class","self-center mx-1.5"),o(k,"class","self-center font-medium text-sm text-gray-850 dark:text-white"),o(T,"class","self-center ml-auto"),o(m,"id","sidebar-new-chat-button"),o(m,"class","flex flex-1 justify-between rounded-xl px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),o(m,"href","/"),o(m,"draggable","false"),o(S,"class","cursor-pointer px-2 py-2 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition"),o(g,"class","px-2.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),o(x,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),o(O,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),o(O,"placeholder",K=s[13].t("Search")),o(L,"class","flex w-full rounded-xl"),o(L,"id","chat-search"),o(F,"class","px-2 mt-0.5 mb-2 flex justify-center space-x-2"),o(J,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-hidden svelte-141e0sl"),o(B,"class","relative flex flex-col flex-1 overflow-y-auto"),o(le,"class","flex flex-col"),o(Q,"class","px-2.5"),o(_,"class",ae="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(s[14]?"":"invisible")),o(f,"id","sidebar"),o(f,"class",ce="h-screen max-h-[100dvh] min-h-screen select-none "+(s[14]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"),o(f,"data-state",s[14])},m(X,Y){Ce(e,X,Y),$(X,l,Y),Ce(a,X,Y),$(X,c,Y),ee&&ee.m(X,Y),$(X,u,Y),$(X,f,Y),r(f,_),r(_,g),r(g,m),r(m,p),r(m,b),r(m,k),r(k,y),r(m,V),r(m,T),r(g,I),r(g,S),r(_,R),se&&se.m(_,null),r(_,q),r(_,B),fe&&fe.m(B,null),r(B,G),r(B,F),r(F,L),r(L,x),r(L,U),r(L,O),qe(O,s[0]),r(B,j),me&&me.m(B,null),r(B,z),r(B,J);for(let de=0;de<be.length;de+=1)be[de]&&be[de].m(J,null);r(_,W),r(_,Q),r(Q,le),Se&&Se.m(le,null),s[56](f),re=!0,_e||(Ae=[te(m,"click",s[31]),te(S,"click",s[32]),te(O,"input",s[35]),te(O,"focus",s[36])],_e=!0)},p(X,Y){var Be;const de={};Y[0]&8&&(de.chatId=X[3]),!t&&Y[0]&256&&(t=!0,de.show=X[8],It(()=>t=!1)),e.$set(de);const ke={};if(!n&&Y[0]&32768&&(n=!0,ke.show=X[15],It(()=>n=!1)),a.$set(ke),X[14]?ee?ee.p(X,Y):(ee=Ls(X),ee.c(),ee.m(u.parentNode,u)):ee&&(ee.d(1),ee=null),(!re||Y[0]&8192)&&E!==(E=X[13].t("New Chat")+"")&&P(y,E),((Be=X[17])==null?void 0:Be.role)==="admin"?se?se.p(X,Y):(se=Bs(X),se.c(),se.m(_,q)):se&&(se.d(1),se=null),X[11].saveChatHistory??!0?fe&&(fe.d(1),fe=null):fe?fe.p(X,Y):(fe=Hs(X),fe.c(),fe.m(B,G)),(!re||Y[0]&8192&&K!==(K=X[13].t("Search")))&&o(O,"placeholder",K),Y[0]&1&&O.value!==X[0]&&qe(O,X[0]),X[18].length>0?me?me.p(X,Y):(me=Ns(X),me.c(),me.m(B,z)):me&&(me.d(1),me=null),Y[0]&48313848){Ne=rt(X[10]);let Ee;for(Ee=0;Ee<Ne.length;Ee+=1){const ye=Ss(X,Ne,Ee);be[Ee]?(be[Ee].p(ye,Y),ne(be[Ee],1)):(be[Ee]=js(ye),be[Ee].c(),ne(be[Ee],1),be[Ee].m(J,null))}for(Ct(),Ee=Ne.length;Ee<be.length;Ee+=1)Fe(Ee);Mt()}X[17]!==void 0?Se?(Se.p(X,Y),Y[0]&131072&&ne(Se,1)):(Se=zs(X),Se.c(),ne(Se,1),Se.m(le,null)):Se&&(Ct(),oe(Se,1,1,()=>{Se=null}),Mt()),(!re||Y[0]&16384&&ae!==(ae="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(X[14]?"":"invisible")))&&o(_,"class",ae),(!re||Y[0]&16384&&ce!==(ce="h-screen max-h-[100dvh] min-h-screen select-none "+(X[14]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"))&&o(f,"class",ce),(!re||Y[0]&16384)&&o(f,"data-state",X[14])},i(X){if(!re){ne(e.$$.fragment,X),ne(a.$$.fragment,X);for(let Y=0;Y<Ne.length;Y+=1)ne(be[Y]);ne(Se),re=!0}},o(X){oe(e.$$.fragment,X),oe(a.$$.fragment,X),be=be.filter(Boolean);for(let Y=0;Y<be.length;Y+=1)oe(be[Y]);oe(Se),re=!1},d(X){X&&(i(l),i(c),i(u),i(f)),Me(e,X),Me(a,X),ee&&ee.d(X),se&&se.d(),fe&&fe.d(),me&&me.d(),Ht(be,X),Se&&Se.d(),s[56](null),_e=!1,et(Ae)}}}const zo=768;function Zo(s,e,t){let l,a,n,c,u,f,_,g,m;Ue(s,jt,Y=>t(11,l=Y)),Ue(s,es,Y=>t(12,a=Y)),Ue(s,Ut,Y=>t(14,c=Y)),Ue(s,St,Y=>t(1,u=Y)),Ue(s,yl,Y=>t(15,f=Y)),Ue(s,ts,Y=>t(16,_=Y)),Ue(s,Qt,Y=>t(17,g=Y)),Ue(s,Cl,Y=>t(18,m=Y));const p=Et("i18n");Ue(s,p,Y=>t(13,n=Y));let w,b="",k=null,E=null,y=null,V=null,T="",D=!1,I=!1,S=[];Bt(async()=>{ts.subscribe(ye=>{c&&ye&&Ut.set(!1),!c&&!ye&&Ut.set(!0)}),Ut.set(window.innerWidth>zo),await St.set(await Pt(localStorage.token));let Y,de;function ke(){const ye=window.innerWidth,De=Math.abs(de.screenX-Y.screenX);Y.clientX<40&&De>=ye/8&&(de.screenX<Y.screenX&&Ut.set(!1),de.screenX>Y.screenX&&Ut.set(!0))}const Be=ye=>{Y=ye.changedTouches[0],console.log(Y.clientX)},Ee=ye=>{de=ye.changedTouches[0],ke()};return window.addEventListener("touchstart",Be),window.addEventListener("touchend",Ee),()=>{window.removeEventListener("touchstart",Be),window.removeEventListener("touchend",Ee)}});const C=async Y=>{const de=await Promise.all(Y.map(async ke=>{const Be=await Ia(localStorage.token,ke.id).catch(Ee=>null);return Be&&(ke.chat=Be.chat),ke}));await St.set(de)},R=async(Y,de)=>{de===""?Qe.error(n.t("Title cannot be an empty string.")):(await Da(localStorage.token,Y,{title:de}),await St.set(await Pt(localStorage.token)))},q=async Y=>{await ia(localStorage.token,Y).catch(ke=>(Qe.error(ke),t(5,y=null),null))&&(a===Y&&Yt("/"),await St.set(await Pt(localStorage.token)))},B=async Y=>{const de=await Ta(localStorage.token,Y).catch(ke=>(Qe.error(ke),null));de&&(Yt(`/c/${de.id}`),await St.set(await Pt(localStorage.token)))},G=async Y=>{await jt.set({...l,...Y}),await na(localStorage.token,{ui:l}),location.href="/"},F=async Y=>{await oa(localStorage.token,Y),await St.set(await Pt(localStorage.token))},L=async Y=>{Y.focus()};function x(Y){D=Y,t(8,D)}function Z(Y){f=Y,yl.set(f)}const U=async()=>{await St.set(await Pt(localStorage.token))},O=()=>{Ut.set(!c)},K=async()=>{t(4,E=null),await Yt("/");const Y=document.getElementById("new-chat-button");setTimeout(()=>{Y==null||Y.click(),_&&Ut.set(!1)},0)},j=()=>{Ut.set(!c)},z=()=>{t(4,E=null),es.set(""),_&&Ut.set(!1)},J=()=>{G({saveChatHistory:!0})};function W(){b=this.value,t(0,b)}const Q=()=>{C(u)},le=async()=>{await St.set(await Pt(localStorage.token))},ae=async Y=>{let de=await Va(localStorage.token,Y.name);de.length===0&&(await Cl.set(await ca(localStorage.token)),de=await Pt(localStorage.token)),await St.set(de)};function ce(){T=this.value,t(7,T)}const re=Y=>{t(4,E=Y.id),_&&Ut.set(!1)},_e=Y=>{t(7,T=Y.title),t(6,V=Y.id)},Ae=Y=>{R(Y.id,T),t(6,V=null),t(7,T="")},pe=()=>{t(6,V=null),t(7,T="")},ie=Y=>{q(Y.id)},ue=()=>{t(5,y=null)},ge=Y=>{t(4,E=Y.id)},ee=Y=>{B(Y.id)},se=()=>{t(3,k=E),t(8,D=!0)},fe=Y=>{F(Y.id)},me=Y=>{t(7,T=Y.title),t(6,V=Y.id)},Ne=Y=>{t(5,y=Y.id)},be=()=>{t(4,E=null)},Fe=Y=>{t(5,y=Y.id)},Se=()=>{t(9,I=!I)},xe=Y=>{Y.detail==="archived-chat"&&yl.set(!0)};function X(Y){yt[Y?"unshift":"push"](()=>{w=Y,t(2,w)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(10,S=u.filter(Y=>{if(b==="")return!0;{let de=Y.title.toLowerCase();const ke=b.toLowerCase();let Be=!1;return Y.chat&&Y.chat.messages&&Array.isArray(Y.chat.messages)&&(Be=Y.chat.messages.some(Ee=>Ee.content&&Ee.content.toLowerCase().includes(ke))),de.includes(ke)||Be}}))},[b,u,w,k,E,y,V,T,D,I,S,l,a,n,c,f,_,g,m,p,C,R,q,B,G,F,L,x,Z,U,O,K,j,z,J,W,Q,le,ae,ce,re,_e,Ae,pe,ie,ue,ge,ee,se,fe,me,Ne,be,Fe,Se,xe,X]}class $o extends mt{constructor(e){super(),pt(this,e,Zo,jo,_t,{},null,[-1,-1,-1])}}function Zs(s,e,t){const l=s.slice();return l[18]=e[t],l}function $s(s){let e,t=rt({length:s[6]}),l=[];for(let a=0;a<t.length;a+=1)l[a]=Rs(Zs(s,t,a));return{c(){e=d("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var n=v(e);for(let c=0;c<l.length;c+=1)l[c].l(n);n.forEach(i),this.h()},h(){o(e,"class","confetti-holder svelte-io58ff"),Xt(e,"rounded",s[9]),Xt(e,"cone",s[10]),Xt(e,"no-gravity",s[11])},m(a,n){$(a,e,n);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(a,n){if(n&20991){t=rt({length:a[6]});let c;for(c=0;c<t.length;c+=1){const u=Zs(a,t,c);l[c]?l[c].p(u,n):(l[c]=Rs(u),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}n&512&&Xt(e,"rounded",a[9]),n&1024&&Xt(e,"cone",a[10]),n&2048&&Xt(e,"no-gravity",a[11])},d(a){a&&i(e),Ht(l,a)}}}function Rs(s){let e;return{c(){e=d("div"),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0}),v(e).forEach(i),this.h()},h(){o(e,"class","confetti svelte-io58ff"),vt(e,"--fall-distance",s[8]),vt(e,"--size",s[0]+"px"),vt(e,"--color",s[14]()),vt(e,"--skew",Vt(-45,45)+"deg,"+Vt(-45,45)+"deg"),vt(e,"--rotation-xyz",Vt(-10,10)+", "+Vt(-10,10)+", "+Vt(-10,10)),vt(e,"--rotation-deg",Vt(0,360)+"deg"),vt(e,"--translate-y-multiplier",Vt(s[2][0],s[2][1])),vt(e,"--translate-x-multiplier",Vt(s[1][0],s[1][1])),vt(e,"--scale",.1*Vt(2,10)),vt(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),vt(e,"--transition-delay",Vt(s[5][0],s[5][1])+"ms"),vt(e,"--transition-iteration-count",s[4]?"infinite":s[7]),vt(e,"--x-spread",1-s[12])},m(t,l){$(t,e,l)},p(t,l){l&256&&vt(e,"--fall-distance",t[8]),l&1&&vt(e,"--size",t[0]+"px"),l&4&&vt(e,"--translate-y-multiplier",Vt(t[2][0],t[2][1])),l&2&&vt(e,"--translate-x-multiplier",Vt(t[1][0],t[1][1])),l&24&&vt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&vt(e,"--transition-delay",Vt(t[5][0],t[5][1])+"ms"),l&144&&vt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&vt(e,"--x-spread",1-t[12])},d(t){t&&i(e)}}}function Ro(s){let e,t=!s[13]&&$s(s);return{c(){t&&t.c(),e=pl()},l(l){t&&t.l(l),e=pl()},m(l,a){t&&t.m(l,a),$(l,e,a)},p(l,[a]){l[13]?t&&(t.d(1),t=null):t?t.p(l,a):(t=$s(l),t.c(),t.m(e.parentNode,e))},i:Ye,o:Ye,d(l){l&&i(e),t&&t.d(l)}}}function Vt(s,e){return Math.random()*(e-s)+s}function Wo(s,e,t){let{size:l=10}=e,{x:a=[-.5,.5]}=e,{y:n=[.25,1]}=e,{duration:c=2e3}=e,{infinite:u=!1}=e,{delay:f=[0,50]}=e,{colorRange:_=[0,360]}=e,{colorArray:g=[]}=e,{amount:m=50}=e,{iterationCount:p=1}=e,{fallDistance:w="100px"}=e,{rounded:b=!1}=e,{cone:k=!1}=e,{noGravity:E=!1}=e,{xSpread:y=.15}=e,{destroyOnComplete:V=!0}=e,T=!1;Bt(()=>{!V||u||p=="infinite"||setTimeout(()=>t(13,T=!0),(c+f[1])*p)});function D(){return g.length?g[Math.round(Math.random()*(g.length-1))]:`hsl(${Math.round(Vt(_[0],_[1]))}, 75%, 50%)`}return s.$$set=I=>{"size"in I&&t(0,l=I.size),"x"in I&&t(1,a=I.x),"y"in I&&t(2,n=I.y),"duration"in I&&t(3,c=I.duration),"infinite"in I&&t(4,u=I.infinite),"delay"in I&&t(5,f=I.delay),"colorRange"in I&&t(15,_=I.colorRange),"colorArray"in I&&t(16,g=I.colorArray),"amount"in I&&t(6,m=I.amount),"iterationCount"in I&&t(7,p=I.iterationCount),"fallDistance"in I&&t(8,w=I.fallDistance),"rounded"in I&&t(9,b=I.rounded),"cone"in I&&t(10,k=I.cone),"noGravity"in I&&t(11,E=I.noGravity),"xSpread"in I&&t(12,y=I.xSpread),"destroyOnComplete"in I&&t(17,V=I.destroyOnComplete)},[l,a,n,c,u,f,m,p,w,b,k,E,y,T,D,_,g,V]}class qo extends mt{constructor(e){super(),pt(this,e,Wo,Ro,_t,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function Ws(s,e,t){const l=s.slice();return l[9]=e[t],l}function qs(s,e,t){const l=s.slice();return l[12]=e[t],l}function Ys(s,e,t){const l=s.slice();return l[15]=e[t],l}function Fs(s){let e,t=rt(Object.keys(s[1])),l=[];for(let a=0;a<t.length;a+=1)l[a]=Js(Ws(s,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=pl()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=pl()},m(a,n){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,n);$(a,e,n)},p(a,n){if(n&2){t=rt(Object.keys(a[1]));let c;for(c=0;c<t.length;c+=1){const u=Ws(a,t,c);l[c]?l[c].p(u,n):(l[c]=Js(u),l[c].c(),l[c].m(e.parentNode,e))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},d(a){a&&i(e),Ht(l,a)}}}function Gs(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",a,n,c,u=s[1][s[9]][s[12]][s[15]].content+"",f;return{c(){e=d("div"),t=d("div"),a=H(l),n=M(),c=d("div"),f=H(u),this.h()},l(_){e=h(_,"DIV",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0});var m=v(t);a=N(m,l),m.forEach(i),n=A(g),c=h(g,"DIV",{class:!0});var p=v(c);f=N(p,u),p.forEach(i),g.forEach(i),this.h()},h(){o(t,"class","font-semibold uppercase"),o(c,"class","mb-2 mt-1"),o(e,"class","text-sm mb-2")},m(_,g){$(_,e,g),r(e,t),r(t,a),r(e,n),r(e,c),r(c,f)},p(_,g){g&2&&l!==(l=_[1][_[9]][_[12]][_[15]].title+"")&&P(a,l),g&2&&u!==(u=_[1][_[9]][_[12]][_[15]].content+"")&&P(f,u)},d(_){_&&i(e)}}}function Ks(s){let e,t,l=s[12]+"",a,n,c,u,f=rt(Object.keys(s[1][s[9]][s[12]])),_=[];for(let g=0;g<f.length;g+=1)_[g]=Gs(Ys(s,f,g));return{c(){e=d("div"),t=d("div"),a=H(l),c=M(),u=d("div");for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var p=v(t);a=N(p,l),p.forEach(i),c=A(m),u=h(m,"DIV",{class:!0});var w=v(u);for(let b=0;b<_.length;b+=1)_[b].l(w);w.forEach(i),m.forEach(i),this.h()},h(){o(t,"class",n="font-bold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),o(u,"class","my-2.5 px-1.5"),o(e,"class","")},m(g,m){$(g,e,m),r(e,t),r(t,a),r(e,c),r(e,u);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(u,null)},p(g,m){if(m&2&&l!==(l=g[12]+"")&&P(a,l),m&2&&n!==(n="font-bold uppercase text-xs "+(g[12]==="added"?"text-white bg-blue-600":g[12]==="fixed"?"text-white bg-green-600":g[12]==="changed"?"text-white bg-yellow-600":g[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&o(t,"class",n),m&2){f=rt(Object.keys(g[1][g[9]][g[12]]));let p;for(p=0;p<f.length;p+=1){const w=Ys(g,f,p);_[p]?_[p].p(w,m):(_[p]=Gs(w),_[p].c(),_[p].m(u,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=f.length}},d(g){g&&i(e),Ht(_,g)}}}function Js(s){let e,t,l,a=s[9]+"",n,c,u=s[1][s[9]].date+"",f,_,g,m,p,w=rt(Object.keys(s[1][s[9]]).filter(Xs)),b=[];for(let k=0;k<w.length;k+=1)b[k]=Ks(qs(s,w,k));return{c(){e=d("div"),t=d("div"),l=H("v"),n=H(a),c=H(" - "),f=H(u),_=M(),g=d("hr"),m=M();for(let k=0;k<b.length;k+=1)b[k].c();p=M(),this.h()},l(k){e=h(k,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var y=v(t);l=N(y,"v"),n=N(y,a),c=N(y," - "),f=N(y,u),y.forEach(i),_=A(E),g=h(E,"HR",{class:!0}),m=A(E);for(let V=0;V<b.length;V+=1)b[V].l(E);p=A(E),E.forEach(i),this.h()},h(){o(t,"class","font-bold text-xl mb-1 dark:text-white"),o(g,"class","dark:border-gray-800 my-2"),o(e,"class","mb-3 pr-2")},m(k,E){$(k,e,E),r(e,t),r(t,l),r(t,n),r(t,c),r(t,f),r(e,_),r(e,g),r(e,m);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(e,null);r(e,p)},p(k,E){if(E&2&&a!==(a=k[9]+"")&&P(n,a),E&2&&u!==(u=k[1][k[9]].date+"")&&P(f,u),E&2){w=rt(Object.keys(k[1][k[9]]).filter(Xs));let y;for(y=0;y<w.length;y+=1){const V=qs(k,w,y);b[y]?b[y].p(V,E):(b[y]=Ks(V),b[y].c(),b[y].m(e,p))}for(;y<b.length;y+=1)b[y].d(1);b.length=w.length}},d(k){k&&i(e),Ht(b,k)}}}function Yo(s){let e,t,l,a=s[2].t("Whatâ€™s New in")+"",n,c,u,f,_,g,m,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,b,k,E=s[2].t("Release Notes")+"",y,V,T,D,I,S,C,R,q,B,G,F,L,x,Z,U=s[2].t("Okay, Let's Go!")+"",O,K,j,z;_=new qo({props:{x:[-1,-.25],y:[0,.5]}});let J=s[1]&&Fs(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=H(s[3]),f=M(),Te(_.$$.fragment),g=M(),m=d("button"),m.innerHTML=p,w=M(),b=d("div"),k=d("div"),y=H(E),V=M(),T=d("div"),D=M(),I=d("div"),S=H("v"),C=H(el),R=M(),q=d("div"),B=d("div"),G=d("div"),J&&J.c(),F=M(),L=d("div"),x=d("button"),Z=d("span"),O=H(U),this.h()},l(W){e=h(W,"DIV",{class:!0});var Q=v(e);t=h(Q,"DIV",{class:!0});var le=v(t);l=h(le,"DIV",{class:!0});var ae=v(l);n=N(ae,a),c=A(ae),u=N(ae,s[3]),f=A(ae),Ve(_.$$.fragment,ae),ae.forEach(i),g=A(le),m=h(le,"BUTTON",{class:!0,"data-svelte-h":!0}),He(m)!=="svelte-14wj4tl"&&(m.innerHTML=p),le.forEach(i),w=A(Q),b=h(Q,"DIV",{class:!0});var ce=v(b);k=h(ce,"DIV",{class:!0});var re=v(k);y=N(re,E),re.forEach(i),V=A(ce),T=h(ce,"DIV",{class:!0}),v(T).forEach(i),D=A(ce),I=h(ce,"DIV",{class:!0});var _e=v(I);S=N(_e,"v"),C=N(_e,el),_e.forEach(i),ce.forEach(i),Q.forEach(i),R=A(W),q=h(W,"DIV",{class:!0});var Ae=v(q);B=h(Ae,"DIV",{class:!0});var pe=v(B);G=h(pe,"DIV",{class:!0});var ie=v(G);J&&J.l(ie),ie.forEach(i),pe.forEach(i),F=A(Ae),L=h(Ae,"DIV",{class:!0});var ue=v(L);x=h(ue,"BUTTON",{class:!0});var ge=v(x);Z=h(ge,"SPAN",{class:!0});var ee=v(Z);O=N(ee,U),ee.forEach(i),ge.forEach(i),ue.forEach(i),Ae.forEach(i),this.h()},h(){o(l,"class","text-xl font-bold"),o(m,"class","self-center"),o(t,"class","flex justify-between items-start"),o(k,"class","text-sm dark:text-gray-200"),o(T,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),o(I,"class","text-sm dark:text-gray-200"),o(b,"class","flex items-center mt-1"),o(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),o(G,"class","mb-3"),o(B,"class","overflow-y-scroll max-h-80 scrollbar-hidden"),o(Z,"class","relative"),o(x,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(L,"class","flex justify-end pt-3 text-sm font-medium"),o(q,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(W,Q){$(W,e,Q),r(e,t),r(t,l),r(l,n),r(l,c),r(l,u),r(l,f),Ce(_,l,null),r(t,g),r(t,m),r(e,w),r(e,b),r(b,k),r(k,y),r(b,V),r(b,T),r(b,D),r(b,I),r(I,S),r(I,C),$(W,R,Q),$(W,q,Q),r(q,B),r(B,G),J&&J.m(G,null),r(q,F),r(q,L),r(L,x),r(x,Z),r(Z,O),K=!0,j||(z=[te(m,"click",s[6]),te(x,"click",s[7])],j=!0)},p(W,Q){(!K||Q&4)&&a!==(a=W[2].t("Whatâ€™s New in")+"")&&P(n,a),(!K||Q&8)&&P(u,W[3]),(!K||Q&4)&&E!==(E=W[2].t("Release Notes")+"")&&P(y,E),W[1]?J?J.p(W,Q):(J=Fs(W),J.c(),J.m(G,null)):J&&(J.d(1),J=null),(!K||Q&4)&&U!==(U=W[2].t("Okay, Let's Go!")+"")&&P(O,U)},i(W){K||(ne(_.$$.fragment,W),K=!0)},o(W){oe(_.$$.fragment,W),K=!1},d(W){W&&(i(e),i(R),i(q)),Me(_),J&&J.d(),j=!1,et(z)}}}function Fo(s){let e,t,l;function a(c){s[8](c)}let n={$$slots:{default:[Yo]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new cl({props:n}),yt.push(()=>Dt(e,"show",a)),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&262175&&(f.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,f.show=c[0],It(()=>t=!1)),e.$set(f)},i(c){l||(ne(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}const Xs=s=>s!=="date";function Go(s,e,t){let l,a,n;Ue(s,ua,p=>t(3,a=p)),Ue(s,Ll,p=>t(4,n=p));const c=Et("i18n");Ue(s,c,p=>t(2,l=p));let{show:u=!1}=e,f=null;Bt(async()=>{const p=await pa();t(1,f=p)});const _=()=>{localStorage.version=n.version,t(0,u=!1)},g=()=>{localStorage.version=n.version,t(0,u=!1)};function m(p){u=p,t(0,u)}return s.$$set=p=>{"show"in p&&t(0,u=p.show)},[u,f,l,a,n,c,_,g,m]}class Ko extends mt{constructor(e){super(),pt(this,e,Go,Fo,_t,{show:0})}}function Qs(s){let e,t,l=s[1].t("Admin")+"",a,n,c=s[0].name+"",u,f,_=s[0].email+"",g,m;return{c(){e=d("div"),t=d("div"),a=H(l),n=H(": "),u=H(c),f=H(" ("),g=H(_),m=H(")"),this.h()},l(p){e=h(p,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{});var b=v(t);a=N(b,l),n=N(b,": "),u=N(b,c),f=N(b," ("),g=N(b,_),m=N(b,")"),b.forEach(i),w.forEach(i),this.h()},h(){o(e,"class","mt-4 text-sm font-medium text-center")},m(p,w){$(p,e,w),r(e,t),r(t,a),r(t,n),r(t,u),r(t,f),r(t,g),r(t,m)},p(p,w){w&2&&l!==(l=p[1].t("Admin")+"")&&P(a,l),w&1&&c!==(c=p[0].name+"")&&P(u,c),w&1&&_!==(_=p[0].email+"")&&P(g,_)},d(p){p&&i(e)}}}function Jo(s){let e,t,l,a,n,c=s[1].t("Account Activation Pending")+"",u,f,_,g=s[1].t("Contact Admin for WebUI Access")+"",m,p,w,b=s[1].t("Your account status is currently pending activation.")+"",k,E,y,V=s[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",T,D,I,S,C,R=s[1].t("Check Again")+"",q,B,G,F=s[1].t("Sign Out")+"",L,x,Z,U=s[0]&&Qs(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=d("div"),u=H(c),f=d("br"),_=M(),m=H(g),p=M(),w=d("div"),k=H(b),E=d("br"),y=M(),T=H(V),D=M(),U&&U.c(),I=M(),S=d("div"),C=d("button"),q=H(R),B=M(),G=d("button"),L=H(F),this.h()},l(O){e=h(O,"DIV",{class:!0});var K=v(e);t=h(K,"DIV",{class:!0});var j=v(t);l=h(j,"DIV",{class:!0});var z=v(l);a=h(z,"DIV",{class:!0});var J=v(a);n=h(J,"DIV",{class:!0});var W=v(n);u=N(W,c),f=h(W,"BR",{}),_=A(W),m=N(W,g),W.forEach(i),p=A(J),w=h(J,"DIV",{class:!0});var Q=v(w);k=N(Q,b),E=h(Q,"BR",{}),y=A(Q),T=N(Q,V),Q.forEach(i),D=A(J),U&&U.l(J),I=A(J),S=h(J,"DIV",{class:!0});var le=v(S);C=h(le,"BUTTON",{class:!0});var ae=v(C);q=N(ae,R),ae.forEach(i),B=A(le),G=h(le,"BUTTON",{class:!0});var ce=v(G);L=N(ce,F),ce.forEach(i),le.forEach(i),J.forEach(i),z.forEach(i),j.forEach(i),K.forEach(i),this.h()},h(){o(n,"class","text-center dark:text-white text-2xl font-medium z-50"),o(w,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(C,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),o(G,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(S,"class","mt-6 mx-auto relative group w-fit"),o(a,"class","max-w-md"),o(l,"class","m-auto pb-10 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-[999]")},m(O,K){$(O,e,K),r(e,t),r(t,l),r(l,a),r(a,n),r(n,u),r(n,f),r(n,_),r(n,m),r(a,p),r(a,w),r(w,k),r(w,E),r(w,y),r(w,T),r(a,D),U&&U.m(a,null),r(a,I),r(a,S),r(S,C),r(C,q),r(S,B),r(S,G),r(G,L),x||(Z=[te(C,"click",s[3]),te(G,"click",s[4])],x=!0)},p(O,[K]){K&2&&c!==(c=O[1].t("Account Activation Pending")+"")&&P(u,c),K&2&&g!==(g=O[1].t("Contact Admin for WebUI Access")+"")&&P(m,g),K&2&&b!==(b=O[1].t("Your account status is currently pending activation.")+"")&&P(k,b),K&2&&V!==(V=O[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&P(T,V),O[0]?U?U.p(O,K):(U=Qs(O),U.c(),U.m(a,I)):U&&(U.d(1),U=null),K&2&&R!==(R=O[1].t("Check Again")+"")&&P(q,R),K&2&&F!==(F=O[1].t("Sign Out")+"")&&P(L,F)},i:Ye,o:Ye,d(O){O&&i(e),U&&U.d(),x=!1,et(Z)}}}function Xo(s,e,t){let l;const a=Et("i18n");Ue(s,a,f=>t(1,l=f));let n=null;return Bt(async()=>{t(0,n=await Pa(localStorage.token).catch(f=>(console.error(f),null)))}),[n,l,a,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class Qo extends mt{constructor(e){super(),pt(this,e,Xo,Jo,_t,{})}}function ea(s){let e,t,l,a,n,c,u;const f=[ti,ei],_=[];function g(w,b){return b&8&&(e=null),e==null&&(e=!["user","admin"].includes(w[3].role)),e?0:w[2].length>0?1:-1}~(t=g(s,-1))&&(l=_[t]=f[t](s)),n=new $o({});const m=s[10].default,p=ta(m,s,s[9],null);return{c(){l&&l.c(),a=M(),Te(n.$$.fragment),c=M(),p&&p.c()},l(w){l&&l.l(w),a=A(w),Ve(n.$$.fragment,w),c=A(w),p&&p.l(w)},m(w,b){~t&&_[t].m(w,b),$(w,a,b),Ce(n,w,b),$(w,c,b),p&&p.m(w,b),u=!0},p(w,b){let k=t;t=g(w,b),t===k?~t&&_[t].p(w,b):(l&&(Ct(),oe(_[k],1,1,()=>{_[k]=null}),Mt()),~t?(l=_[t],l?l.p(w,b):(l=_[t]=f[t](w),l.c()),ne(l,1),l.m(a.parentNode,a)):l=null),p&&p.p&&(!u||b&512)&&la(p,m,w,w[9],u?aa(m,w[9],b,null):sa(w[9]),null)},i(w){u||(ne(l),ne(n.$$.fragment,w),ne(p,w),u=!0)},o(w){oe(l),oe(n.$$.fragment,w),oe(p,w),u=!1},d(w){w&&(i(a),i(c)),~t&&_[t].d(w),Me(n,w),p&&p.d(w)}}}function ei(s){let e,t,l,a,n,c="Important Update<br/> Action Required for Chat Log Storage",u,f,_=s[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",g,m,p,w=s[6].t("Settings")+"",b,k,E=s[6].t("Chats")+"",y,V,T=s[6].t("Import Chats")+"",D,I,S=s[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",C,R,q,B,G="Download & Delete",F,L,x=s[6].t("Close")+"",Z,U,O;return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=d("div"),n.innerHTML=c,u=M(),f=d("div"),g=H(_),m=M(),p=d("span"),b=H(w),k=H(" > "),y=H(E),V=H(" > "),D=H(T),I=H(". "),C=H(S),R=M(),q=d("div"),B=d("button"),B.textContent=G,F=M(),L=d("button"),Z=H(x),this.h()},l(K){e=h(K,"DIV",{class:!0});var j=v(e);t=h(j,"DIV",{class:!0});var z=v(t);l=h(z,"DIV",{class:!0});var J=v(l);a=h(J,"DIV",{class:!0});var W=v(a);n=h(W,"DIV",{class:!0,"data-svelte-h":!0}),He(n)!=="svelte-mnqwc6"&&(n.innerHTML=c),u=A(W),f=h(W,"DIV",{class:!0});var Q=v(f);g=N(Q,_),m=A(Q),p=h(Q,"SPAN",{class:!0});var le=v(p);b=N(le,w),k=N(le," > "),y=N(le,E),V=N(le," > "),D=N(le,T),le.forEach(i),I=N(Q,". "),C=N(Q,S),Q.forEach(i),R=A(W),q=h(W,"DIV",{class:!0});var ae=v(q);B=h(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),He(B)!=="svelte-1ia8i9q"&&(B.textContent=G),F=A(ae),L=h(ae,"BUTTON",{class:!0});var ce=v(L);Z=N(ce,x),ce.forEach(i),ae.forEach(i),W.forEach(i),J.forEach(i),z.forEach(i),j.forEach(i),this.h()},h(){o(n,"class","text-center dark:text-white text-2xl font-medium z-50"),o(p,"class","font-semibold dark:text-white"),o(f,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(B,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(L,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(q,"class","mt-6 mx-auto relative group w-fit"),o(a,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(K,j){$(K,e,j),r(e,t),r(t,l),r(l,a),r(a,n),r(a,u),r(a,f),r(f,g),r(f,m),r(f,p),r(p,b),r(p,k),r(p,y),r(p,V),r(p,D),r(f,I),r(f,C),r(a,R),r(a,q),r(q,B),r(q,F),r(q,L),r(L,Z),U||(O=[te(B,"click",s[13]),te(L,"click",s[14])],U=!0)},p(K,j){j&64&&_!==(_=K[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&P(g,_),j&64&&w!==(w=K[6].t("Settings")+"")&&P(b,w),j&64&&E!==(E=K[6].t("Chats")+"")&&P(y,E),j&64&&T!==(T=K[6].t("Import Chats")+"")&&P(D,T),j&64&&S!==(S=K[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&P(C,S),j&64&&x!==(x=K[6].t("Close")+"")&&P(Z,x)},i:Ye,o:Ye,d(K){K&&i(e),U=!1,et(O)}}}function ti(s){let e,t;return e=new Qo({}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function li(s){let e,t,l,a,n,c,u,f,_;function g(k){s[11](k)}let m={};s[4]!==void 0&&(m.show=s[4]),e=new io({props:m}),yt.push(()=>Dt(e,"show",g));function p(k){s[12](k)}let w={};s[5]!==void 0&&(w.show=s[5]),a=new Ko({props:w}),yt.push(()=>Dt(a,"show",p));let b=s[0]&&ea(s);return{c(){Te(e.$$.fragment),l=M(),Te(a.$$.fragment),c=M(),u=d("div"),f=d("div"),b&&b.c(),this.h()},l(k){Ve(e.$$.fragment,k),l=A(k),Ve(a.$$.fragment,k),c=A(k),u=h(k,"DIV",{class:!0});var E=v(u);f=h(E,"DIV",{class:!0});var y=v(f);b&&b.l(y),y.forEach(i),E.forEach(i),this.h()},h(){o(f,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row"),o(u,"class","app relative")},m(k,E){Ce(e,k,E),$(k,l,E),Ce(a,k,E),$(k,c,E),$(k,u,E),r(u,f),b&&b.m(f,null),_=!0},p(k,[E]){const y={};!t&&E&16&&(t=!0,y.show=k[4],It(()=>t=!1)),e.$set(y);const V={};!n&&E&32&&(n=!0,V.show=k[5],It(()=>n=!1)),a.$set(V),k[0]?b?(b.p(k,E),E&1&&ne(b,1)):(b=ea(k),b.c(),ne(b,1),b.m(f,null)):b&&(Ct(),oe(b,1,1,()=>{b=null}),Mt())},i(k){_||(ne(e.$$.fragment,k),ne(a.$$.fragment,k),ne(b),_=!0)},o(k){oe(e.$$.fragment,k),oe(a.$$.fragment,k),oe(b),_=!1},d(k){k&&(i(l),i(c),i(u)),Me(e,k),Me(a,k),b&&b.d()}}}function si(s,e,t){let l,a,n,c,u;Ue(s,Ll,D=>t(15,l=D)),Ue(s,Qt,D=>t(3,a=D)),Ue(s,El,D=>t(4,n=D)),Ue(s,_l,D=>t(5,c=D));let{$$slots:f={},$$scope:_}=e;const{saveAs:g}=Sl,m=Et("i18n");Ue(s,m,D=>t(6,u=D));let p=!1,w=null,b=[];const k=async()=>ra(localStorage.token);Bt(async()=>{if(a===void 0)await Yt("/auth");else if(["user","admin"].includes(a.role)){try{if(t(1,w=await mr("Chats",1)),w){const I=await w.getAllFromIndex("chats","timestamp");t(2,b=I.map((S,C)=>I[I.length-1-C])),b.length===0&&await rs("Chats")}console.log(w)}catch{}const D=await Ca(localStorage.token).catch(I=>(console.error(I),null));D?await jt.set(D.ui):await jt.set(JSON.parse(localStorage.getItem("settings")??"{}")),await Promise.all([(async()=>{xl.set(await k())})(),(async()=>{xa.set(await ga(localStorage.token))})(),(async()=>{La.set(await ba(localStorage.token))})(),(async()=>{Ba.set(await or(localStorage.token))})(),(async()=>{Cl.set(await ca(localStorage.token))})()]),document.addEventListener("keydown",function(I){var R,q,B,G,F;const S=I.ctrlKey||I.metaKey,C=I.shiftKey;if(S&&C&&I.key.toLowerCase()==="o"&&(I.preventDefault(),console.log("newChat"),(R=document.getElementById("sidebar-new-chat-button"))==null||R.click()),C&&I.key==="Escape"&&(I.preventDefault(),console.log("focusInput"),(q=document.getElementById("chat-textarea"))==null||q.focus()),S&&C&&I.key===";"){I.preventDefault(),console.log("copyLastCodeBlock");const L=[...document.getElementsByClassName("copy-code-button")].at(-1);L==null||L.click()}if(S&&C&&I.key.toLowerCase()==="c"){I.preventDefault(),console.log("copyLastResponse");const L=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(L),L==null||L.click()}S&&C&&I.key.toLowerCase()==="s"&&(I.preventDefault(),console.log("toggleSidebar"),(B=document.getElementById("sidebar-toggle-button"))==null||B.click()),S&&C&&I.key==="Backspace"&&(I.preventDefault(),console.log("deleteChat"),(G=document.getElementById("delete-chat-button"))==null||G.click()),S&&I.key==="."&&(I.preventDefault(),console.log("openSettings"),El.set(!n)),S&&I.key==="/"&&(I.preventDefault(),console.log("showShortcuts"),(F=document.getElementById("show-shortcuts-button"))==null||F.click())}),a.role==="admin"&&_l.set(localStorage.version!==l.version),await _a()}t(0,p=!0)});function E(D){n=D,El.set(n)}function y(D){c=D,_l.set(c)}const V=async()=>{let D=new Blob([JSON.stringify(b)],{type:"application/json"});g(D,`chat-export-${Date.now()}.json`);const I=w.transaction("chats","readwrite");await Promise.all([I.store.clear(),I.done]),await rs("Chats"),t(2,b=[])},T=async()=>{t(2,b=[])};return s.$$set=D=>{"$$scope"in D&&t(9,_=D.$$scope)},[p,w,b,a,n,c,u,g,m,_,f,E,y,V,T]}class xi extends mt{constructor(e){super(),pt(this,e,si,li,_t,{})}}export{xi as component};
//# sourceMappingURL=2.6fd8f29b.js.map
