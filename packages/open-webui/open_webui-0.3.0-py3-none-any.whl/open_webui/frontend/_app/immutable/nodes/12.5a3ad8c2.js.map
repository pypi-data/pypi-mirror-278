{"version":3,"file":"12.5a3ad8c2.js","sources":["../../../../../../src/routes/(app)/workspace/models/create/+page.svelte"],"sourcesContent":["<script>\n\timport { v4 as uuidv4 } from 'uuid';\n\timport { toast } from 'svelte-sonner';\n\timport { goto } from '$app/navigation';\n\timport { settings, user, config, models } from '$lib/stores';\n\n\timport { onMount, tick, getContext } from 'svelte';\n\timport { addNewModel, getModelById, getModelInfos } from '$lib/apis/models';\n\timport { getModels } from '$lib/apis';\n\n\timport AdvancedParams from '$lib/components/chat/Settings/Advanced/AdvancedParams.svelte';\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\n\timport Tags from '$lib/components/common/Tags.svelte';\n\timport Knowledge from '$lib/components/workspace/Models/Knowledge.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet filesInputElement;\n\tlet inputFiles;\n\n\tlet showAdvanced = false;\n\tlet showPreview = false;\n\n\tlet loading = false;\n\tlet success = false;\n\n\t// ///////////\n\t// Model\n\t// ///////////\n\n\tlet id = '';\n\tlet name = '';\n\n\tlet info = {\n\t\tid: '',\n\t\tbase_model_id: null,\n\t\tname: '',\n\t\tmeta: {\n\t\t\tprofile_image_url: null,\n\t\t\tdescription: '',\n\t\t\tsuggestion_prompts: [\n\t\t\t\t{\n\t\t\t\t\tcontent: ''\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\tparams: {\n\t\t\tsystem: ''\n\t\t}\n\t};\n\n\tlet params = {};\n\tlet capabilities = {\n\t\tvision: true\n\t};\n\n\tlet knowledge = [];\n\n\t$: if (name) {\n\t\tid = name.replace(/\\s+/g, '-').toLowerCase();\n\t}\n\n\tlet baseModel = null;\n\t$: {\n\t\tbaseModel = $models.find((m) => m.id === info.base_model_id);\n\t\tconsole.log(baseModel);\n\t\tif (baseModel) {\n\t\t\tif (baseModel.owned_by === 'openai') {\n\t\t\t\tcapabilities.usage = baseModel.info?.meta?.capabilities?.usage ?? false;\n\t\t\t} else {\n\t\t\t\tdelete capabilities.usage;\n\t\t\t}\n\t\t\tcapabilities = capabilities;\n\t\t}\n\t}\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tinfo.id = id;\n\t\tinfo.name = name;\n\t\tinfo.meta.capabilities = capabilities;\n\n\t\tif (knowledge.length > 0) {\n\t\t\tinfo.meta.knowledge = knowledge;\n\t\t} else {\n\t\t\tif (info.meta.knowledge) {\n\t\t\t\tdelete info.meta.knowledge;\n\t\t\t}\n\t\t}\n\n\t\tinfo.params.stop = params.stop ? params.stop.split(',').filter((s) => s.trim()) : null;\n\t\tObject.keys(info.params).forEach((key) => {\n\t\t\tif (info.params[key] === '' || info.params[key] === null) {\n\t\t\t\tdelete info.params[key];\n\t\t\t}\n\t\t});\n\n\t\tif ($models.find((m) => m.id === info.id)) {\n\t\t\ttoast.error(\n\t\t\t\t`Error: A model with the ID '${info.id}' already exists. Please select a different ID to proceed.`\n\t\t\t);\n\t\t\tloading = false;\n\t\t\tsuccess = false;\n\t\t\treturn success;\n\t\t}\n\n\t\tif (info) {\n\t\t\tconst res = await addNewModel(localStorage.token, {\n\t\t\t\t...info,\n\t\t\t\tmeta: {\n\t\t\t\t\t...info.meta,\n\t\t\t\t\tprofile_image_url: info.meta.profile_image_url ?? '/favicon.png',\n\t\t\t\t\tsuggestion_prompts: info.meta.suggestion_prompts\n\t\t\t\t\t\t? info.meta.suggestion_prompts.filter((prompt) => prompt.content !== '')\n\t\t\t\t\t\t: null\n\t\t\t\t},\n\t\t\t\tparams: { ...info.params, ...params }\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\tawait models.set(await getModels(localStorage.token));\n\t\t\t\ttoast.success('Model created successfully!');\n\t\t\t\tawait goto('/workspace/models');\n\t\t\t}\n\t\t}\n\n\t\tloading = false;\n\t\tsuccess = false;\n\t};\n\n\tconst initModel = async (model) => {\n\t\tname = model.name;\n\t\tawait tick();\n\n\t\tid = model.id;\n\n\t\tif (model.info.base_model_id) {\n\t\t\tconst base_model = $models\n\t\t\t\t.filter((m) => !m?.preset)\n\t\t\t\t.find((m) =>\n\t\t\t\t\t[model.info.base_model_id, `${model.info.base_model_id}:latest`].includes(m.id)\n\t\t\t\t);\n\n\t\t\tconsole.log('base_model', base_model);\n\n\t\t\tif (!base_model) {\n\t\t\t\tmodel.info.base_model_id = null;\n\t\t\t} else if ($models.find((m) => m.id === `${model.info.base_model_id}:latest`)) {\n\t\t\t\tmodel.info.base_model_id = `${model.info.base_model_id}:latest`;\n\t\t\t}\n\t\t}\n\n\t\tparams = { ...params, ...model?.info?.params };\n\t\tparams.stop = params?.stop ? (params?.stop ?? []).join(',') : null;\n\n\t\tcapabilities = { ...capabilities, ...(model?.info?.meta?.capabilities ?? {}) };\n\n\t\tinfo = {\n\t\t\t...info,\n\t\t\t...model.info\n\t\t};\n\n\t\tconsole.log(info);\n\t};\n\n\tonMount(async () => {\n\t\twindow.addEventListener('message', async (event) => {\n\t\t\tif (\n\t\t\t\t!['https://openwebui.com', 'https://www.openwebui.com', 'http://localhost:5173'].includes(\n\t\t\t\t\tevent.origin\n\t\t\t\t)\n\t\t\t)\n\t\t\t\treturn;\n\n\t\t\tconst model = JSON.parse(event.data);\n\t\t\tconsole.log(model);\n\n\t\t\tinitModel(model);\n\t\t});\n\n\t\tif (window.opener ?? false) {\n\t\t\twindow.opener.postMessage('loaded', '*');\n\t\t}\n\n\t\tif (sessionStorage.model) {\n\t\t\tconst model = JSON.parse(sessionStorage.model);\n\t\t\tsessionStorage.removeItem('model');\n\n\t\t\tconsole.log(model);\n\t\t\tinitModel(model);\n\t\t}\n\t});\n</script>\n\n<div class=\"w-full max-h-full\">\n\t<input\n\t\tbind:this={filesInputElement}\n\t\tbind:files={inputFiles}\n\t\ttype=\"file\"\n\t\thidden\n\t\taccept=\"image/*\"\n\t\ton:change={() => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.onload = (event) => {\n\t\t\t\tlet originalImageUrl = `${event.target.result}`;\n\n\t\t\t\tconst img = new Image();\n\t\t\t\timg.src = originalImageUrl;\n\n\t\t\t\timg.onload = function () {\n\t\t\t\t\tconst canvas = document.createElement('canvas');\n\t\t\t\t\tconst ctx = canvas.getContext('2d');\n\n\t\t\t\t\t// Calculate the aspect ratio of the image\n\t\t\t\t\tconst aspectRatio = img.width / img.height;\n\n\t\t\t\t\t// Calculate the new width and height to fit within 100x100\n\t\t\t\t\tlet newWidth, newHeight;\n\t\t\t\t\tif (aspectRatio > 1) {\n\t\t\t\t\t\tnewWidth = 100 * aspectRatio;\n\t\t\t\t\t\tnewHeight = 100;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewWidth = 100;\n\t\t\t\t\t\tnewHeight = 100 / aspectRatio;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the canvas size\n\t\t\t\t\tcanvas.width = 100;\n\t\t\t\t\tcanvas.height = 100;\n\n\t\t\t\t\t// Calculate the position to center the image\n\t\t\t\t\tconst offsetX = (100 - newWidth) / 2;\n\t\t\t\t\tconst offsetY = (100 - newHeight) / 2;\n\n\t\t\t\t\t// Draw the image on the canvas\n\t\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\n\n\t\t\t\t\t// Get the base64 representation of the compressed image\n\t\t\t\t\tconst compressedSrc = canvas.toDataURL('image/jpeg');\n\n\t\t\t\t\t// Display the compressed image\n\t\t\t\t\tinfo.meta.profile_image_url = compressedSrc;\n\n\t\t\t\t\tinputFiles = null;\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tif (\n\t\t\t\tinputFiles &&\n\t\t\t\tinputFiles.length > 0 &&\n\t\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(inputFiles[0]['type'])\n\t\t\t) {\n\t\t\t\treader.readAsDataURL(inputFiles[0]);\n\t\t\t} else {\n\t\t\t\tconsole.log(`Unsupported File Type '${inputFiles[0]['type']}'.`);\n\t\t\t\tinputFiles = null;\n\t\t\t}\n\t\t}}\n\t/>\n\n\t<button\n\t\tclass=\"flex space-x-1\"\n\t\ton:click={() => {\n\t\t\tgoto('/workspace/models');\n\t\t}}\n\t>\n\t\t<div class=\" self-center\">\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\tfill=\"currentColor\"\n\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\td=\"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z\"\n\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t</div>\n\t\t<div class=\" self-center font-medium text-sm\">{$i18n.t('Back')}</div>\n\t</button>\n\t<!-- <hr class=\"my-3 dark:border-gray-850\" /> -->\n\n\t<form\n\t\tclass=\"flex flex-col max-w-2xl mx-auto mt-4 mb-10\"\n\t\ton:submit|preventDefault={() => {\n\t\t\tsubmitHandler();\n\t\t}}\n\t>\n\t\t<div class=\"flex justify-center my-4\">\n\t\t\t<div class=\"self-center\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\" {info.meta.profile_image_url\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: 'p-4'} rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tfilesInputElement.click();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{#if info.meta.profile_image_url}\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={info.meta.profile_image_url}\n\t\t\t\t\t\t\talt=\"modelfile profile\"\n\t\t\t\t\t\t\tclass=\" rounded-full size-16 object-cover\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-8\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"my-2 flex space-x-2\">\n\t\t\t<div class=\"flex-1\">\n\t\t\t\t<div class=\" text-sm font-semibold mb-2\">{$i18n.t('Name')}*</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\t\tplaceholder={$i18n.t('Name your model')}\n\t\t\t\t\t\tbind:value={name}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex-1\">\n\t\t\t\t<div class=\" text-sm font-semibold mb-2\">{$i18n.t('Model ID')}*</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\t\tplaceholder={$i18n.t('Add a model id')}\n\t\t\t\t\t\tbind:value={id}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"my-2\">\n\t\t\t<div class=\" text-sm font-semibold mb-2\">{$i18n.t('Base Model (From)')}</div>\n\n\t\t\t<div>\n\t\t\t\t<select\n\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\tplaceholder=\"Select a base model (e.g. llama3, gpt-4o)\"\n\t\t\t\t\tbind:value={info.base_model_id}\n\t\t\t\t\trequired\n\t\t\t\t>\n\t\t\t\t\t<option value={null} class=\" text-gray-900\">{$i18n.t('Select a base model')}</option>\n\t\t\t\t\t{#each $models.filter((m) => !m?.preset) as model}\n\t\t\t\t\t\t<option value={model.id} class=\" text-gray-900\">{model.name}</option>\n\t\t\t\t\t{/each}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"my-1\">\n\t\t\t<div class=\"flex w-full justify-between items-center mb-1\">\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Description')}</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"p-1 text-xs flex rounded transition\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tif (info.meta.description === null) {\n\t\t\t\t\t\t\tinfo.meta.description = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinfo.meta.description = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{#if info.meta.description === null}\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Custom')}</span>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{#if info.meta.description !== null}\n\t\t\t\t<input\n\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\tplaceholder={$i18n.t('Add a short description about what this model does')}\n\t\t\t\t\tbind:value={info.meta.description}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<hr class=\" dark:border-gray-850 my-1\" />\n\n\t\t<div class=\"my-2\">\n\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Model Params')}</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"mt-2\">\n\t\t\t\t<div class=\"my-1\">\n\t\t\t\t\t<div class=\" text-xs font-semibold mb-2\">{$i18n.t('System Prompt')}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1\"\n\t\t\t\t\t\t\tplaceholder={`Write your model system prompt content here\\ne.g.) You are Mario from Super Mario Bros, acting as an assistant.`}\n\t\t\t\t\t\t\trows=\"4\"\n\t\t\t\t\t\t\tbind:value={info.params.system}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-semibold\">\n\t\t\t\t\t\t{$i18n.t('Advanced Params')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tshowAdvanced = !showAdvanced;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if showAdvanced}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Hide')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Show')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{#if showAdvanced}\n\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t<AdvancedParams\n\t\t\t\t\t\t\tbind:params\n\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\tinfo.params = { ...info.params, ...params };\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<hr class=\" dark:border-gray-850 my-1\" />\n\n\t\t<div class=\"my-1\">\n\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Prompt suggestions')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 text-xs flex rounded transition\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tif (info.meta.suggestion_prompts === null) {\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = [{ content: '' }];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if info.meta.suggestion_prompts === null}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Custom')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{#if info.meta.suggestion_prompts !== null}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-2 text-xs flex rounded transition\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.length === 0 ||\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.at(-1).content !== ''\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = [...info.meta.suggestion_prompts, { content: '' }];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t{#if info.meta.suggestion_prompts}\n\t\t\t\t<div class=\"flex flex-col space-y-1 mt-2\">\n\t\t\t\t\t{#if info.meta.suggestion_prompts.length > 0}\n\t\t\t\t\t\t{#each info.meta.suggestion_prompts as prompt, promptIdx}\n\t\t\t\t\t\t\t<div class=\" flex border dark:border-gray-600 rounded-lg\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Write a prompt suggestion (e.g. Who are you?)')}\n\t\t\t\t\t\t\t\t\tbind:value={prompt.content}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-2\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.splice(promptIdx, 1);\n\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = info.meta.suggestion_prompts;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"text-xs text-center\">No suggestion prompts</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"my-2\">\n\t\t\t<Knowledge bind:knowledge />\n\t\t</div>\n\n\t\t<div class=\"my-1\">\n\t\t\t<div class=\"flex w-full justify-between mb-1\">\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Capabilities')}</div>\n\t\t\t</div>\n\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t{#each Object.keys(capabilities) as capability}\n\t\t\t\t\t<div class=\" flex items-center gap-2\">\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tstate={capabilities[capability] ? 'checked' : 'unchecked'}\n\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\tcapabilities[capability] = e.detail === 'checked';\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize\">\n\t\t\t\t\t\t\t{$i18n.t(capability)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"my-1\">\n\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Tags')}</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"mt-2\">\n\t\t\t\t<Tags\n\t\t\t\t\ttags={info?.meta?.tags ?? []}\n\t\t\t\t\tdeleteTag={(tagName) => {\n\t\t\t\t\t\tinfo.meta.tags = info.meta.tags.filter((tag) => tag.name !== tagName);\n\t\t\t\t\t}}\n\t\t\t\t\taddTag={(tagName) => {\n\t\t\t\t\t\tconsole.log(tagName);\n\t\t\t\t\t\tif (!(info?.meta?.tags ?? null)) {\n\t\t\t\t\t\t\tinfo.meta.tags = [{ name: tagName }];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinfo.meta.tags = [...info.meta.tags, { name: tagName }];\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"my-2 text-gray-300 dark:text-gray-700\">\n\t\t\t<div class=\"flex w-full justify-between mb-2\">\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('JSON Preview')}</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshowPreview = !showPreview;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{#if showPreview}\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Hide')}</span>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Show')}</span>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{#if showPreview}\n\t\t\t\t<div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\t\trows=\"10\"\n\t\t\t\t\t\tvalue={JSON.stringify(info, null, 2)}\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\treadonly\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"my-2 flex justify-end mb-20\">\n\t\t\t<button\n\t\t\t\tclass=\" text-sm px-3 py-2 transition rounded-xl {loading\n\t\t\t\t\t? ' cursor-not-allowed bg-gray-100 dark:bg-gray-800'\n\t\t\t\t\t: ' bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800'} flex\"\n\t\t\t\ttype=\"submit\"\n\t\t\t\tdisabled={loading}\n\t\t\t>\n\t\t\t\t<div class=\" self-center font-medium\">{$i18n.t('Save & Create')}</div>\n\n\t\t\t\t{#if loading}\n\t\t\t\t\t<div class=\"ml-1.5 self-center\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t><style>\n\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</style><path\n\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t/><path\n\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t/></svg\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</div>\n"],"names":["insert_hydration","target","svg","anchor","append_hydration","path","ctx","attr","img_1","img_1_src_value","t_value","option","option_value_value","dirty","set_data","t","span","input","div","button","create_if_block_4","i","set_input_value","div1","div0","checkbox_changes","t1","t1_value","textarea","textarea_value_value","create_if_block_11","each_value_2","ensure_array_like","func","create_if_block_10","if_block2","create_if_block_9","create_if_block_8","create_if_block_7","create_if_block_6","if_block6","create_if_block_5","create_if_block_3","_b","_a","create_if_block_2","create_if_block_1","create_if_block","button1","button1_class_value","add_render_callback","select","button6","button6_class_value","div44","input0","button0","form","div3","div2","div10","div6","div4","div5","input1","div9","div7","div8","input2","div13","div11","div12","select_option","div16","div15","div14","button2","hr0","div25","div18","div17","div24","div21","div19","div20","div23","div22","button3","hr1","div29","div28","div27","div26","button4","div30","div34","div32","div31","div33","div38","div36","div35","div37","div41","div40","div39","button5","div43","div42","t2","t2_value","current","t5","t5_value","t9","t9_value","t13","t13_value","t15","t15_value","t17","t17_value","t22","t22_value","t24","t24_value","t27","t27_value","t32","t32_value","t38","t38_value","each_blocks","t41","t41_value","t44","t44_value","t48","t48_value","m","i18n","getContext","filesInputElement","inputFiles","showAdvanced","showPreview","loading","success","id","name","info","params","capabilities","knowledge","baseModel","submitHandler","$$invalidate","s","key","$models","toast","addNewModel","prompt","models","getModels","goto","initModel","model","tick","base_model","_c","onMount","event","$$value","reader","originalImageUrl","img","canvas","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","select_value","e","promptIdx","capability","tagName","tag"],"mappings":"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"}