import{s as _t,f as d,l as H,a as M,g as h,h as v,m as N,d as i,c as A,j as o,i as R,r,u as le,O as il,n as z,C as Ye,v as et,P as Et,w as Ue,Q as qe,z as Pe,A as je,R as He,S as ml,o as Bt,p as yt,T as rl,U as Wt,K as Ht,V as Kt,W as It,X as nl,E as ta,F as la,G as sa,H as aa,Y as va,e as pl,Z as Xt,k as vt,t as _a}from"../chunks/scheduler.8ceb707f.js";import{S as mt,i as pt,b as Te,d as Ve,m as Ce,a as re,g as Ct,t as oe,c as Mt,e as Me,f as Dt}from"../chunks/index.552978e5.js";import{a as Qe}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{f as Sl}from"../chunks/FileSaver.min.898eb36f.js";import{g as Yt}from"../chunks/navigation.060fba0f.js";import{a as ma,b as ra,c as pa}from"../chunks/index.d1d0620a.js";import"../chunks/sha256.8dba905a.js";import{g as ga}from"../chunks/index.63953629.js";import{g as ba}from"../chunks/index.2fe39741.js";import{g as wa,a as ka,b as Pt,d as ya,c as Ql,u as na,e as kl,f as oa,h as ia,i as Ea,j as Ia,k as Da,l as Ta,m as Va,n as ca,o as Ca}from"../chunks/index.55a6c049.js";import{u as ol,d as Ma,W as ua,e as Qt,f as _l,g as jt,t as Aa,h as xl,c as Ll,i as St,j as es,k as Ut,l as yl,m as ts,n as Cl,a as Sa,o as El,p as xa,q as La,r as Ba}from"../chunks/index.e7656f3a.js";import{M as cl,d as gl}from"../chunks/dayjs.min.08f51e5f.js";import{u as Ha,a as Na,b as Oa,c as Ua,d as Pa}from"../chunks/index.c520f55e.js";import{g as ja,S as fa}from"../chunks/Switch.bee9181e.js";import{g as al,c as za,a as ls,b as Za,d as Ra,e as $a}from"../chunks/index.485e0f6b.js";import{T as Gt}from"../chunks/Tooltip.653c5973.js";import{g as Wa}from"../chunks/index.18f41dca.js";import{e as rt}from"../chunks/each.15ac4e72.js";import{g as qa}from"../chunks/index.d0132161.js";import{A as Ya}from"../chunks/AdvancedParams.7613acc5.js";import{a as Fa,g as Il,d as Ga,b as Ka,T as Ja,A as Xa,S as Qa,U as er}from"../chunks/UserMenu.9891003a.js";import"../chunks/index.c4ca6160.js";import"../chunks/updater.e153cbf1.js";import{D as tr,M as sl}from"../chunks/Dropdown.4f0533e0.js";import{M as lr}from"../chunks/menu-trigger.1e780b67.js";import{f as sr}from"../chunks/index.e8e699b3.js";import{D as ar,S as rr,G as nr}from"../chunks/DocumentDuplicate.e9956fe5.js";import{g as or}from"../chunks/index.f291e208.js";const ir=(s,e)=>e.some(t=>s instanceof t);let ss,as;function cr(){return ss||(ss=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ur(){return as||(as=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const da=new WeakMap,Ml=new WeakMap,ha=new WeakMap,Dl=new WeakMap,Bl=new WeakMap;function fr(s){const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("success",n),s.removeEventListener("error",c)},n=()=>{t(qt(s.result)),a()},c=()=>{l(s.error),a()};s.addEventListener("success",n),s.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&da.set(t,s)}).catch(()=>{}),Bl.set(e,s),e}function dr(s){if(Ml.has(s))return;const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("complete",n),s.removeEventListener("error",c),s.removeEventListener("abort",c)},n=()=>{t(),a()},c=()=>{l(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",n),s.addEventListener("error",c),s.addEventListener("abort",c)});Ml.set(s,e)}let Al={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Ml.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ha.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qt(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function hr(s){Al=s(Al)}function vr(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(Tl(this),e,...t);return ha.set(l,e.sort?e.sort():[e]),qt(l)}:ur().includes(s)?function(...e){return s.apply(Tl(this),e),qt(da.get(this))}:function(...e){return qt(s.apply(Tl(this),e))}}function _r(s){return typeof s=="function"?vr(s):(s instanceof IDBTransaction&&dr(s),ir(s,cr())?new Proxy(s,Al):s)}function qt(s){if(s instanceof IDBRequest)return fr(s);if(Dl.has(s))return Dl.get(s);const e=_r(s);return e!==s&&(Dl.set(s,e),Bl.set(e,s)),e}const Tl=s=>Bl.get(s);function mr(s,e,{blocked:t,upgrade:l,blocking:a,terminated:n}={}){const c=indexedDB.open(s,e),u=qt(c);return l&&c.addEventListener("upgradeneeded",f=>{l(qt(c.result),f.oldVersion,f.newVersion,qt(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{n&&f.addEventListener("close",()=>n()),a&&f.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),u}function rs(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),qt(t).then(()=>{})}const pr=["get","getKey","getAll","getAllKeys","count"],gr=["put","add","delete","clear"],Vl=new Map;function ns(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Vl.get(e))return Vl.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,a=gr.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(a||pr.includes(t)))return;const n=async function(c,...u){const f=this.transaction(c,a?"readwrite":"readonly");let _=f.store;return l&&(_=_.index(u.shift())),(await Promise.all([_[t](...u),a&&f.done]))[0]};return Vl.set(e,n),n}hr(s=>({...s,get:(e,t,l)=>ns(e,t)||s.get(e,t,l),has:(e,t)=>!!ns(e,t)||s.has(e,t)}));function os(s){let e,t,l,a=s[4].t("Current Password")+"",n,c,u,f,_,g,p,m=s[4].t("New Password")+"",w,b,k,E,y,T,I,V=s[4].t("Confirm Password")+"",D,S,C,$,W,B,G,Y=s[4].t("Update password")+"",L,x,Z;return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("div"),f=d("input"),_=M(),g=d("div"),p=d("div"),w=H(m),b=M(),k=d("div"),E=d("input"),y=M(),T=d("div"),I=d("div"),D=H(V),S=M(),C=d("div"),$=d("input"),W=M(),B=d("div"),G=d("button"),L=H(Y),this.h()},l(j){e=h(j,"DIV",{class:!0});var O=v(e);t=h(O,"DIV",{class:!0});var U=v(t);l=h(U,"DIV",{class:!0});var P=v(l);n=N(P,a),P.forEach(i),c=A(U),u=h(U,"DIV",{class:!0});var K=v(u);f=h(K,"INPUT",{class:!0,type:!0,autocomplete:!0}),K.forEach(i),U.forEach(i),_=A(O),g=h(O,"DIV",{class:!0});var J=v(g);p=h(J,"DIV",{class:!0});var F=v(p);w=N(F,m),F.forEach(i),b=A(J),k=h(J,"DIV",{class:!0});var Q=v(k);E=h(Q,"INPUT",{class:!0,type:!0,autocomplete:!0}),Q.forEach(i),J.forEach(i),y=A(O),T=h(O,"DIV",{class:!0});var te=v(T);I=h(te,"DIV",{class:!0});var ae=v(I);D=N(ae,V),ae.forEach(i),S=A(te),C=h(te,"DIV",{class:!0});var ce=v(C);$=h(ce,"INPUT",{class:!0,type:!0,autocomplete:!0}),ce.forEach(i),te.forEach(i),O.forEach(i),W=A(j),B=h(j,"DIV",{class:!0});var ne=v(B);G=h(ne,"BUTTON",{class:!0});var _e=v(G);L=N(_e,Y),_e.forEach(i),ne.forEach(i),this.h()},h(){o(l,"class","mb-1 text-xs text-gray-500"),o(f,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(f,"type","password"),o(f,"autocomplete","current-password"),f.required=!0,o(u,"class","flex-1"),o(t,"class","flex flex-col w-full"),o(p,"class","mb-1 text-xs text-gray-500"),o(E,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(E,"type","password"),o(E,"autocomplete","new-password"),E.required=!0,o(k,"class","flex-1"),o(g,"class","flex flex-col w-full"),o(I,"class","mb-1 text-xs text-gray-500"),o($,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o($,"type","password"),o($,"autocomplete","off"),$.required=!0,o(C,"class","flex-1"),o(T,"class","flex flex-col w-full"),o(e,"class","py-2.5 space-y-1.5"),o(G,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),o(B,"class","mt-3 flex justify-end")},m(j,O){R(j,e,O),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(u,f),qe(f,s[1]),r(e,_),r(e,g),r(g,p),r(p,w),r(g,b),r(g,k),r(k,E),qe(E,s[2]),r(e,y),r(e,T),r(T,I),r(I,D),r(T,S),r(T,C),r(C,$),qe($,s[3]),R(j,W,O),R(j,B,O),r(B,G),r(G,L),x||(Z=[le(f,"input",s[8]),le(E,"input",s[9]),le($,"input",s[10])],x=!0)},p(j,O){O&16&&a!==(a=j[4].t("Current Password")+"")&&z(n,a),O&2&&f.value!==j[1]&&qe(f,j[1]),O&16&&m!==(m=j[4].t("New Password")+"")&&z(w,m),O&4&&E.value!==j[2]&&qe(E,j[2]),O&16&&V!==(V=j[4].t("Confirm Password")+"")&&z(D,V),O&8&&$.value!==j[3]&&qe($,j[3]),O&16&&Y!==(Y=j[4].t("Update password")+"")&&z(L,Y)},d(j){j&&(i(e),i(W),i(B)),x=!1,et(Z)}}}function br(s){let e,t,l,a=s[4].t("Change Password")+"",n,c,u,f=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",_,g,p,m,w=s[0]&&os(s);return{c(){e=d("form"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),_=H(f),g=M(),w&&w.c(),this.h()},l(b){e=h(b,"FORM",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var E=v(t);l=h(E,"DIV",{class:!0});var y=v(l);n=N(y,a),y.forEach(i),c=A(E),u=h(E,"BUTTON",{class:!0,type:!0});var T=v(u);_=N(T,f),T.forEach(i),E.forEach(i),g=A(k),w&&w.l(k),k.forEach(i),this.h()},h(){o(l,"class","font-medium"),o(u,"class","text-xs font-medium text-gray-500"),o(u,"type","button"),o(t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col text-sm")},m(b,k){R(b,e,k),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(u,_),r(e,g),w&&w.m(e,null),p||(m=[le(u,"click",s[7]),le(e,"submit",il(s[11]))],p=!0)},p(b,[k]){k&16&&a!==(a=b[4].t("Change Password")+"")&&z(n,a),k&17&&f!==(f=(b[0]?b[4].t("Hide"):b[4].t("Show"))+"")&&z(_,f),b[0]?w?w.p(b,k):(w=os(b),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},i:Ye,o:Ye,d(b){b&&i(e),w&&w.d(),p=!1,et(m)}}}function wr(s,e,t){let l;const a=Et("i18n");Ue(s,a,k=>t(4,l=k));let n=!1,c="",u="",f="";const _=async()=>{u===f?(await Ha(localStorage.token,c,u).catch(E=>(Qe.error(E),null))&&Qe.success(l.t("Successfully updated.")),t(1,c=""),t(2,u=""),t(3,f="")):(Qe.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,u=""),t(3,f=""))},g=()=>{t(0,n=!n)};function p(){c=this.value,t(1,c)}function m(){u=this.value,t(2,u)}function w(){f=this.value,t(3,f)}return[n,c,u,f,l,a,_,g,p,m,w,()=>{_()}]}class kr extends mt{constructor(e){super(),pt(this,e,wr,br,_t,{})}}function yr(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=je(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M12 4.5v15m7.5-7.5h-15"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,a){R(l,e,a),r(e,t)},p(l,[a]){a&2&&o(e,"stroke-width",l[1]),a&1&&o(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&i(e)}}}function Er(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,a=n.strokeWidth)},[l,a]}class Ir extends mt{constructor(e){super(),pt(this,e,Er,yr,_t,{className:0,strokeWidth:1})}}function is(s){let e,t,l,a,n=s[11].t("JWT Token")+"",c,u,f,_,g,p,m,w,b,k,E,y,T,I,V=s[11].t("API Key")+"",D,S,C,$,W,B,G,Y;function L(F,Q){return F[4]?Tr:Dr}let x=L(s),Z=x(s);function j(F,Q){return F[5]?Cr:Vr}let O=j(s),U=O(s);const P=[Ar,Mr],K=[];function J(F,Q){return F[6]?0:1}return $=J(s),W=K[$]=P[$](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),c=H(n),u=M(),f=d("div"),_=d("div"),g=d("input"),m=M(),w=d("button"),Z.c(),b=M(),k=d("button"),U.c(),E=M(),y=d("div"),T=d("div"),I=d("div"),D=H(V),S=M(),C=d("div"),W.c(),this.h()},l(F){e=h(F,"DIV",{class:!0});var Q=v(e);t=h(Q,"DIV",{class:!0});var te=v(t);l=h(te,"DIV",{class:!0});var ae=v(l);a=h(ae,"DIV",{class:!0});var ce=v(a);c=N(ce,n),ce.forEach(i),ae.forEach(i),u=A(te),f=h(te,"DIV",{class:!0});var ne=v(f);_=h(ne,"DIV",{class:!0});var _e=v(_);g=h(_e,"INPUT",{class:!0,type:!0}),m=A(_e),w=h(_e,"BUTTON",{class:!0});var Ae=v(w);Z.l(Ae),Ae.forEach(i),_e.forEach(i),b=A(ne),k=h(ne,"BUTTON",{class:!0});var pe=v(k);U.l(pe),pe.forEach(i),ne.forEach(i),te.forEach(i),E=A(Q),y=h(Q,"DIV",{class:!0});var ie=v(y);T=h(ie,"DIV",{class:!0});var ue=v(T);I=h(ue,"DIV",{class:!0});var ge=v(I);D=N(ge,V),ge.forEach(i),ue.forEach(i),S=A(ie),C=h(ie,"DIV",{class:!0});var ee=v(C);W.l(ee),ee.forEach(i),ie.forEach(i),Q.forEach(i),this.h()},h(){o(a,"class","self-center text-xs font-medium"),o(l,"class","flex justify-between w-full"),o(g,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(g,"type",p=s[4]?"text":"password"),g.value=localStorage.token,g.disabled=!0,o(w,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(_,"class","flex w-full"),o(k,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),o(f,"class","flex mt-2"),o(t,"class","justify-between w-full"),o(I,"class","self-center text-xs font-medium"),o(T,"class","flex justify-between w-full"),o(C,"class","flex mt-2"),o(y,"class","justify-between w-full"),o(e,"class","flex flex-col gap-4")},m(F,Q){R(F,e,Q),r(e,t),r(t,l),r(l,a),r(a,c),r(t,u),r(t,f),r(f,_),r(_,g),r(_,m),r(_,w),Z.m(w,null),r(f,b),r(f,k),U.m(k,null),r(e,E),r(e,y),r(y,T),r(T,I),r(I,D),r(y,S),r(y,C),K[$].m(C,null),B=!0,G||(Y=[le(w,"click",s[23]),le(k,"click",s[24])],G=!0)},p(F,Q){(!B||Q&2048)&&n!==(n=F[11].t("JWT Token")+"")&&z(c,n),(!B||Q&16&&p!==(p=F[4]?"text":"password"))&&o(g,"type",p),x!==(x=L(F))&&(Z.d(1),Z=x(F),Z&&(Z.c(),Z.m(w,null))),O!==(O=j(F))&&(U.d(1),U=O(F),U&&(U.c(),U.m(k,null))),(!B||Q&2048)&&V!==(V=F[11].t("API Key")+"")&&z(D,V);let te=$;$=J(F),$===te?K[$].p(F,Q):(Ct(),oe(K[te],1,1,()=>{K[te]=null}),Mt(),W=K[$],W?W.p(F,Q):(W=K[$]=P[$](F),W.c()),re(W,1),W.m(C,null))},i(F){B||(re(W),B=!0)},o(F){oe(W),B=!1},d(F){F&&i(e),Z.d(),U.d(),K[$].d(),G=!1,et(Y)}}}function Dr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{d:!0}),v(t).forEach(i),l=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){R(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Tr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(n,"path",{d:!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){R(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Vr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){R(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Cr(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,a){R(l,e,a),r(e,t)},d(l){l&&i(e)}}}function Mr(s){let e,t,l,a=s[11].t("Create new secret key")+"",n,c,u,f;return t=new Ir({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=d("button"),Te(t.$$.fragment),l=M(),n=H(a),this.h()},l(_){e=h(_,"BUTTON",{class:!0});var g=v(e);Ve(t.$$.fragment,g),l=A(g),n=N(g,a),g.forEach(i),this.h()},h(){o(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(_,g){R(_,e,g),Ce(t,e,null),r(e,l),r(e,n),c=!0,u||(f=le(e,"click",s[28]),u=!0)},p(_,g){(!c||g&2048)&&a!==(a=_[11].t("Create new secret key")+"")&&z(n,a)},i(_){c||(re(t.$$.fragment,_),c=!0)},o(_){oe(t.$$.fragment,_),c=!1},d(_){_&&i(e),Me(t),u=!1,f()}}}function Ar(s){let e,t,l,a,n,c,u,f,_,g,p,m;function w(I,V){return I[7]?xr:Sr}let b=w(s),k=b(s);function E(I,V){return I[8]?Br:Lr}let y=E(s),T=y(s);return _=new Gt({props:{content:s[11].t("Create new key"),$$slots:{default:[Hr]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("input"),a=M(),n=d("button"),k.c(),c=M(),u=d("button"),T.c(),f=M(),Te(_.$$.fragment),this.h()},l(I){e=h(I,"DIV",{class:!0});var V=v(e);t=h(V,"INPUT",{class:!0,type:!0}),a=A(V),n=h(V,"BUTTON",{class:!0});var D=v(n);k.l(D),D.forEach(i),V.forEach(i),c=A(I),u=h(I,"BUTTON",{class:!0});var S=v(u);T.l(S),S.forEach(i),f=A(I),Ve(_.$$.fragment,I),this.h()},h(){o(t,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"type",l=s[7]?"text":"password"),t.value=s[6],t.disabled=!0,o(n,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(e,"class","flex w-full"),o(u,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(I,V){R(I,e,V),r(e,t),r(e,a),r(e,n),k.m(n,null),R(I,c,V),R(I,u,V),T.m(u,null),R(I,f,V),Ce(_,I,V),g=!0,p||(m=[le(n,"click",s[25]),le(u,"click",s[26])],p=!0)},p(I,V){(!g||V&128&&l!==(l=I[7]?"text":"password"))&&o(t,"type",l),(!g||V&64&&t.value!==I[6])&&(t.value=I[6]),b!==(b=w(I))&&(k.d(1),k=b(I),k&&(k.c(),k.m(n,null))),y!==(y=E(I))&&(T.d(1),T=y(I),T&&(T.c(),T.m(u,null)));const D={};V&2048&&(D.content=I[11].t("Create new key")),V&1073741824&&(D.$$scope={dirty:V,ctx:I}),_.$set(D)},i(I){g||(re(_.$$.fragment,I),g=!0)},o(I){oe(_.$$.fragment,I),g=!1},d(I){I&&(i(e),i(c),i(u),i(f)),k.d(),T.d(),Me(_,I),p=!1,et(m)}}}function Sr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{d:!0}),v(t).forEach(i),l=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){R(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function xr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(n,"path",{d:!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){R(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Lr(s){let e,t,l;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,n){R(a,e,n),r(e,t),r(e,l)},d(a){a&&i(e)}}}function Br(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,a){R(l,e,a),r(e,t)},d(l){l&&i(e)}}}function Hr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=h(n,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-olpspw"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(n,c){R(n,e,c),l||(a=le(e,"click",s[27]),l=!0)},p:Ye,d(n){n&&i(e),l=!1,a()}}}function Nr(s){let e,t,l,a,n,c,u,f,_,g,p,m,w,b='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',k,E,y,T=s[11].t("Profile Image")+"",I,V,D,S,C=s[11].t("Use Initials")+"",$,W,B,G=s[11].t("Use Gravatar")+"",Y,L,x,Z=s[11].t("Remove")+"",j,O,U,P,K,J=s[11].t("Name")+"",F,Q,te,ae,ce,ne,_e,Ae,pe,ie,ue,ge,ee=s[11].t("API keys")+"",se,fe,me,Ne=(s[3]?s[11].t("Hide"):s[11].t("Show"))+"",be,Fe,Se,xe,X,q=s[11].t("Save")+"",de,ke,Be,Ee;_e=new kr({});let ye=s[3]&&is(s);return{c(){e=d("div"),t=d("div"),l=d("input"),a=M(),n=d("div"),c=d("div"),u=d("div"),f=d("div"),_=d("button"),g=d("img"),m=M(),w=d("div"),w.innerHTML=b,k=M(),E=d("div"),y=d("div"),I=H(T),V=M(),D=d("div"),S=d("button"),$=H(C),W=M(),B=d("button"),Y=H(G),L=M(),x=d("button"),j=H(Z),O=M(),U=d("div"),P=d("div"),K=d("div"),F=H(J),Q=M(),te=d("div"),ae=d("input"),ce=M(),ne=d("div"),Te(_e.$$.fragment),Ae=M(),pe=d("hr"),ie=M(),ue=d("div"),ge=d("div"),se=H(ee),fe=M(),me=d("button"),be=H(Ne),Fe=M(),ye&&ye.c(),Se=M(),xe=d("div"),X=d("button"),de=H(q),this.h()},l(De){e=h(De,"DIV",{class:!0});var Ie=v(e);t=h(Ie,"DIV",{class:!0});var $e=v(t);l=h($e,"INPUT",{id:!0,type:!0,accept:!0}),a=A($e),n=h($e,"DIV",{class:!0});var nt=v(n);c=h(nt,"DIV",{class:!0});var st=v(c);u=h(st,"DIV",{class:!0});var ot=v(u);f=h(ot,"DIV",{class:!0});var gt=v(f);_=h(gt,"BUTTON",{class:!0,type:!0});var Je=v(_);g=h(Je,"IMG",{src:!0,alt:!0,class:!0}),m=A(Je),w=h(Je,"DIV",{class:!0,"data-svelte-h":!0}),He(w)!=="svelte-11ivb2j"&&(w.innerHTML=b),Je.forEach(i),gt.forEach(i),ot.forEach(i),k=A(st),E=h(st,"DIV",{class:!0});var wt=v(E);y=h(wt,"DIV",{class:!0});var Tt=v(y);I=N(Tt,T),Tt.forEach(i),V=A(wt),D=h(wt,"DIV",{});var tt=v(D);S=h(tt,"BUTTON",{class:!0});var ze=v(S);$=N(ze,C),ze.forEach(i),W=A(tt),B=h(tt,"BUTTON",{class:!0});var We=v(B);Y=N(We,G),We.forEach(i),L=A(tt),x=h(tt,"BUTTON",{class:!0});var Xe=v(x);j=N(Xe,Z),Xe.forEach(i),tt.forEach(i),wt.forEach(i),st.forEach(i),O=A(nt),U=h(nt,"DIV",{class:!0});var it=v(U);P=h(it,"DIV",{class:!0});var ft=v(P);K=h(ft,"DIV",{class:!0});var Le=v(K);F=N(Le,J),Le.forEach(i),Q=A(ft),te=h(ft,"DIV",{class:!0});var we=v(te);ae=h(we,"INPUT",{class:!0,type:!0}),we.forEach(i),ft.forEach(i),it.forEach(i),nt.forEach(i),ce=A($e),ne=h($e,"DIV",{class:!0});var Oe=v(ne);Ve(_e.$$.fragment,Oe),Oe.forEach(i),Ae=A($e),pe=h($e,"HR",{class:!0}),ie=A($e),ue=h($e,"DIV",{class:!0});var Ze=v(ue);ge=h(Ze,"DIV",{class:!0});var ve=v(ge);se=N(ve,ee),ve.forEach(i),fe=A(Ze),me=h(Ze,"BUTTON",{class:!0,type:!0});var Ke=v(me);be=N(Ke,Ne),Ke.forEach(i),Ze.forEach(i),Fe=A($e),ye&&ye.l($e),$e.forEach(i),Se=A(Ie),xe=h(Ie,"DIV",{class:!0});var dt=v(xe);X=h(dt,"BUTTON",{class:!0});var bt=v(X);de=N(bt,q),bt.forEach(i),dt.forEach(i),Ie.forEach(i),this.h()},h(){o(l,"id","profile-image-input"),o(l,"type","file"),l.hidden=!0,o(l,"accept","image/*"),ml(g.src,p=s[1]!==""?s[1]:al(s[2]))||o(g,"src",p),o(g,"alt","profile"),o(g,"class","rounded-full size-16 object-cover"),o(w,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(_,"class","relative rounded-full dark:bg-gray-700"),o(_,"type","button"),o(f,"class","self-center mt-2"),o(u,"class","flex flex-col"),o(y,"class","mb-0.5 text-sm font-medium"),o(S,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(B,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(x,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),o(E,"class","flex-1 flex flex-col self-center gap-0.5"),o(c,"class","flex space-x-5"),o(K,"class","mb-1 text-xs font-medium"),o(ae,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(ae,"type","text"),ae.required=!0,o(te,"class","flex-1"),o(P,"class","flex flex-col w-full"),o(U,"class","pt-0.5"),o(n,"class","space-y-1"),o(ne,"class","py-0.5"),o(pe,"class","dark:border-gray-850 my-4"),o(ge,"class","font-medium"),o(me,"class","text-xs font-medium text-gray-500"),o(me,"type","button"),o(ue,"class","flex justify-between items-center text-sm"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(X,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(xe,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(De,Ie){R(De,e,Ie),r(e,t),r(t,l),s[15](l),r(t,a),r(t,n),r(n,c),r(c,u),r(u,f),r(f,_),r(_,g),r(_,m),r(_,w),r(c,k),r(c,E),r(E,y),r(y,I),r(E,V),r(E,D),r(D,S),r(S,$),r(D,W),r(D,B),r(B,Y),r(D,L),r(D,x),r(x,j),r(n,O),r(n,U),r(U,P),r(P,K),r(K,F),r(P,Q),r(P,te),r(te,ae),qe(ae,s[2]),r(t,ce),r(t,ne),Ce(_e,ne,null),r(t,Ae),r(t,pe),r(t,ie),r(t,ue),r(ue,ge),r(ge,se),r(ue,fe),r(ue,me),r(me,be),r(t,Fe),ye&&ye.m(t,null),r(e,Se),r(e,xe),r(xe,X),r(X,de),ke=!0,Be||(Ee=[le(l,"change",s[16]),le(_,"click",s[17]),le(S,"click",s[18]),le(B,"click",s[19]),le(x,"click",s[20]),le(ae,"input",s[21]),le(me,"click",s[22]),le(X,"click",s[29])],Be=!0)},p(De,[Ie]){(!ke||Ie&6&&!ml(g.src,p=De[1]!==""?De[1]:al(De[2])))&&o(g,"src",p),(!ke||Ie&2048)&&T!==(T=De[11].t("Profile Image")+"")&&z(I,T),(!ke||Ie&2048)&&C!==(C=De[11].t("Use Initials")+"")&&z($,C),(!ke||Ie&2048)&&G!==(G=De[11].t("Use Gravatar")+"")&&z(Y,G),(!ke||Ie&2048)&&Z!==(Z=De[11].t("Remove")+"")&&z(j,Z),(!ke||Ie&2048)&&J!==(J=De[11].t("Name")+"")&&z(F,J),Ie&4&&ae.value!==De[2]&&qe(ae,De[2]),(!ke||Ie&2048)&&ee!==(ee=De[11].t("API keys")+"")&&z(se,ee),(!ke||Ie&2056)&&Ne!==(Ne=(De[3]?De[11].t("Hide"):De[11].t("Show"))+"")&&z(be,Ne),De[3]?ye?(ye.p(De,Ie),Ie&8&&re(ye,1)):(ye=is(De),ye.c(),re(ye,1),ye.m(t,null)):ye&&(Ct(),oe(ye,1,1,()=>{ye=null}),Mt()),(!ke||Ie&2048)&&q!==(q=De[11].t("Save")+"")&&z(de,q)},i(De){ke||(re(_e.$$.fragment,De),re(ye),ke=!0)},o(De){oe(_e.$$.fragment,De),oe(ye),ke=!1},d(De){De&&i(e),s[15](null),Me(_e),ye&&ye.d(),Be=!1,et(Ee)}}}function Or(s,e,t){let l,a;Ue(s,ol,O=>t(10,l=O));const n=Et("i18n");Ue(s,n,O=>t(11,a=O));let{saveHandler:c}=e,u="",f="",_=!1,g=!1,p=!1,m="",w=!1,b=!1,k;const E=async()=>{f!==l.name&&(u===al(l.name)||u==="")&&t(1,u=al(f));const O=await Oa(localStorage.token,f,u).catch(U=>{Qe.error(U)});return O?(await ol.set(O),!0):!1},y=async()=>{t(6,m=await Ua(localStorage.token)),m?Qe.success(a.t("API Key created.")):Qe.error(a.t("Failed to create API Key."))};Bt(async()=>{t(2,f=l.name),t(1,u=l.profile_image_url),t(6,m=await Na(localStorage.token).catch(O=>(console.log(O),"")))});function T(O){yt[O?"unshift":"push"](()=>{k=O,t(9,k)})}const I=O=>{const U=k.files??[];let P=new FileReader;P.onload=K=>{let J=`${K.target.result}`;const F=new Image;F.src=J,F.onload=function(){const Q=document.createElement("canvas"),te=Q.getContext("2d"),ae=F.width/F.height;let ce,ne;ae>1?(ce=100*ae,ne=100):(ce=100,ne=100/ae),Q.width=100,Q.height=100;const _e=(100-ce)/2,Ae=(100-ne)/2;te.drawImage(F,_e,Ae,ce,ne);const pe=Q.toDataURL("image/jpeg");t(1,u=pe),t(9,k.files=null,k)}},U.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(U[0].type)&&P.readAsDataURL(U[0])},V=()=>{k.click()},D=async()=>{za()?t(1,u=al(f)):Qe.info(a.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},S=async()=>{const O=await ja(l.email);t(1,u=O)},C=async()=>{t(1,u="/user.png")};function $(){f=this.value,t(2,f)}const W=()=>{t(3,_=!_)},B=()=>{t(4,g=!g)},G=()=>{ls(localStorage.token),t(5,p=!0),setTimeout(()=>{t(5,p=!1)},2e3)},Y=()=>{t(7,w=!w)},L=()=>{ls(m),t(8,b=!0),setTimeout(()=>{t(8,b=!1)},2e3)},x=()=>{y()},Z=()=>{y()},j=async()=>{await E()&&c()};return s.$$set=O=>{"saveHandler"in O&&t(0,c=O.saveHandler)},[c,u,f,_,g,p,m,w,b,k,l,a,n,E,y,T,I,V,D,S,C,$,W,B,G,Y,L,x,Z,j]}class Ur extends mt{constructor(e){super(),pt(this,e,Or,Nr,_t,{saveHandler:0})}}function Pr(s){let e,t;return{c(){e=H("v"),t=H(Qt)},l(l){e=N(l,"v"),t=N(l,Qt)},m(l,a){R(l,e,a),R(l,t,a)},p:Ye,d(l){l&&(i(e),i(t))}}}function cs(s){let e,t,l,a,n=s[4].t("Ollama Version")+"",c,u,f,_,g=(s[0]??"N/A")+"",p;return{c(){e=d("hr"),t=M(),l=d("div"),a=d("div"),c=H(n),u=M(),f=d("div"),_=d("div"),p=H(g),this.h()},l(m){e=h(m,"HR",{class:!0}),t=A(m),l=h(m,"DIV",{});var w=v(l);a=h(w,"DIV",{class:!0});var b=v(a);c=N(b,n),b.forEach(i),u=A(w),f=h(w,"DIV",{class:!0});var k=v(f);_=h(k,"DIV",{class:!0});var E=v(_);p=N(E,g),E.forEach(i),k.forEach(i),w.forEach(i),this.h()},h(){o(e,"class","dark:border-gray-850"),o(a,"class","mb-2.5 text-sm font-medium"),o(_,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),o(f,"class","flex w-full")},m(m,w){R(m,e,w),R(m,t,w),R(m,l,w),r(l,a),r(a,c),r(l,u),r(l,f),r(f,_),r(_,p)},p(m,w){w&16&&n!==(n=m[4].t("Ollama Version")+"")&&z(c,n),w&1&&g!==(g=(m[0]??"N/A")+"")&&z(p,g)},d(m){m&&(i(e),i(t),i(l))}}}function us(s){let e,t,l;return{c(){e=d("span"),t=H(s[3]),l=H(` -
			`),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);t=N(n,s[3]),n.forEach(i),l=N(a,` -
			`),this.h()},h(){o(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(a,n){R(a,e,n),r(e,t),R(a,l,n)},p(a,n){n&8&&z(t,a[3])},d(a){a&&(i(e),i(l))}}}function jr(s){let e,t,l,a,n,c,u,f=s[4].t("Version")+"",_,g,p,m,w,b,k,E,y=(s[1]===null?s[4].t("Checking for updates..."):s[1]?`(v${s[2].latest} ${s[4].t("available!")})`:s[4].t("(latest)"))+"",T,I,V,D,S,C=s[4].t("See what's new")+"",$,W,B,G=s[4].t("Check for updates")+"",Y,L,x,Z,j,O,U='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',P,K,J=!s[3].includes("Open WebUI"),F=s[4].t("Created by")+"",Q,te,ae,ce="Timothy J. Baek",ne,_e,Ae;b=new Gt({props:{content:Ma,$$slots:{default:[Pr]},$$scope:{ctx:s}}});let pe=s[0]&&cs(s),ie=J&&us(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=d("div"),c=H(s[3]),u=M(),_=H(f),g=M(),p=d("div"),m=d("div"),w=d("div"),Te(b.$$.fragment),k=M(),E=d("a"),T=H(y),V=M(),D=d("button"),S=d("div"),$=H(C),W=M(),B=d("button"),Y=H(G),L=M(),pe&&pe.c(),x=M(),Z=d("hr"),j=M(),O=d("div"),O.innerHTML=U,P=M(),K=d("div"),ie&&ie.c(),Q=H(F),te=M(),ae=d("a"),ae.textContent=ce,this.h()},l(ue){e=h(ue,"DIV",{class:!0});var ge=v(e);t=h(ge,"DIV",{class:!0});var ee=v(t);l=h(ee,"DIV",{});var se=v(l);a=h(se,"DIV",{class:!0});var fe=v(a);n=h(fe,"DIV",{});var me=v(n);c=N(me,s[3]),u=A(me),_=N(me,f),me.forEach(i),fe.forEach(i),g=A(se),p=h(se,"DIV",{class:!0});var Ne=v(p);m=h(Ne,"DIV",{class:!0});var be=v(m);w=h(be,"DIV",{class:!0});var Fe=v(w);Ve(b.$$.fragment,Fe),k=A(Fe),E=h(Fe,"A",{href:!0,target:!0});var Se=v(E);T=N(Se,y),Se.forEach(i),Fe.forEach(i),V=A(be),D=h(be,"BUTTON",{class:!0});var xe=v(D);S=h(xe,"DIV",{});var X=v(S);$=N(X,C),X.forEach(i),xe.forEach(i),be.forEach(i),W=A(Ne),B=h(Ne,"BUTTON",{class:!0});var q=v(B);Y=N(q,G),q.forEach(i),Ne.forEach(i),se.forEach(i),L=A(ee),pe&&pe.l(ee),x=A(ee),Z=h(ee,"HR",{class:!0}),j=A(ee),O=h(ee,"DIV",{class:!0,"data-svelte-h":!0}),He(O)!=="svelte-1hy20dm"&&(O.innerHTML=U),P=A(ee),K=h(ee,"DIV",{class:!0});var de=v(K);ie&&ie.l(de),Q=N(de,F),te=A(de),ae=h(de,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),He(ae)!=="svelte-1tvrifl"&&(ae.textContent=ce),de.forEach(i),ee.forEach(i),ge.forEach(i),this.h()},h(){o(a,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),o(E,"href",I="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),o(E,"target","_blank"),o(w,"class","flex gap-1"),o(D,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),o(m,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(B,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),o(p,"class","flex w-full justify-between items-center"),o(Z,"class","dark:border-gray-850"),o(O,"class","flex space-x-1"),o(ae,"class","text-gray-500 dark:text-gray-300 font-medium"),o(ae,"href","https://github.com/tjbck"),o(ae,"target","_blank"),o(K,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","space-y-3"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(ue,ge){R(ue,e,ge),r(e,t),r(t,l),r(l,a),r(a,n),r(n,c),r(n,u),r(n,_),r(l,g),r(l,p),r(p,m),r(m,w),Ce(b,w,null),r(w,k),r(w,E),r(E,T),r(m,V),r(m,D),r(D,S),r(S,$),r(p,W),r(p,B),r(B,Y),r(t,L),pe&&pe.m(t,null),r(t,x),r(t,Z),r(t,j),r(t,O),r(t,P),r(t,K),ie&&ie.m(K,null),r(K,Q),r(K,te),r(K,ae),ne=!0,_e||(Ae=[le(D,"click",s[7]),le(B,"click",s[8])],_e=!0)},p(ue,[ge]){(!ne||ge&8)&&z(c,ue[3]),(!ne||ge&16)&&f!==(f=ue[4].t("Version")+"")&&z(_,f);const ee={};ge&512&&(ee.$$scope={dirty:ge,ctx:ue}),b.$set(ee),(!ne||ge&22)&&y!==(y=(ue[1]===null?ue[4].t("Checking for updates..."):ue[1]?`(v${ue[2].latest} ${ue[4].t("available!")})`:ue[4].t("(latest)"))+"")&&z(T,y),(!ne||ge&4&&I!==(I="https://github.com/open-webui/open-webui/releases/tag/v"+ue[2].latest))&&o(E,"href",I),(!ne||ge&16)&&C!==(C=ue[4].t("See what's new")+"")&&z($,C),(!ne||ge&16)&&G!==(G=ue[4].t("Check for updates")+"")&&z(Y,G),ue[0]?pe?pe.p(ue,ge):(pe=cs(ue),pe.c(),pe.m(t,x)):pe&&(pe.d(1),pe=null),ge&8&&(J=!ue[3].includes("Open WebUI")),J?ie?ie.p(ue,ge):(ie=us(ue),ie.c(),ie.m(K,Q)):ie&&(ie.d(1),ie=null),(!ne||ge&16)&&F!==(F=ue[4].t("Created by")+"")&&z(Q,F)},i(ue){ne||(re(b.$$.fragment,ue),ne=!0)},o(ue){oe(b.$$.fragment,ue),ne=!1},d(ue){ue&&i(e),Me(b),pe&&pe.d(),ie&&ie.d(),_e=!1,et(Ae)}}}function zr(s,e,t){let l,a;Ue(s,ua,m=>t(3,l=m));const n=Et("i18n");Ue(s,n,m=>t(4,a=m));let c="",u=null,f={current:"",latest:""};const _=async()=>{t(1,u=null),t(2,f=await ma().catch(m=>({current:Qt,latest:Qt}))),console.log(f),t(1,u=Za(f.latest,f.current)),console.log(u)};return Bt(async()=>{t(0,c=await Wa(localStorage.token).catch(m=>"")),_()}),[c,u,f,l,a,n,_,()=>{_l.set(!0)},()=>{_()}]}class Zr extends mt{constructor(e){super(),pt(this,e,zr,jr,_t,{})}}function fs(s,e,t){const l=s.slice();return l[32]=e[t],l}function ds(s){let e,t=s[32].title+"",l,a;return{c(){e=d("option"),l=H(t),this.h()},l(n){e=h(n,"OPTION",{});var c=v(e);l=N(c,t),c.forEach(i),this.h()},h(){e.__value=a=s[32].code,qe(e,e.__value)},m(n,c){R(n,e,c),r(e,l)},p(n,c){c[0]&4&&t!==(t=n[32].title+"")&&z(l,t),c[0]&4&&a!==(a=n[32].code)&&(e.__value=a,qe(e,e.__value))},d(n){n&&i(e)}}}function hs(s){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){o(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,a){R(l,e,a)},d(l){l&&i(e)}}}function Rr(s){let e,t=s[10].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function $r(s){let e,t=s[10].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function vs(s){let e,t,l,a,n,c,u,f,_=s[10].t("Keep Alive")+"",g,p,m,w,b,k,E,y,T=s[10].t("Request Mode")+"",I,V,D,S,C,$;function W(U){s[24](U)}let B={};s[9]!==void 0&&(B.params=s[9]),e=new Ya({props:B}),yt.push(()=>Dt(e,"params",W));function G(U,P){return U[8]===null?qr:Wr}let Y=G(s),L=Y(s),x=s[8]!==null&&_s(s);function Z(U,P){if(U[7]==="")return Fr;if(U[7]==="json")return Yr}let j=Z(s),O=j&&j(s);return{c(){Te(e.$$.fragment),l=M(),a=d("hr"),n=M(),c=d("div"),u=d("div"),f=d("div"),g=H(_),p=M(),m=d("button"),L.c(),w=M(),x&&x.c(),b=M(),k=d("div"),E=d("div"),y=d("div"),I=H(T),V=M(),D=d("button"),O&&O.c(),this.h()},l(U){Ve(e.$$.fragment,U),l=A(U),a=h(U,"HR",{class:!0}),n=A(U),c=h(U,"DIV",{class:!0});var P=v(c);u=h(P,"DIV",{class:!0});var K=v(u);f=h(K,"DIV",{class:!0});var J=v(f);g=N(J,_),J.forEach(i),p=A(K),m=h(K,"BUTTON",{class:!0,type:!0});var F=v(m);L.l(F),F.forEach(i),K.forEach(i),w=A(P),x&&x.l(P),P.forEach(i),b=A(U),k=h(U,"DIV",{});var Q=v(k);E=h(Q,"DIV",{class:!0});var te=v(E);y=h(te,"DIV",{class:!0});var ae=v(y);I=N(ae,T),ae.forEach(i),V=A(te),D=h(te,"BUTTON",{class:!0});var ce=v(D);O&&O.l(ce),ce.forEach(i),te.forEach(i),Q.forEach(i),this.h()},h(){o(a,"class","dark:border-gray-850"),o(f,"class","self-center text-xs font-medium"),o(m,"class","p-1 px-3 text-xs flex rounded transition"),o(m,"type","button"),o(u,"class","flex w-full justify-between"),o(c,"class","py-1 w-full justify-between"),o(y,"class","self-center text-sm font-medium"),o(D,"class","p-1 px-3 text-xs flex rounded transition"),o(E,"class","py-1 flex w-full justify-between")},m(U,P){Ce(e,U,P),R(U,l,P),R(U,a,P),R(U,n,P),R(U,c,P),r(c,u),r(u,f),r(f,g),r(u,p),r(u,m),L.m(m,null),r(c,w),x&&x.m(c,null),R(U,b,P),R(U,k,P),r(k,E),r(E,y),r(y,I),r(E,V),r(E,D),O&&O.m(D,null),S=!0,C||($=[le(m,"click",s[25]),le(D,"click",s[27])],C=!0)},p(U,P){const K={};!t&&P[0]&512&&(t=!0,K.params=U[9],It(()=>t=!1)),e.$set(K),(!S||P[0]&1024)&&_!==(_=U[10].t("Keep Alive")+"")&&z(g,_),Y===(Y=G(U))&&L?L.p(U,P):(L.d(1),L=Y(U),L&&(L.c(),L.m(m,null))),U[8]!==null?x?x.p(U,P):(x=_s(U),x.c(),x.m(c,null)):x&&(x.d(1),x=null),(!S||P[0]&1024)&&T!==(T=U[10].t("Request Mode")+"")&&z(I,T),j===(j=Z(U))&&O?O.p(U,P):(O&&O.d(1),O=j&&j(U),O&&(O.c(),O.m(D,null)))},i(U){S||(re(e.$$.fragment,U),S=!0)},o(U){oe(e.$$.fragment,U),S=!1},d(U){U&&(i(l),i(a),i(n),i(c),i(b),i(k)),Me(e,U),L.d(),x&&x.d(),O&&O.d(),C=!1,et($)}}}function Wr(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("Custom")+"")&&z(l,t)},d(a){a&&i(e)}}}function qr(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("Default")+"")&&z(l,t)},d(a){a&&i(e)}}}function _s(s){let e,t,l,a,n;return{c(){e=d("div"),t=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var u=v(e);t=h(u,"INPUT",{class:!0,type:!0,placeholder:!0}),u.forEach(i),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"type","text"),o(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),o(e,"class","flex mt-1 space-x-2")},m(c,u){R(c,e,u),r(e,t),qe(t,s[8]),a||(n=le(t,"input",s[26]),a=!0)},p(c,u){u[0]&1024&&l!==(l=c[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&o(t,"placeholder",l),u[0]&256&&t.value!==c[8]&&qe(t,c[8])},d(c){c&&i(e),a=!1,n()}}}function Yr(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("JSON")+"")&&z(l,t)},d(a){a&&i(e)}}}function Fr(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&1024&&t!==(t=a[10].t("Default")+"")&&z(l,t)},d(a){a&&i(e)}}}function Gr(s){let e,t,l,a,n=s[10].t("WebUI Settings")+"",c,u,f,_,g=s[10].t("Theme")+"",p,m,w,b,k,E,y=s[10].t("System")+"",T,I,V,D=s[10].t("Dark")+"",S,C,$,W=s[10].t("OLED Dark")+"",B,G,Y,L=s[10].t("Light")+"",x,Z,j,O,U=s[10].t("Language")+"",P,K,J,F,Q,te,ae,ce,ne,_e=s[10].t("Notifications")+"",Ae,pe,ie,ue,ge,ee,se,fe,me=s[10].t("System Prompt")+"",Ne,be,Fe,Se,xe,X,q,de=s[10].t("Advanced Parameters")+"",ke,Be,Ee,ye=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",De,Ie,$e,nt,st,ot=s[10].t("Save")+"",gt,Je,wt,Tt,tt=rt(s[2]),ze=[];for(let we=0;we<tt.length;we+=1)ze[we]=ds(fs(s,tt,we));let We=s[10].language==="en-US"&&hs();function Xe(we,Oe){return we[4]===!0?$r:Rr}let it=Xe(s),ft=it(s),Le=s[6]&&vs(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),c=H(n),u=M(),f=d("div"),_=d("div"),p=H(g),m=M(),w=d("div"),b=d("select"),k=d("option"),E=H("⚙️ "),T=H(y),I=d("option"),V=H("🌑 "),S=H(D),C=d("option"),$=H("🌃 "),B=H(W),G=d("option"),Y=H("☀️ "),x=H(L),Z=M(),j=d("div"),O=d("div"),P=H(U),K=M(),J=d("div"),F=d("select");for(let we=0;we<ze.length;we+=1)ze[we].c();Q=M(),We&&We.c(),te=M(),ae=d("div"),ce=d("div"),ne=d("div"),Ae=H(_e),pe=M(),ie=d("button"),ft.c(),ue=M(),ge=d("hr"),ee=M(),se=d("div"),fe=d("div"),Ne=H(me),be=M(),Fe=d("textarea"),Se=M(),xe=d("div"),X=d("div"),q=d("div"),ke=H(de),Be=M(),Ee=d("button"),De=H(ye),Ie=M(),Le&&Le.c(),$e=M(),nt=d("div"),st=d("button"),gt=H(ot),this.h()},l(we){e=h(we,"DIV",{class:!0});var Oe=v(e);t=h(Oe,"DIV",{class:!0});var Ze=v(t);l=h(Ze,"DIV",{class:!0});var ve=v(l);a=h(ve,"DIV",{class:!0});var Ke=v(a);c=N(Ke,n),Ke.forEach(i),u=A(ve),f=h(ve,"DIV",{class:!0});var dt=v(f);_=h(dt,"DIV",{class:!0});var bt=v(_);p=N(bt,g),bt.forEach(i),m=A(dt),w=h(dt,"DIV",{class:!0});var at=v(w);b=h(at,"SELECT",{class:!0,placeholder:!0});var lt=v(b);k=h(lt,"OPTION",{});var At=v(k);E=N(At,"⚙️ "),T=N(At,y),At.forEach(i),I=h(lt,"OPTION",{});var kt=v(I);V=N(kt,"🌑 "),S=N(kt,D),kt.forEach(i),C=h(lt,"OPTION",{});var Nt=v(C);$=N(Nt,"🌃 "),B=N(Nt,W),Nt.forEach(i),G=h(lt,"OPTION",{});var Ot=v(G);Y=N(Ot,"☀️ "),x=N(Ot,L),Ot.forEach(i),lt.forEach(i),at.forEach(i),dt.forEach(i),Z=A(ve),j=h(ve,"DIV",{class:!0});var ht=v(j);O=h(ht,"DIV",{class:!0});var xt=v(O);P=N(xt,U),xt.forEach(i),K=A(ht),J=h(ht,"DIV",{class:!0});var ct=v(J);F=h(ct,"SELECT",{class:!0,placeholder:!0});var he=v(F);for(let Jt=0;Jt<ze.length;Jt+=1)ze[Jt].l(he);he.forEach(i),ct.forEach(i),ht.forEach(i),Q=A(ve),We&&We.l(ve),te=A(ve),ae=h(ve,"DIV",{});var Re=v(ae);ce=h(Re,"DIV",{class:!0});var Ge=v(ce);ne=h(Ge,"DIV",{class:!0});var ut=v(ne);Ae=N(ut,_e),ut.forEach(i),pe=A(Ge),ie=h(Ge,"BUTTON",{class:!0,type:!0});var zt=v(ie);ft.l(zt),zt.forEach(i),Ge.forEach(i),Re.forEach(i),ve.forEach(i),ue=A(Ze),ge=h(Ze,"HR",{class:!0}),ee=A(Ze),se=h(Ze,"DIV",{});var Zt=v(se);fe=h(Zt,"DIV",{class:!0});var Lt=v(fe);Ne=N(Lt,me),Lt.forEach(i),be=A(Zt),Fe=h(Zt,"TEXTAREA",{class:!0,rows:!0}),v(Fe).forEach(i),Zt.forEach(i),Se=A(Ze),xe=h(Ze,"DIV",{class:!0});var Rt=v(xe);X=h(Rt,"DIV",{class:!0});var $t=v(X);q=h($t,"DIV",{class:!0});var el=v(q);ke=N(el,de),el.forEach(i),Be=A($t),Ee=h($t,"BUTTON",{class:!0,type:!0});var Ft=v(Ee);De=N(Ft,ye),Ft.forEach(i),$t.forEach(i),Ie=A(Rt),Le&&Le.l(Rt),Rt.forEach(i),Ze.forEach(i),$e=A(Oe),nt=h(Oe,"DIV",{class:!0});var tl=v(nt);st=h(tl,"BUTTON",{class:!0});var ll=v(st);gt=N(ll,ot),ll.forEach(i),tl.forEach(i),Oe.forEach(i),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),k.__value="system",qe(k,k.__value),I.__value="dark",qe(I,I.__value),C.__value="oled-dark",qe(C,C.__value),G.__value="light",qe(G,G.__value),o(b,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a theme"),s[1]===void 0&&rl(()=>s[17].call(b)),o(w,"class","flex items-center relative"),o(f,"class","flex w-full justify-between"),o(O,"class","self-center text-xs font-medium"),o(F,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(F,"placeholder","Select a language"),s[3]===void 0&&rl(()=>s[19].call(F)),o(J,"class","flex items-center relative"),o(j,"class","flex w-full justify-between"),o(ne,"class","self-center text-xs font-medium"),o(ie,"class","p-1 px-3 text-xs flex rounded transition"),o(ie,"type","button"),o(ce,"class","py-0.5 flex w-full justify-between"),o(l,"class",""),o(ge,"class","dark:border-gray-850 my-3"),o(fe,"class","my-2.5 text-sm font-medium"),o(Fe,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(Fe,"rows","4"),o(q,"class","font-medium"),o(Ee,"class","text-xs font-medium text-gray-500"),o(Ee,"type","button"),o(X,"class","flex justify-between items-center text-sm"),o(xe,"class","mt-2 space-y-3 pr-1.5"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),o(st,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(nt,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(we,Oe){R(we,e,Oe),r(e,t),r(t,l),r(l,a),r(a,c),r(l,u),r(l,f),r(f,_),r(_,p),r(f,m),r(f,w),r(w,b),r(b,k),r(k,E),r(k,T),r(b,I),r(I,V),r(I,S),r(b,C),r(C,$),r(C,B),r(b,G),r(G,Y),r(G,x),Wt(b,s[1],!0),r(l,Z),r(l,j),r(j,O),r(O,P),r(j,K),r(j,J),r(J,F);for(let Ze=0;Ze<ze.length;Ze+=1)ze[Ze]&&ze[Ze].m(F,null);Wt(F,s[3],!0),r(l,Q),We&&We.m(l,null),r(l,te),r(l,ae),r(ae,ce),r(ce,ne),r(ne,Ae),r(ce,pe),r(ce,ie),ft.m(ie,null),r(t,ue),r(t,ge),r(t,ee),r(t,se),r(se,fe),r(fe,Ne),r(se,be),r(se,Fe),qe(Fe,s[5]),r(t,Se),r(t,xe),r(xe,X),r(X,q),r(q,ke),r(X,Be),r(X,Ee),r(Ee,De),r(xe,Ie),Le&&Le.m(xe,null),r(e,$e),r(e,nt),r(nt,st),r(st,gt),Je=!0,wt||(Tt=[le(b,"change",s[17]),le(b,"change",s[18]),le(F,"change",s[19]),le(F,"change",s[20]),le(ie,"click",s[21]),le(Fe,"input",s[22]),le(Ee,"click",s[23]),le(st,"click",s[28])],wt=!0)},p(we,Oe){if((!Je||Oe[0]&1024)&&n!==(n=we[10].t("WebUI Settings")+"")&&z(c,n),(!Je||Oe[0]&1024)&&g!==(g=we[10].t("Theme")+"")&&z(p,g),(!Je||Oe[0]&1024)&&y!==(y=we[10].t("System")+"")&&z(T,y),(!Je||Oe[0]&1024)&&D!==(D=we[10].t("Dark")+"")&&z(S,D),(!Je||Oe[0]&1024)&&W!==(W=we[10].t("OLED Dark")+"")&&z(B,W),(!Je||Oe[0]&1024)&&L!==(L=we[10].t("Light")+"")&&z(x,L),Oe[0]&2&&Wt(b,we[1]),(!Je||Oe[0]&1024)&&U!==(U=we[10].t("Language")+"")&&z(P,U),Oe[0]&4){tt=rt(we[2]);let Ze;for(Ze=0;Ze<tt.length;Ze+=1){const ve=fs(we,tt,Ze);ze[Ze]?ze[Ze].p(ve,Oe):(ze[Ze]=ds(ve),ze[Ze].c(),ze[Ze].m(F,null))}for(;Ze<ze.length;Ze+=1)ze[Ze].d(1);ze.length=tt.length}Oe[0]&12&&Wt(F,we[3]),we[10].language==="en-US"?We||(We=hs(),We.c(),We.m(l,te)):We&&(We.d(1),We=null),(!Je||Oe[0]&1024)&&_e!==(_e=we[10].t("Notifications")+"")&&z(Ae,_e),it===(it=Xe(we))&&ft?ft.p(we,Oe):(ft.d(1),ft=it(we),ft&&(ft.c(),ft.m(ie,null))),(!Je||Oe[0]&1024)&&me!==(me=we[10].t("System Prompt")+"")&&z(Ne,me),Oe[0]&32&&qe(Fe,we[5]),(!Je||Oe[0]&1024)&&de!==(de=we[10].t("Advanced Parameters")+"")&&z(ke,de),(!Je||Oe[0]&1088)&&ye!==(ye=(we[6]?we[10].t("Hide"):we[10].t("Show"))+"")&&z(De,ye),we[6]?Le?(Le.p(we,Oe),Oe[0]&64&&re(Le,1)):(Le=vs(we),Le.c(),re(Le,1),Le.m(xe,null)):Le&&(Ct(),oe(Le,1,1,()=>{Le=null}),Mt()),(!Je||Oe[0]&1024)&&ot!==(ot=we[10].t("Save")+"")&&z(gt,ot)},i(we){Je||(re(Le),Je=!0)},o(we){oe(Le),Je=!1},d(we){we&&i(e),Ht(ze,we),We&&We.d(),ft.d(),Le&&Le.d(),wt=!1,et(Tt)}}}function Kr(s,e,t){let l,a;Ue(s,jt,P=>t(29,l=P));const n=Kt(),c=Et("i18n");Ue(s,c,P=>t(10,a=P));let{saveSettings:u}=e,{getModels:f}=e,_=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],g="system",p=[],m=a.language,w=!1,b="",k=!1;const E=async()=>{await Notification.requestPermission()==="granted"?(t(4,w=!w),u({notificationEnabled:w})):Qe.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let y="",T=null,I={seed:0,temperature:"",frequency_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",stop:null,tfs_z:"",num_ctx:"",max_tokens:""};const V=async()=>{y===""?t(7,y="json"):t(7,y=""),u({requestFormat:y!==""?y:void 0})};Bt(async()=>{var P,K;t(1,g=localStorage.theme??"system"),t(2,p=await qa()),t(4,w=l.notificationEnabled??!1),t(5,b=l.system??""),t(7,y=l.requestFormat??""),t(8,T=l.keepAlive??null),t(9,I.seed=l.seed??0,I),t(9,I.temperature=l.temperature??"",I),t(9,I.frequency_penalty=l.frequency_penalty??"",I),t(9,I.top_k=l.top_k??"",I),t(9,I.top_p=l.top_p??"",I),t(9,I.num_ctx=l.num_ctx??"",I),t(9,I={...I,...l.params}),t(9,I.stop=(P=l==null?void 0:l.params)!=null&&P.stop?(((K=l==null?void 0:l.params)==null?void 0:K.stop)??[]).join(","):null,I)});const D=P=>{let K=P==="oled-dark"?"dark":P;P==="system"&&(K=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K==="dark"&&!P.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),_.filter(J=>J!==K).forEach(J=>{J.split(" ").forEach(F=>{document.documentElement.classList.remove(F)})}),K.split(" ").forEach(J=>{document.documentElement.classList.add(J)}),console.log(P)},S=P=>{Aa.set(P),localStorage.setItem("theme",P),P.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),D(P)};function C(){g=nl(this),t(1,g)}const $=()=>S(g);function W(){m=nl(this),t(3,m),t(2,p)}const B=P=>{a.changeLanguage(m)},G=()=>{E()};function Y(){b=this.value,t(5,b)}const L=()=>{t(6,k=!k)};function x(P){I=P,t(9,I)}const Z=()=>{t(8,T=T===null?"5m":null)};function j(){T=this.value,t(8,T)}const O=()=>{V()},U=()=>{u({system:b!==""?b:void 0,params:{seed:(I.seed!==0?I.seed:void 0)??void 0,stop:I.stop?I.stop.split(",").filter(P=>P):void 0,temperature:I.temperature!==""?I.temperature:void 0,frequency_penalty:I.frequency_penalty!==""?I.frequency_penalty:void 0,repeat_last_n:I.repeat_last_n!==""?I.repeat_last_n:void 0,mirostat:I.mirostat!==""?I.mirostat:void 0,mirostat_eta:I.mirostat_eta!==""?I.mirostat_eta:void 0,mirostat_tau:I.mirostat_tau!==""?I.mirostat_tau:void 0,top_k:I.top_k!==""?I.top_k:void 0,top_p:I.top_p!==""?I.top_p:void 0,tfs_z:I.tfs_z!==""?I.tfs_z:void 0,num_ctx:I.num_ctx!==""?I.num_ctx:void 0,max_tokens:I.max_tokens!==""?I.max_tokens:void 0},keepAlive:T?isNaN(T)?T:parseInt(T):void 0}),n("save")};return s.$$set=P=>{"saveSettings"in P&&t(0,u=P.saveSettings),"getModels"in P&&t(16,f=P.getModels)},[u,g,p,m,w,b,k,y,T,I,a,n,c,E,V,S,f,C,$,W,B,G,Y,L,x,Z,j,O,U]}class Jr extends mt{constructor(e){super(),pt(this,e,Kr,Gr,_t,{saveSettings:0,getModels:16},null,[-1,-1])}}function ms(s,e,t){const l=s.slice();return l[30]=e[t],l}function Xr(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function Qr(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function en(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function tn(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function ln(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function sn(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function an(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function rn(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function ps(s){let e,t,l,a=s[9].t("Display the username instead of You in the Chat")+"",n,c,u,f,_;function g(w,b){return w[5]===!0?on:nn}let p=g(s),m=p(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),m.c(),this.h()},l(w){e=h(w,"DIV",{});var b=v(e);t=h(b,"DIV",{class:!0});var k=v(t);l=h(k,"DIV",{class:!0});var E=v(l);n=N(E,a),E.forEach(i),c=A(k),u=h(k,"BUTTON",{class:!0,type:!0});var y=v(u);m.l(y),y.forEach(i),k.forEach(i),b.forEach(i),this.h()},h(){o(l,"class","self-center text-xs font-medium"),o(u,"class","p-1 px-3 text-xs flex rounded transition"),o(u,"type","button"),o(t,"class","py-0.5 flex w-full justify-between")},m(w,b){R(w,e,b),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),m.m(u,null),f||(_=le(u,"click",s[26]),f=!0)},p(w,b){b[0]&512&&a!==(a=w[9].t("Display the username instead of You in the Chat")+"")&&z(n,a),p===(p=g(w))&&m?m.p(w,b):(m.d(1),m=p(w),m&&(m.c(),m.m(u,null)))},d(w){w&&i(e),m.d(),f=!1,_()}}}function nn(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function on(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function cn(s){let e,t=s[9].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function un(s){let e,t=s[9].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function fn(s){let e,t=s[9].t("RTL")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("RTL")+"")&&z(l,t)},d(a){a&&i(e)}}}function dn(s){let e,t=s[9].t("LTR")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&512&&t!==(t=a[9].t("LTR")+"")&&z(l,t)},d(a){a&&i(e)}}}function gs(s){let e,t=s[30].name+"",l,a;return{c(){e=d("option"),l=H(t),this.h()},l(n){e=h(n,"OPTION",{class:!0});var c=v(e);l=N(c,t),c.forEach(i),this.h()},h(){e.__value=a=s[30].id,qe(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,c){R(n,e,c),r(e,l)},p(n,c){c[0]&1024&&t!==(t=n[30].name+"")&&z(l,t),c[0]&1024&&a!==(a=n[30].id)&&(e.__value=a,qe(e,e.__value))},d(n){n&&i(e)}}}function hn(s){let e,t,l,a,n=s[9].t("WebUI Add-ons")+"",c,u,f,_,g,p=s[9].t("Chat Bubble UI")+"",m,w,b,k,E,y,T,I=s[9].t("Title Auto-Generation")+"",V,D,S,C,$,W,B,G=s[9].t("Response AutoCopy to Clipboard")+"",Y,L,x,Z,j,O,U,P=s[9].t("Widescreen Mode")+"",K,J,F,Q,te,ae,ce,ne,_e=s[9].t("Fluidly stream large external response chunks")+"",Ae,pe,ie,ue,ge,ee,se,fe=s[9].t("Chat direction")+"",me,Ne,be,Fe,Se,xe,X,q,de,ke,Be=s[9].t("Default Model")+"",Ee,ye,De,Ie,$e,nt=s[9].t("Select a model")+"",st,ot,gt,Je,wt=s[9].t("Save")+"",Tt,tt,ze;function We(he,Re){return he[6]===!0?Qr:Xr}let Xe=We(s),it=Xe(s);function ft(he,Re){return he[0]===!0?tn:en}let Le=ft(s),we=Le(s);function Oe(he,Re){return he[1]===!0?sn:ln}let Ze=Oe(s),ve=Ze(s);function Ke(he,Re){return he[2]===!0?rn:an}let dt=Ke(s),bt=dt(s),at=!s[8].chatBubble&&ps(s);function lt(he,Re){return he[3]===!0?un:cn}let At=lt(s),kt=At(s);function Nt(he,Re){return he[7]==="LTR"?dn:fn}let Ot=Nt(s),ht=Ot(s),xt=rt(s[10].filter(bs)),ct=[];for(let he=0;he<xt.length;he+=1)ct[he]=gs(ms(s,xt,he));return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),c=H(n),u=M(),f=d("div"),_=d("div"),g=d("div"),m=H(p),w=M(),b=d("button"),it.c(),k=M(),E=d("div"),y=d("div"),T=d("div"),V=H(I),D=M(),S=d("button"),we.c(),C=M(),$=d("div"),W=d("div"),B=d("div"),Y=H(G),L=M(),x=d("button"),ve.c(),Z=M(),j=d("div"),O=d("div"),U=d("div"),K=H(P),J=M(),F=d("button"),bt.c(),Q=M(),at&&at.c(),te=M(),ae=d("div"),ce=d("div"),ne=d("div"),Ae=H(_e),pe=M(),ie=d("button"),kt.c(),ue=M(),ge=d("div"),ee=d("div"),se=d("div"),me=H(fe),Ne=M(),be=d("button"),ht.c(),Fe=M(),Se=d("hr"),xe=M(),X=d("div"),q=d("div"),de=d("div"),ke=d("div"),Ee=H(Be),ye=M(),De=d("div"),Ie=d("select"),$e=d("option"),st=H(nt);for(let he=0;he<ct.length;he+=1)ct[he].c();ot=M(),gt=d("div"),Je=d("button"),Tt=H(wt),this.h()},l(he){e=h(he,"FORM",{class:!0});var Re=v(e);t=h(Re,"DIV",{class:!0});var Ge=v(t);l=h(Ge,"DIV",{});var ut=v(l);a=h(ut,"DIV",{class:!0});var zt=v(a);c=N(zt,n),zt.forEach(i),u=A(ut),f=h(ut,"DIV",{});var Zt=v(f);_=h(Zt,"DIV",{class:!0});var Lt=v(_);g=h(Lt,"DIV",{class:!0});var Rt=v(g);m=N(Rt,p),Rt.forEach(i),w=A(Lt),b=h(Lt,"BUTTON",{class:!0,type:!0});var $t=v(b);it.l($t),$t.forEach(i),Lt.forEach(i),Zt.forEach(i),k=A(ut),E=h(ut,"DIV",{});var el=v(E);y=h(el,"DIV",{class:!0});var Ft=v(y);T=h(Ft,"DIV",{class:!0});var tl=v(T);V=N(tl,I),tl.forEach(i),D=A(Ft),S=h(Ft,"BUTTON",{class:!0,type:!0});var ll=v(S);we.l(ll),ll.forEach(i),Ft.forEach(i),el.forEach(i),C=A(ut),$=h(ut,"DIV",{});var Jt=v($);W=h(Jt,"DIV",{class:!0});var ul=v(W);B=h(ul,"DIV",{class:!0});var Hl=v(B);Y=N(Hl,G),Hl.forEach(i),L=A(ul),x=h(ul,"BUTTON",{class:!0,type:!0});var Nl=v(x);ve.l(Nl),Nl.forEach(i),ul.forEach(i),Jt.forEach(i),Z=A(ut),j=h(ut,"DIV",{});var Ol=v(j);O=h(Ol,"DIV",{class:!0});var fl=v(O);U=h(fl,"DIV",{class:!0});var Ul=v(U);K=N(Ul,P),Ul.forEach(i),J=A(fl),F=h(fl,"BUTTON",{class:!0,type:!0});var Pl=v(F);bt.l(Pl),Pl.forEach(i),fl.forEach(i),Ol.forEach(i),Q=A(ut),at&&at.l(ut),te=A(ut),ae=h(ut,"DIV",{});var jl=v(ae);ce=h(jl,"DIV",{class:!0});var dl=v(ce);ne=h(dl,"DIV",{class:!0});var zl=v(ne);Ae=N(zl,_e),zl.forEach(i),pe=A(dl),ie=h(dl,"BUTTON",{class:!0,type:!0});var Zl=v(ie);kt.l(Zl),Zl.forEach(i),dl.forEach(i),jl.forEach(i),ut.forEach(i),ue=A(Ge),ge=h(Ge,"DIV",{});var Rl=v(ge);ee=h(Rl,"DIV",{class:!0});var hl=v(ee);se=h(hl,"DIV",{class:!0});var $l=v(se);me=N($l,fe),$l.forEach(i),Ne=A(hl),be=h(hl,"BUTTON",{class:!0,type:!0});var Wl=v(be);ht.l(Wl),Wl.forEach(i),hl.forEach(i),Rl.forEach(i),Fe=A(Ge),Se=h(Ge,"HR",{class:!0}),xe=A(Ge),X=h(Ge,"DIV",{class:!0});var vl=v(X);q=h(vl,"DIV",{class:!0});var ql=v(q);de=h(ql,"DIV",{class:!0});var Yl=v(de);ke=h(Yl,"DIV",{class:!0});var Fl=v(ke);Ee=N(Fl,Be),Fl.forEach(i),Yl.forEach(i),ql.forEach(i),ye=A(vl),De=h(vl,"DIV",{class:!0});var Gl=v(De);Ie=h(Gl,"SELECT",{class:!0,placeholder:!0});var bl=v(Ie);$e=h(bl,"OPTION",{});var Kl=v($e);st=N(Kl,nt),Kl.forEach(i);for(let wl=0;wl<ct.length;wl+=1)ct[wl].l(bl);bl.forEach(i),Gl.forEach(i),vl.forEach(i),Ge.forEach(i),ot=A(Re),gt=h(Re,"DIV",{class:!0});var Jl=v(gt);Je=h(Jl,"BUTTON",{class:!0,type:!0});var Xl=v(Je);Tt=N(Xl,wt),Xl.forEach(i),Jl.forEach(i),Re.forEach(i),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(g,"class","self-center text-xs font-medium"),o(b,"class","p-1 px-3 text-xs flex rounded transition"),o(b,"type","button"),o(_,"class","py-0.5 flex w-full justify-between"),o(T,"class","self-center text-xs font-medium"),o(S,"class","p-1 px-3 text-xs flex rounded transition"),o(S,"type","button"),o(y,"class","py-0.5 flex w-full justify-between"),o(B,"class","self-center text-xs font-medium"),o(x,"class","p-1 px-3 text-xs flex rounded transition"),o(x,"type","button"),o(W,"class","py-0.5 flex w-full justify-between"),o(U,"class","self-center text-xs font-medium"),o(F,"class","p-1 px-3 text-xs flex rounded transition"),o(F,"type","button"),o(O,"class","py-0.5 flex w-full justify-between"),o(ne,"class","self-center text-xs font-medium"),o(ie,"class","p-1 px-3 text-xs flex rounded transition"),o(ie,"type","button"),o(ce,"class","py-0.5 flex w-full justify-between"),o(se,"class","self-center text-xs font-medium"),o(be,"class","p-1 px-3 text-xs flex rounded transition"),o(be,"type","button"),o(ee,"class","py-0.5 flex w-full justify-between"),o(Se,"class","dark:border-gray-850"),o(ke,"class","text-xs font-medium"),o(de,"class","flex justify-between items-center text-xs"),o(q,"class","mb-2"),$e.__value="",qe($e,$e.__value),$e.disabled=!0,$e.selected=!0,o(Ie,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ie,"placeholder","Select a model"),s[4]===void 0&&rl(()=>s[28].call(Ie)),o(De,"class","flex-1 mr-2"),o(X,"class","space-y-1 mb-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(Je,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Je,"type","submit"),o(gt,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(he,Re){R(he,e,Re),r(e,t),r(t,l),r(l,a),r(a,c),r(l,u),r(l,f),r(f,_),r(_,g),r(g,m),r(_,w),r(_,b),it.m(b,null),r(l,k),r(l,E),r(E,y),r(y,T),r(T,V),r(y,D),r(y,S),we.m(S,null),r(l,C),r(l,$),r($,W),r(W,B),r(B,Y),r(W,L),r(W,x),ve.m(x,null),r(l,Z),r(l,j),r(j,O),r(O,U),r(U,K),r(O,J),r(O,F),bt.m(F,null),r(l,Q),at&&at.m(l,null),r(l,te),r(l,ae),r(ae,ce),r(ce,ne),r(ne,Ae),r(ce,pe),r(ce,ie),kt.m(ie,null),r(t,ue),r(t,ge),r(ge,ee),r(ee,se),r(se,me),r(ee,Ne),r(ee,be),ht.m(be,null),r(t,Fe),r(t,Se),r(t,xe),r(t,X),r(X,q),r(q,de),r(de,ke),r(ke,Ee),r(X,ye),r(X,De),r(De,Ie),r(Ie,$e),r($e,st);for(let Ge=0;Ge<ct.length;Ge+=1)ct[Ge]&&ct[Ge].m(Ie,null);Wt(Ie,s[4],!0),r(e,ot),r(e,gt),r(gt,Je),r(Je,Tt),tt||(ze=[le(b,"click",s[22]),le(S,"click",s[23]),le(x,"click",s[24]),le(F,"click",s[25]),le(ie,"click",s[27]),le(be,"click",s[19]),le(Ie,"change",s[28]),le(e,"submit",il(s[29]))],tt=!0)},p(he,Re){if(Re[0]&512&&n!==(n=he[9].t("WebUI Add-ons")+"")&&z(c,n),Re[0]&512&&p!==(p=he[9].t("Chat Bubble UI")+"")&&z(m,p),Xe===(Xe=We(he))&&it?it.p(he,Re):(it.d(1),it=Xe(he),it&&(it.c(),it.m(b,null))),Re[0]&512&&I!==(I=he[9].t("Title Auto-Generation")+"")&&z(V,I),Le===(Le=ft(he))&&we?we.p(he,Re):(we.d(1),we=Le(he),we&&(we.c(),we.m(S,null))),Re[0]&512&&G!==(G=he[9].t("Response AutoCopy to Clipboard")+"")&&z(Y,G),Ze===(Ze=Oe(he))&&ve?ve.p(he,Re):(ve.d(1),ve=Ze(he),ve&&(ve.c(),ve.m(x,null))),Re[0]&512&&P!==(P=he[9].t("Widescreen Mode")+"")&&z(K,P),dt===(dt=Ke(he))&&bt?bt.p(he,Re):(bt.d(1),bt=dt(he),bt&&(bt.c(),bt.m(F,null))),he[8].chatBubble?at&&(at.d(1),at=null):at?at.p(he,Re):(at=ps(he),at.c(),at.m(l,te)),Re[0]&512&&_e!==(_e=he[9].t("Fluidly stream large external response chunks")+"")&&z(Ae,_e),At===(At=lt(he))&&kt?kt.p(he,Re):(kt.d(1),kt=At(he),kt&&(kt.c(),kt.m(ie,null))),Re[0]&512&&fe!==(fe=he[9].t("Chat direction")+"")&&z(me,fe),Ot===(Ot=Nt(he))&&ht?ht.p(he,Re):(ht.d(1),ht=Ot(he),ht&&(ht.c(),ht.m(be,null))),Re[0]&512&&Be!==(Be=he[9].t("Default Model")+"")&&z(Ee,Be),Re[0]&512&&nt!==(nt=he[9].t("Select a model")+"")&&z(st,nt),Re[0]&1024){xt=rt(he[10].filter(bs));let Ge;for(Ge=0;Ge<xt.length;Ge+=1){const ut=ms(he,xt,Ge);ct[Ge]?ct[Ge].p(ut,Re):(ct[Ge]=gs(ut),ct[Ge].c(),ct[Ge].m(Ie,null))}for(;Ge<ct.length;Ge+=1)ct[Ge].d(1);ct.length=xt.length}Re[0]&1040&&Wt(Ie,he[4]),Re[0]&512&&wt!==(wt=he[9].t("Save")+"")&&z(Tt,wt)},i:Ye,o:Ye,d(he){he&&i(e),it.d(),we.d(),ve.d(),bt.d(),at&&at.d(),kt.d(),ht.d(),Ht(ct,he),tt=!1,et(ze)}}}const bs=s=>s.id;function vn(s,e,t){let l,a,n;Ue(s,jt,O=>t(8,l=O)),Ue(s,xl,O=>t(10,n=O));const c=Kt(),u=Et("i18n");Ue(s,u,O=>t(9,a=O));let{saveSettings:f}=e,_=!0,g=!1,p=!1,m=!1,w="",b=!1,k=!0,E="LTR";const y=async()=>{t(3,m=!m),f({splitLargeChunks:m})},T=async()=>{t(2,p=!p),f({widescreenMode:p})},I=async()=>{t(6,k=!k),f({chatBubble:k})},V=async()=>{t(5,b=!b),f({showUsername:b})},D=async()=>{t(0,_=!_),f({title:{...l.title,auto:_}})},S=async()=>{const O=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(O),O==="granted"?(t(1,g=!g),f({responseAutoCopy:g})):Qe.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},C=async()=>{t(7,E=E==="LTR"?"RTL":"LTR"),f({chatDirection:E})},$=async()=>{f({models:[w]})};Bt(async()=>{var O;t(0,_=((O=l==null?void 0:l.title)==null?void 0:O.auto)??!0),t(1,g=l.responseAutoCopy??!1),t(5,b=l.showUsername??!1),t(6,k=l.chatBubble??!0),t(2,p=l.widescreenMode??!1),t(3,m=l.splitLargeChunks??!1),t(7,E=l.chatDirection??"LTR"),t(4,w=((l==null?void 0:l.models)??[""]).at(0))});const W=()=>{I()},B=()=>{D()},G=()=>{S()},Y=()=>{T()},L=()=>{V()},x=()=>{y()};function Z(){w=nl(this),t(4,w)}const j=()=>{$(),c("save")};return s.$$set=O=>{"saveSettings"in O&&t(21,f=O.saveSettings)},[_,g,p,m,w,b,k,E,l,a,n,c,u,y,T,I,V,D,S,C,$,f,W,B,G,Y,L,x,Z,j]}class _n extends mt{constructor(e){super(),pt(this,e,vn,hn,_t,{saveSettings:21},null,[-1,-1])}}function ws(s,e,t){const l=s.slice();return l[8]=e[t],l}function ks(s,e,t){const l=s.slice();return l[25]=e[t],l}function ys(s){let e,t,l=s[7].t("Speech-to-Text Engine")+"",a,n,c,u,f,_=s[7].t("Default")+"",g,p,m=s[7].t("Web API")+"",w,b,k;return{c(){e=d("div"),t=d("div"),a=H(l),n=M(),c=d("div"),u=d("select"),f=d("option"),g=H(_),p=d("option"),w=H(m),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=v(e);t=h(y,"DIV",{class:!0});var T=v(t);a=N(T,l),T.forEach(i),n=A(y),c=h(y,"DIV",{class:!0});var I=v(c);u=h(I,"SELECT",{class:!0,placeholder:!0});var V=v(u);f=h(V,"OPTION",{});var D=v(f);g=N(D,_),D.forEach(i),p=h(V,"OPTION",{});var S=v(p);w=N(S,m),S.forEach(i),V.forEach(i),I.forEach(i),y.forEach(i),this.h()},h(){o(t,"class","self-center text-xs font-medium"),f.__value="",qe(f,f.__value),p.__value="web",qe(p,p.__value),o(u,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(u,"placeholder","Select an engine"),s[4]===void 0&&rl(()=>s[13].call(u)),o(c,"class","flex items-center relative"),o(e,"class","py-0.5 flex w-full justify-between")},m(E,y){R(E,e,y),r(e,t),r(t,a),r(e,n),r(e,c),r(c,u),r(u,f),r(f,g),r(u,p),r(p,w),Wt(u,s[4],!0),b||(k=le(u,"change",s[13]),b=!0)},p(E,y){y&128&&l!==(l=E[7].t("Speech-to-Text Engine")+"")&&z(a,l),y&128&&_!==(_=E[7].t("Default")+"")&&z(g,_),y&128&&m!==(m=E[7].t("Web API")+"")&&z(w,m),y&16&&Wt(u,E[4])},d(E){E&&i(e),b=!1,k()}}}function mn(s){let e,t=s[7].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n&128&&t!==(t=a[7].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function pn(s){let e,t=s[7].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n&128&&t!==(t=a[7].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function gn(s){let e,t=s[7].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n&128&&t!==(t=a[7].t("Off")+"")&&z(l,t)},d(a){a&&i(e)}}}function bn(s){let e,t=s[7].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n&128&&t!==(t=a[7].t("On")+"")&&z(l,t)},d(a){a&&i(e)}}}function wn(s){let e,t,l=s[7].t("Set Voice")+"",a,n,c,u,f,_,g,p,m,w=rt(s[5]),b=[];for(let k=0;k<w.length;k+=1)b[k]=Es(ws(s,w,k));return{c(){e=d("div"),t=d("div"),a=H(l),n=M(),c=d("div"),u=d("div"),f=d("input"),_=M(),g=d("datalist");for(let k=0;k<b.length;k+=1)b[k].c();this.h()},l(k){e=h(k,"DIV",{});var E=v(e);t=h(E,"DIV",{class:!0});var y=v(t);a=N(y,l),y.forEach(i),n=A(E),c=h(E,"DIV",{class:!0});var T=v(c);u=h(T,"DIV",{class:!0});var I=v(u);f=h(I,"INPUT",{list:!0,class:!0,placeholder:!0}),_=A(I),g=h(I,"DATALIST",{id:!0});var V=v(g);for(let D=0;D<b.length;D+=1)b[D].l(V);V.forEach(i),I.forEach(i),T.forEach(i),E.forEach(i),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),o(f,"list","voice-list"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder","Select a voice"),o(g,"id","voice-list"),o(u,"class","flex-1"),o(c,"class","flex w-full")},m(k,E){R(k,e,E),r(e,t),r(t,a),r(e,n),r(e,c),r(c,u),r(u,f),qe(f,s[8]),r(u,_),r(u,g);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(g,null);p||(m=le(f,"input",s[19]),p=!0)},p(k,E){if(E&128&&l!==(l=k[7].t("Set Voice")+"")&&z(a,l),E&296&&f.value!==k[8]&&qe(f,k[8]),E&32){w=rt(k[5]);let y;for(y=0;y<w.length;y+=1){const T=ws(k,w,y);b[y]?b[y].p(T,E):(b[y]=Es(T),b[y].c(),b[y].m(g,null))}for(;y<b.length;y+=1)b[y].d(1);b.length=w.length}},i:Ye,o:Ye,d(k){k&&i(e),Ht(b,k),p=!1,m()}}}function kn(s){let e,t,l=s[7].t("Set Voice")+"",a,n,c,u,f,_,g=s[7].t("Default")+"",p,m,w,b,k,E=s[7].t("Allow non-local voices")+"",y,T,I,V,D,S,C,$,W=rt(s[5].filter(s[16])),B=[];for(let L=0;L<W.length;L+=1)B[L]=Is(ks(s,W,L));function G(L){s[18](L)}let Y={};return s[3]!==void 0&&(Y.state=s[3]),V=new fa({props:Y}),yt.push(()=>Dt(V,"state",G)),{c(){e=d("div"),t=d("div"),a=H(l),n=M(),c=d("div"),u=d("div"),f=d("select"),_=d("option"),p=H(g);for(let L=0;L<B.length;L+=1)B[L].c();w=M(),b=d("div"),k=d("div"),y=H(E),T=M(),I=d("div"),Te(V.$$.fragment),this.h()},l(L){e=h(L,"DIV",{});var x=v(e);t=h(x,"DIV",{class:!0});var Z=v(t);a=N(Z,l),Z.forEach(i),n=A(x),c=h(x,"DIV",{class:!0});var j=v(c);u=h(j,"DIV",{class:!0});var O=v(u);f=h(O,"SELECT",{class:!0});var U=v(f);_=h(U,"OPTION",{});var P=v(_);p=N(P,g),P.forEach(i);for(let Q=0;Q<B.length;Q+=1)B[Q].l(U);U.forEach(i),O.forEach(i),j.forEach(i),w=A(x),b=h(x,"DIV",{class:!0});var K=v(b);k=h(K,"DIV",{class:!0});var J=v(k);y=N(J,E),J.forEach(i),T=A(K),I=h(K,"DIV",{class:!0});var F=v(I);Ve(V.$$.fragment,F),F.forEach(i),K.forEach(i),x.forEach(i),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),_.__value="",qe(_,_.__value),_.selected=m=s[8]!=="",o(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),s[8]===void 0&&rl(()=>s[17].call(f)),o(u,"class","flex-1"),o(c,"class","flex w-full"),o(k,"class","text-xs"),o(I,"class","mt-1"),o(b,"class","flex items-center justify-between my-1.5")},m(L,x){R(L,e,x),r(e,t),r(t,a),r(e,n),r(e,c),r(c,u),r(u,f),r(f,_),r(_,p);for(let Z=0;Z<B.length;Z+=1)B[Z]&&B[Z].m(f,null);Wt(f,s[8],!0),r(e,w),r(e,b),r(b,k),r(k,y),r(b,T),r(b,I),Ce(V,I,null),S=!0,C||($=le(f,"change",s[17]),C=!0)},p(L,x){if((!S||x&128)&&l!==(l=L[7].t("Set Voice")+"")&&z(a,l),(!S||x&128)&&g!==(g=L[7].t("Default")+"")&&z(p,g),(!S||x&296&&m!==(m=L[8]!==""))&&(_.selected=m),x&296){W=rt(L[5].filter(L[16]));let j;for(j=0;j<W.length;j+=1){const O=ks(L,W,j);B[j]?B[j].p(O,x):(B[j]=Is(O),B[j].c(),B[j].m(f,null))}for(;j<B.length;j+=1)B[j].d(1);B.length=W.length}x&296&&Wt(f,L[8]),(!S||x&128)&&E!==(E=L[7].t("Allow non-local voices")+"")&&z(y,E);const Z={};!D&&x&8&&(D=!0,Z.state=L[3],It(()=>D=!1)),V.$set(Z)},i(L){S||(re(V.$$.fragment,L),S=!0)},o(L){oe(V.$$.fragment,L),S=!1},d(L){L&&i(e),Ht(B,L),Me(V),C=!1,$()}}}function Es(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),v(e).forEach(i),this.h()},h(){e.__value=t=s[8].name,qe(e,e.__value)},m(l,a){R(l,e,a)},p(l,a){a&32&&t!==(t=l[8].name)&&(e.__value=t,qe(e,e.__value))},d(l){l&&i(e)}}}function Is(s){let e,t=s[25].name+"",l,a,n;return{c(){e=d("option"),l=H(t),this.h()},l(c){e=h(c,"OPTION",{class:!0});var u=v(e);l=N(u,t),u.forEach(i),this.h()},h(){e.__value=a=s[25].name,qe(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=n=s[8]===s[25].name},m(c,u){R(c,e,u),r(e,l)},p(c,u){u&40&&t!==(t=c[25].name+"")&&z(l,t),u&40&&a!==(a=c[25].name)&&(e.__value=a,qe(e,e.__value)),u&296&&n!==(n=c[8]===c[25].name)&&(e.selected=n)},d(c){c&&i(e)}}}function yn(s){let e,t,l,a,n=s[7].t("STT Settings")+"",c,u,f,_,g,p=s[7].t("Instant Auto-Send After Voice Transcription")+"",m,w,b,k,E,y,T=s[7].t("TTS Settings")+"",I,V,D,S,C=s[7].t("Auto-playback response")+"",$,W,B,G,Y,L,x,Z,j,O,U,P=s[7].t("Save")+"",K,J,F,Q,te=s[6].audio.stt.engine!=="web"&&ys(s);function ae(ee,se){return ee[1]===!0?pn:mn}let ce=ae(s),ne=ce(s);function _e(ee,se){return ee[2]===!0?bn:gn}let Ae=_e(s),pe=Ae(s);const ie=[kn,wn],ue=[];function ge(ee,se){return ee[6].audio.tts.engine===""?0:ee[6].audio.tts.engine==="openai"?1:-1}return~(x=ge(s))&&(Z=ue[x]=ie[x](s)),{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),c=H(n),u=M(),te&&te.c(),f=M(),_=d("div"),g=d("div"),m=H(p),w=M(),b=d("button"),ne.c(),k=M(),E=d("div"),y=d("div"),I=H(T),V=M(),D=d("div"),S=d("div"),$=H(C),W=M(),B=d("button"),pe.c(),G=M(),Y=d("hr"),L=M(),Z&&Z.c(),j=M(),O=d("div"),U=d("button"),K=H(P),this.h()},l(ee){e=h(ee,"FORM",{class:!0});var se=v(e);t=h(se,"DIV",{class:!0});var fe=v(t);l=h(fe,"DIV",{});var me=v(l);a=h(me,"DIV",{class:!0});var Ne=v(a);c=N(Ne,n),Ne.forEach(i),u=A(me),te&&te.l(me),f=A(me),_=h(me,"DIV",{class:!0});var be=v(_);g=h(be,"DIV",{class:!0});var Fe=v(g);m=N(Fe,p),Fe.forEach(i),w=A(be),b=h(be,"BUTTON",{class:!0,type:!0});var Se=v(b);ne.l(Se),Se.forEach(i),be.forEach(i),me.forEach(i),k=A(fe),E=h(fe,"DIV",{});var xe=v(E);y=h(xe,"DIV",{class:!0});var X=v(y);I=N(X,T),X.forEach(i),V=A(xe),D=h(xe,"DIV",{class:!0});var q=v(D);S=h(q,"DIV",{class:!0});var de=v(S);$=N(de,C),de.forEach(i),W=A(q),B=h(q,"BUTTON",{class:!0,type:!0});var ke=v(B);pe.l(ke),ke.forEach(i),q.forEach(i),xe.forEach(i),G=A(fe),Y=h(fe,"HR",{class:!0}),L=A(fe),Z&&Z.l(fe),fe.forEach(i),j=A(se),O=h(se,"DIV",{class:!0});var Be=v(O);U=h(Be,"BUTTON",{class:!0,type:!0});var Ee=v(U);K=N(Ee,P),Ee.forEach(i),Be.forEach(i),se.forEach(i),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(g,"class","self-center text-xs font-medium"),o(b,"class","p-1 px-3 text-xs flex rounded transition"),o(b,"type","button"),o(_,"class","py-0.5 flex w-full justify-between"),o(y,"class","mb-1 text-sm font-medium"),o(S,"class","self-center text-xs font-medium"),o(B,"class","p-1 px-3 text-xs flex rounded transition"),o(B,"type","button"),o(D,"class","py-0.5 flex w-full justify-between"),o(Y,"class","dark:border-gray-850"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(U,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(U,"type","submit"),o(O,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ee,se){R(ee,e,se),r(e,t),r(t,l),r(l,a),r(a,c),r(l,u),te&&te.m(l,null),r(l,f),r(l,_),r(_,g),r(g,m),r(_,w),r(_,b),ne.m(b,null),r(t,k),r(t,E),r(E,y),r(y,I),r(E,V),r(E,D),r(D,S),r(S,$),r(D,W),r(D,B),pe.m(B,null),r(t,G),r(t,Y),r(t,L),~x&&ue[x].m(t,null),r(e,j),r(e,O),r(O,U),r(U,K),J=!0,F||(Q=[le(b,"click",s[14]),le(B,"click",s[15]),le(e,"submit",il(s[20]))],F=!0)},p(ee,[se]){(!J||se&128)&&n!==(n=ee[7].t("STT Settings")+"")&&z(c,n),ee[6].audio.stt.engine!=="web"?te?te.p(ee,se):(te=ys(ee),te.c(),te.m(l,f)):te&&(te.d(1),te=null),(!J||se&128)&&p!==(p=ee[7].t("Instant Auto-Send After Voice Transcription")+"")&&z(m,p),ce===(ce=ae(ee))&&ne?ne.p(ee,se):(ne.d(1),ne=ce(ee),ne&&(ne.c(),ne.m(b,null))),(!J||se&128)&&T!==(T=ee[7].t("TTS Settings")+"")&&z(I,T),(!J||se&128)&&C!==(C=ee[7].t("Auto-playback response")+"")&&z($,C),Ae===(Ae=_e(ee))&&pe?pe.p(ee,se):(pe.d(1),pe=Ae(ee),pe&&(pe.c(),pe.m(B,null)));let fe=x;x=ge(ee),x===fe?~x&&ue[x].p(ee,se):(Z&&(Ct(),oe(ue[fe],1,1,()=>{ue[fe]=null}),Mt()),~x?(Z=ue[x],Z?Z.p(ee,se):(Z=ue[x]=ie[x](ee),Z.c()),re(Z,1),Z.m(t,null)):Z=null),(!J||se&128)&&P!==(P=ee[7].t("Save")+"")&&z(K,P)},i(ee){J||(re(Z),J=!0)},o(ee){oe(Z),J=!1},d(ee){ee&&i(e),te&&te.d(),ne.d(),pe.d(),~x&&ue[x].d(),F=!1,et(Q)}}}function En(s,e,t){let l,a,n;Ue(s,Ll,G=>t(6,l=G)),Ue(s,jt,G=>t(22,a=G));const c=Kt(),u=Et("i18n");Ue(s,u,G=>t(7,n=G));let{saveSettings:f}=e,_=!1,g=!1,p=!1,m="",w=[],b="";const k=()=>{t(5,w=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},E=()=>{const G=setInterval(async()=>{t(5,w=await speechSynthesis.getVoices()),w.length>0&&clearInterval(G)},100)},y=async()=>{t(2,g=!g),f({responseAutoPlayback:g})},T=async()=>{t(1,_=!_),f({speechAutoSend:_})};Bt(async()=>{var G,Y,L,x,Z,j;a.conversationMode,t(1,_=a.speechAutoSend??!1),t(2,g=a.responseAutoPlayback??!1),t(4,m=((Y=(G=a==null?void 0:a.audio)==null?void 0:G.stt)==null?void 0:Y.engine)??""),t(8,b=((x=(L=a==null?void 0:a.audio)==null?void 0:L.tts)==null?void 0:x.voice)??l.audio.tts.voice??""),t(3,p=((j=(Z=a.audio)==null?void 0:Z.tts)==null?void 0:j.nonLocalVoices)??!1),l.audio.tts.engine==="openai"?k():E()});function I(){m=nl(this),t(4,m)}const V=()=>{T()},D=()=>{y()},S=G=>p||G.localService===!0;function C(){b=nl(this),t(8,b),t(5,w),t(3,p)}function $(G){p=G,t(3,p)}function W(){b=this.value,t(8,b),t(5,w),t(3,p)}const B=async()=>{f({audio:{stt:{engine:m!==""?m:void 0},tts:{voice:b!==""?b:void 0,nonLocalVoices:l.audio.tts.engine===""?p:void 0}}}),c("save")};return s.$$set=G=>{"saveSettings"in G&&t(0,f=G.saveSettings)},[f,_,g,p,m,w,l,n,b,c,u,y,T,I,V,D,S,C,$,W,B]}class In extends mt{constructor(e){super(),pt(this,e,En,yn,_t,{saveSettings:0})}}function Dn(s){let e,t,l,a,n,c=s[5].t("Off")+"",u;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),a=M(),n=d("span"),u=H(c),this.h()},l(f){e=je(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var _=v(e);t=je(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=je(_,"path",{d:!0}),v(l).forEach(i),_.forEach(i),a=A(f),n=h(f,"SPAN",{class:!0});var g=v(n);u=N(g,c),g.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(n,"class","ml-2 self-center")},m(f,_){R(f,e,_),r(e,t),r(e,l),R(f,a,_),R(f,n,_),r(n,u)},p(f,_){_&32&&c!==(c=f[5].t("Off")+"")&&z(u,c)},d(f){f&&(i(e),i(a),i(n))}}}function Tn(s){let e,t,l,a,n,c=s[5].t("On")+"",u;return{c(){e=Pe("svg"),t=Pe("path"),l=Pe("path"),a=M(),n=d("span"),u=H(c),this.h()},l(f){e=je(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var _=v(e);t=je(_,"path",{d:!0}),v(t).forEach(i),l=je(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),_.forEach(i),a=A(f),n=h(f,"SPAN",{class:!0});var g=v(n);u=N(g,c),g.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(n,"class","ml-2 self-center")},m(f,_){R(f,e,_),r(e,t),r(e,l),R(f,a,_),R(f,n,_),r(n,u)},p(f,_){_&32&&c!==(c=f[5].t("On")+"")&&z(u,c)},d(f){f&&(i(e),i(a),i(n))}}}function Vn(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',a,n,c=s[5].t("Archive All Chats")+"",u,f,_;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),n=d("div"),u=H(c),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-1duozwn"&&(t.innerHTML=l),a=A(p),n=h(p,"DIV",{class:!0});var m=v(n);u=N(m,c),m.forEach(i),p.forEach(i),this.h()},h(){o(t,"class","self-center mr-3"),o(n,"class","self-center text-sm font-medium"),o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,p){R(g,e,p),r(e,t),r(e,a),r(e,n),r(n,u),f||(_=le(e,"click",s[19]),f=!0)},p(g,p){p&32&&c!==(c=g[5].t("Archive All Chats")+"")&&z(u,c)},d(g){g&&i(e),f=!1,_()}}}function Cn(s){let e,t,l,a,n,c,u,f=s[5].t("Are you sure?")+"",_,g,p,m,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',b,k,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,T;return{c(){e=d("div"),t=d("div"),l=Pe("svg"),a=Pe("path"),n=Pe("path"),c=M(),u=d("span"),_=H(f),g=M(),p=d("div"),m=d("button"),m.innerHTML=w,b=M(),k=d("button"),k.innerHTML=E,this.h()},l(I){e=h(I,"DIV",{class:!0});var V=v(e);t=h(V,"DIV",{class:!0});var D=v(t);l=je(D,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var S=v(l);a=je(S,"path",{d:!0}),v(a).forEach(i),n=je(S,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(n).forEach(i),S.forEach(i),c=A(D),u=h(D,"SPAN",{});var C=v(u);_=N(C,f),C.forEach(i),D.forEach(i),g=A(V),p=h(V,"DIV",{class:!0});var $=v(p);m=h($,"BUTTON",{class:!0,"data-svelte-h":!0}),He(m)!=="svelte-88c061"&&(m.innerHTML=w),b=A($),k=h($,"BUTTON",{class:!0,"data-svelte-h":!0}),He(k)!=="svelte-1601eo8"&&(k.innerHTML=E),$.forEach(i),V.forEach(i),this.h()},h(){o(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),o(n,"fill-rule","evenodd"),o(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),o(n,"clip-rule","evenodd"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"viewBox","0 0 16 16"),o(l,"fill","currentColor"),o(l,"class","w-4 h-4"),o(t,"class","flex items-center space-x-3"),o(m,"class","hover:text-white transition"),o(k,"class","hover:text-white transition"),o(p,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,V){R(I,e,V),r(e,t),r(t,l),r(l,a),r(l,n),r(t,c),r(t,u),r(u,_),r(e,g),r(e,p),r(p,m),r(p,b),r(p,k),y||(T=[le(m,"click",s[17]),le(k,"click",s[18])],y=!0)},p(I,V){V&32&&f!==(f=I[5].t("Are you sure?")+"")&&z(_,f)},d(I){I&&i(e),y=!1,et(T)}}}function Mn(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',a,n,c=s[5].t("Delete All Chats")+"",u,f,_;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),n=d("div"),u=H(c),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),a=A(p),n=h(p,"DIV",{class:!0});var m=v(n);u=N(m,c),m.forEach(i),p.forEach(i),this.h()},h(){o(t,"class","self-center mr-3"),o(n,"class","self-center text-sm font-medium"),o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,p){R(g,e,p),r(e,t),r(e,a),r(e,n),r(n,u),f||(_=le(e,"click",s[22]),f=!0)},p(g,p){p&32&&c!==(c=g[5].t("Delete All Chats")+"")&&z(u,c)},d(g){g&&i(e),f=!1,_()}}}function An(s){let e,t,l,a,n,c,u,f=s[5].t("Are you sure?")+"",_,g,p,m,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',b,k,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,T;return{c(){e=d("div"),t=d("div"),l=Pe("svg"),a=Pe("path"),n=Pe("path"),c=M(),u=d("span"),_=H(f),g=M(),p=d("div"),m=d("button"),m.innerHTML=w,b=M(),k=d("button"),k.innerHTML=E,this.h()},l(I){e=h(I,"DIV",{class:!0});var V=v(e);t=h(V,"DIV",{class:!0});var D=v(t);l=je(D,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var S=v(l);a=je(S,"path",{d:!0}),v(a).forEach(i),n=je(S,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(n).forEach(i),S.forEach(i),c=A(D),u=h(D,"SPAN",{});var C=v(u);_=N(C,f),C.forEach(i),D.forEach(i),g=A(V),p=h(V,"DIV",{class:!0});var $=v(p);m=h($,"BUTTON",{class:!0,"data-svelte-h":!0}),He(m)!=="svelte-19nv6qp"&&(m.innerHTML=w),b=A($),k=h($,"BUTTON",{class:!0,"data-svelte-h":!0}),He(k)!=="svelte-ekcykx"&&(k.innerHTML=E),$.forEach(i),V.forEach(i),this.h()},h(){o(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),o(n,"fill-rule","evenodd"),o(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),o(n,"clip-rule","evenodd"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"viewBox","0 0 16 16"),o(l,"fill","currentColor"),o(l,"class","w-4 h-4"),o(t,"class","flex items-center space-x-3"),o(m,"class","hover:text-white transition"),o(k,"class","hover:text-white transition"),o(p,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,V){R(I,e,V),r(e,t),r(t,l),r(l,a),r(l,n),r(t,c),r(t,u),r(u,_),r(e,g),r(e,p),r(p,m),r(p,b),r(p,k),y||(T=[le(m,"click",s[20]),le(k,"click",s[21])],y=!0)},p(I,V){V&32&&f!==(f=I[5].t("Are you sure?")+"")&&z(_,f)},d(I){I&&i(e),y=!1,et(T)}}}function Sn(s){let e,t,l,a,n,c=s[5].t("Chat History")+"",u,f,_,g,p,m=s[5].t("This setting does not sync across browsers or devices.")+"",w,b,k,E,y,T,I,V,D,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',C,$,W=s[5].t("Import Chats")+"",B,G,Y,L,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',Z,j,O=s[5].t("Export Chats")+"",U,P,K,J,F,Q,te,ae;function ce(se,fe){return se[1]===!0?Tn:Dn}let ne=ce(s),_e=ne(s);function Ae(se,fe){return se[2]?Cn:Vn}let pe=Ae(s),ie=pe(s);function ue(se,fe){return se[3]?An:Mn}let ge=ue(s),ee=ge(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=d("div"),u=H(c),f=M(),_=d("button"),_e.c(),g=M(),p=d("div"),w=H(m),b=M(),k=d("hr"),E=M(),y=d("div"),T=d("input"),I=M(),V=d("button"),D=d("div"),D.innerHTML=S,C=M(),$=d("div"),B=H(W),G=M(),Y=d("button"),L=d("div"),L.innerHTML=x,Z=M(),j=d("div"),U=H(O),P=M(),K=d("hr"),J=M(),F=d("div"),ie.c(),Q=M(),ee.c(),this.h()},l(se){e=h(se,"DIV",{class:!0});var fe=v(e);t=h(fe,"DIV",{class:!0});var me=v(t);l=h(me,"DIV",{class:!0});var Ne=v(l);a=h(Ne,"DIV",{class:!0});var be=v(a);n=h(be,"DIV",{class:!0});var Fe=v(n);u=N(Fe,c),Fe.forEach(i),f=A(be),_=h(be,"BUTTON",{class:!0,type:!0});var Se=v(_);_e.l(Se),Se.forEach(i),be.forEach(i),g=A(Ne),p=h(Ne,"DIV",{class:!0});var xe=v(p);w=N(xe,m),xe.forEach(i),Ne.forEach(i),b=A(me),k=h(me,"HR",{class:!0}),E=A(me),y=h(me,"DIV",{class:!0});var X=v(y);T=h(X,"INPUT",{id:!0,type:!0,accept:!0}),I=A(X),V=h(X,"BUTTON",{class:!0});var q=v(V);D=h(q,"DIV",{class:!0,"data-svelte-h":!0}),He(D)!=="svelte-135keqh"&&(D.innerHTML=S),C=A(q),$=h(q,"DIV",{class:!0});var de=v($);B=N(de,W),de.forEach(i),q.forEach(i),G=A(X),Y=h(X,"BUTTON",{class:!0});var ke=v(Y);L=h(ke,"DIV",{class:!0,"data-svelte-h":!0}),He(L)!=="svelte-7e4f4y"&&(L.innerHTML=x),Z=A(ke),j=h(ke,"DIV",{class:!0});var Be=v(j);U=N(Be,O),Be.forEach(i),ke.forEach(i),X.forEach(i),P=A(me),K=h(me,"HR",{class:!0}),J=A(me),F=h(me,"DIV",{class:!0});var Ee=v(F);ie.l(Ee),Q=A(Ee),ee.l(Ee),Ee.forEach(i),me.forEach(i),fe.forEach(i),this.h()},h(){o(n,"class","self-center text-sm font-medium"),o(_,"class","p-1 px-3 text-xs flex rounded transition"),o(_,"type","button"),o(a,"class","flex w-full justify-between"),o(p,"class","text-xs text-left w-full font-medium mt-0.5"),o(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),o(k,"class","dark:border-gray-850"),o(T,"id","chat-import-input"),o(T,"type","file"),o(T,"accept",".json"),T.hidden=!0,o(D,"class","self-center mr-3"),o($,"class","self-center text-sm font-medium"),o(V,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(L,"class","self-center mr-3"),o(j,"class","self-center text-sm font-medium"),o(Y,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(y,"class","flex flex-col"),o(K,"class","dark:border-gray-850"),o(F,"class","flex flex-col"),o(t,"class","space-y-2"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(se,fe){R(se,e,fe),r(e,t),r(t,l),r(l,a),r(a,n),r(n,u),r(a,f),r(a,_),_e.m(_,null),r(l,g),r(l,p),r(p,w),r(t,b),r(t,k),r(t,E),r(t,y),r(y,T),s[13](T),r(y,I),r(y,V),r(V,D),r(V,C),r(V,$),r($,B),r(y,G),r(y,Y),r(Y,L),r(Y,Z),r(Y,j),r(j,U),r(t,P),r(t,K),r(t,J),r(t,F),ie.m(F,null),r(F,Q),ee.m(F,null),te||(ae=[le(_,"click",s[12]),le(T,"change",s[14]),le(V,"click",s[15]),le(Y,"click",s[16])],te=!0)},p(se,[fe]){fe&32&&c!==(c=se[5].t("Chat History")+"")&&z(u,c),ne===(ne=ce(se))&&_e?_e.p(se,fe):(_e.d(1),_e=ne(se),_e&&(_e.c(),_e.m(_,null))),fe&32&&m!==(m=se[5].t("This setting does not sync across browsers or devices.")+"")&&z(w,m),fe&32&&W!==(W=se[5].t("Import Chats")+"")&&z(B,W),fe&32&&O!==(O=se[5].t("Export Chats")+"")&&z(U,O),pe===(pe=Ae(se))&&ie?ie.p(se,fe):(ie.d(1),ie=pe(se),ie&&(ie.c(),ie.m(F,Q))),ge===(ge=ue(se))&&ee?ee.p(se,fe):(ee.d(1),ee=ge(se),ee&&(ee.c(),ee.m(F,null)))},i:Ye,o:Ye,d(se){se&&i(e),_e.d(),s[13](null),ie.d(),ee.d(),te=!1,et(ae)}}}function xn(s,e,t){let l,a;Ue(s,jt,L=>t(23,l=L));const{saveAs:n}=Sl,c=Et("i18n");Ue(s,c,L=>t(5,a=L));let{saveSettings:u}=e,f=!0,_,g=!1,p=!1,m;const w=async L=>{for(const x of L)console.log(x),x.chat?await Ql(localStorage.token,x.chat):await Ql(localStorage.token,x);await St.set(await Pt(localStorage.token))},b=async()=>{let L=new Blob([JSON.stringify(await wa(localStorage.token))],{type:"application/json"});n(L,`chat-export-${Date.now()}.json`)},k=async()=>{await Yt("/"),await ka(localStorage.token).catch(L=>{Qe.error(L)}),await St.set(await Pt(localStorage.token))},E=async()=>{await Yt("/"),await ya(localStorage.token).catch(L=>{Qe.error(L)}),await St.set(await Pt(localStorage.token))},y=async()=>{t(1,f=!f),console.log(f),f===!1&&await Yt("/"),u({saveChatHistory:f})};Bt(async()=>{t(1,f=l.saveChatHistory??!0)});const T=()=>{y()};function I(L){yt[L?"unshift":"push"](()=>{m=L,t(4,m)})}function V(){_=this.files,t(0,_)}const D=()=>{m.click()},S=()=>{b()},C=()=>{k(),t(2,g=!1)},$=()=>{t(2,g=!1)},W=()=>{t(2,g=!0)},B=()=>{E(),t(3,p=!1)},G=()=>{t(3,p=!1)},Y=()=>{t(3,p=!0)};return s.$$set=L=>{"saveSettings"in L&&t(11,u=L.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&_){console.log(_);let L=new FileReader;L.onload=x=>{let Z=JSON.parse(x.target.result);if(console.log(Z),Ra(Z)=="openai")try{Z=$a(Z)}catch(j){console.log("Unable to import chats:",j)}w(Z)},_.length>0&&L.readAsText(_[0])}},[_,f,g,p,m,a,c,b,k,E,y,u,T,I,V,D,S,C,$,W,B,G,Y]}class Ln extends mt{constructor(e){super(),pt(this,e,xn,Sn,_t,{saveSettings:11})}}function Bn(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(l,a){R(l,e,a),r(e,t)},p(l,[a]){a&1&&o(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&i(e)}}}function Hn(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className)},[l]}class Nn extends mt{constructor(e){super(),pt(this,e,Hn,Bn,_t,{className:0})}}function Ds(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){R(l,e,a)},d(l){l&&i(e)}}}function On(s){let e,t,l,a=s[3].t("Add Memory")+"",n,c,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,g,p,m,w,b,k,E,y,T,I=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",V,D,S,C,$=s[3].t("Add")+"",W,B,G,Y,L,x=s[1]&&Ds();return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),u.innerHTML=f,_=M(),g=d("div"),p=d("div"),m=d("form"),w=d("div"),b=d("textarea"),E=M(),y=d("div"),T=H("ⓘ "),V=H(I),D=M(),S=d("div"),C=d("button"),W=H($),B=M(),x&&x.c(),this.h()},l(Z){e=h(Z,"DIV",{});var j=v(e);t=h(j,"DIV",{class:!0});var O=v(t);l=h(O,"DIV",{class:!0});var U=v(l);n=N(U,a),U.forEach(i),c=A(O),u=h(O,"BUTTON",{class:!0,"data-svelte-h":!0}),He(u)!=="svelte-745w2y"&&(u.innerHTML=f),O.forEach(i),_=A(j),g=h(j,"DIV",{class:!0});var P=v(g);p=h(P,"DIV",{class:!0});var K=v(p);m=h(K,"FORM",{class:!0});var J=v(m);w=h(J,"DIV",{class:!0});var F=v(w);b=h(F,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(b).forEach(i),E=A(F),y=h(F,"DIV",{class:!0});var Q=v(y);T=N(Q,"ⓘ "),V=N(Q,I),Q.forEach(i),F.forEach(i),D=A(J),S=h(J,"DIV",{class:!0});var te=v(S);C=h(te,"BUTTON",{class:!0,type:!0});var ae=v(C);W=N(ae,$),B=A(ae),x&&x.l(ae),ae.forEach(i),te.forEach(i),J.forEach(i),K.forEach(i),P.forEach(i),j.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),o(b,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),o(b,"rows","3"),o(b,"placeholder",k=s[3].t("Enter a detail about yourself for your LLMs to recall")),o(y,"class","text-xs text-gray-500"),o(w,"class",""),o(C,"class",G="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),o(C,"type","submit"),C.disabled=s[1],o(S,"class","flex justify-end pt-1 text-sm font-medium"),o(m,"class","flex flex-col w-full"),o(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(Z,j){R(Z,e,j),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(e,_),r(e,g),r(g,p),r(p,m),r(m,w),r(w,b),qe(b,s[2]),r(w,E),r(w,y),r(y,T),r(y,V),r(m,D),r(m,S),r(S,C),r(C,W),r(C,B),x&&x.m(C,null),Y||(L=[le(u,"click",s[6]),le(b,"input",s[7]),le(m,"submit",il(s[8]))],Y=!0)},p(Z,j){j&8&&a!==(a=Z[3].t("Add Memory")+"")&&z(n,a),j&8&&k!==(k=Z[3].t("Enter a detail about yourself for your LLMs to recall"))&&o(b,"placeholder",k),j&4&&qe(b,Z[2]),j&8&&I!==(I=Z[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&z(V,I),j&8&&$!==($=Z[3].t("Add")+"")&&z(W,$),Z[1]?x||(x=Ds(),x.c(),x.m(C,null)):x&&(x.d(1),x=null),j&2&&G!==(G="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(Z[1]?" cursor-not-allowed":""))&&o(C,"class",G),j&2&&(C.disabled=Z[1])},d(Z){Z&&i(e),x&&x.d(),Y=!1,et(L)}}}function Un(s){let e,t,l;function a(c){s[9](c)}let n={size:"sm",$$slots:{default:[On]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new cl({props:n}),yt.push(()=>Dt(e,"show",a)),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&2063&&(f.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,f.show=c[0],It(()=>t=!1)),e.$set(f)},i(c){l||(re(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}function Pn(s,e,t){let l;const a=Kt();let{show:n}=e;const c=Et("i18n");Ue(s,c,b=>t(3,l=b));let u=!1,f="";const _=async()=>{t(1,u=!0);const b=await Fa(localStorage.token,f).catch(k=>(Qe.error(k),null));b&&(console.log(b),Qe.success("Memory added successfully"),t(2,f=""),t(0,n=!1),a("save")),t(1,u=!1)},g=()=>{t(0,n=!1)};function p(){f=this.value,t(2,f)}const m=()=>{_()};function w(b){n=b,t(0,n)}return s.$$set=b=>{"show"in b&&t(0,n=b.show)},[n,u,f,l,c,_,g,p,m,w]}class jn extends mt{constructor(e){super(),pt(this,e,Pn,Un,_t,{show:0})}}function Ts(s,e,t){const l=s.slice();return l[13]=e[t],l}function zn(s){let e,t,l=s[3].t("Memories accessible by LLMs will be shown here.")+"",a;return{c(){e=d("div"),t=d("div"),a=H(l),this.h()},l(n){e=h(n,"DIV",{class:!0});var c=v(e);t=h(c,"DIV",{class:!0});var u=v(t);a=N(u,l),u.forEach(i),c.forEach(i),this.h()},h(){o(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),o(e,"class","text-center flex h-full text-sm w-full")},m(n,c){R(n,e,c),r(e,t),r(t,a)},p(n,c){c&8&&l!==(l=n[3].t("Memories accessible by LLMs will be shown here.")+"")&&z(a,l)},i:Ye,o:Ye,d(n){n&&i(e)}}}function Zn(s){let e,t,l,a,n,c,u=s[3].t("Name")+"",f,_,g,p=s[3].t("Created At")+"",m,w,b,k,E,y,T=rt(s[1]),I=[];for(let D=0;D<T.length;D+=1)I[D]=Vs(Ts(s,T,D));const V=D=>oe(I[D],1,1,()=>{I[D]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),a=d("thead"),n=d("tr"),c=d("th"),f=H(u),_=M(),g=d("th"),m=H(p),w=M(),b=d("th"),k=M(),E=d("tbody");for(let D=0;D<I.length;D+=1)I[D].c();this.h()},l(D){e=h(D,"DIV",{class:!0});var S=v(e);t=h(S,"DIV",{class:!0});var C=v(t);l=h(C,"TABLE",{class:!0});var $=v(l);a=h($,"THEAD",{class:!0});var W=v(a);n=h(W,"TR",{});var B=v(n);c=h(B,"TH",{scope:!0,class:!0});var G=v(c);f=N(G,u),G.forEach(i),_=A(B),g=h(B,"TH",{scope:!0,class:!0});var Y=v(g);m=N(Y,p),Y.forEach(i),w=A(B),b=h(B,"TH",{scope:!0,class:!0}),v(b).forEach(i),B.forEach(i),W.forEach(i),k=A($),E=h($,"TBODY",{});var L=v(E);for(let x=0;x<I.length;x+=1)I[x].l(L);L.forEach(i),$.forEach(i),C.forEach(i),S.forEach(i),this.h()},h(){o(c,"scope","col"),o(c,"class","px-3 py-2"),o(g,"scope","col"),o(g,"class","px-3 py-2 hidden md:flex"),o(b,"scope","col"),o(b,"class","px-3 py-2 text-right"),o(a,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),o(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),o(t,"class","relative overflow-x-auto"),o(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(D,S){R(D,e,S),r(e,t),r(t,l),r(l,a),r(a,n),r(n,c),r(c,f),r(n,_),r(n,g),r(g,m),r(n,w),r(n,b),r(l,k),r(l,E);for(let C=0;C<I.length;C+=1)I[C]&&I[C].m(E,null);y=!0},p(D,S){if((!y||S&8)&&u!==(u=D[3].t("Name")+"")&&z(f,u),(!y||S&8)&&p!==(p=D[3].t("Created At")+"")&&z(m,p),S&10){T=rt(D[1]);let C;for(C=0;C<T.length;C+=1){const $=Ts(D,T,C);I[C]?(I[C].p($,S),re(I[C],1)):(I[C]=Vs($),I[C].c(),re(I[C],1),I[C].m(E,null))}for(Ct(),C=T.length;C<I.length;C+=1)V(C);Mt()}},i(D){if(!y){for(let S=0;S<T.length;S+=1)re(I[S]);y=!0}},o(D){I=I.filter(Boolean);for(let S=0;S<I.length;S+=1)oe(I[S]);y=!1},d(D){D&&i(e),Ht(I,D)}}}function Rn(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function n(){return s[6](s[13])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-lqu2va"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(c,u){R(c,e,u),l||(a=le(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function Vs(s){let e,t,l,a=s[13].content+"",n,c,u,f,_=gl(s[13].created_at*1e3).format(s[3].t("MMMM DD, YYYY"))+"",g,p,m,w,b,k,E;return b=new Gt({props:{content:"Delete",$$slots:{default:[Rn]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("div"),n=H(a),c=M(),u=d("td"),f=d("div"),g=H(_),p=M(),m=d("td"),w=d("div"),Te(b.$$.fragment),k=M(),this.h()},l(y){e=h(y,"TR",{class:!0});var T=v(e);t=h(T,"TD",{class:!0});var I=v(t);l=h(I,"DIV",{class:!0});var V=v(l);n=N(V,a),V.forEach(i),I.forEach(i),c=A(T),u=h(T,"TD",{class:!0});var D=v(u);f=h(D,"DIV",{class:!0});var S=v(f);g=N(S,_),S.forEach(i),D.forEach(i),p=A(T),m=h(T,"TD",{class:!0});var C=v(m);w=h(C,"DIV",{class:!0});var $=v(w);Ve(b.$$.fragment,$),$.forEach(i),C.forEach(i),k=A(T),T.forEach(i),this.h()},h(){o(l,"class","line-clamp-1"),o(t,"class","px-3 py-1"),o(f,"class","my-auto whitespace-nowrap"),o(u,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),o(w,"class","flex justify-end w-full"),o(m,"class","px-3 py-1"),o(e,"class","border-b dark:border-gray-800 items-center")},m(y,T){R(y,e,T),r(e,t),r(t,l),r(l,n),r(e,c),r(e,u),r(u,f),r(f,g),r(e,p),r(e,m),r(m,w),Ce(b,w,null),r(e,k),E=!0},p(y,T){(!E||T&2)&&a!==(a=y[13].content+"")&&z(n,a),(!E||T&10)&&_!==(_=gl(y[13].created_at*1e3).format(y[3].t("MMMM DD, YYYY"))+"")&&z(g,_);const I={};T&65538&&(I.$$scope={dirty:T,ctx:y}),b.$set(I)},i(y){E||(re(b.$$.fragment,y),E=!0)},o(y){oe(b.$$.fragment,y),E=!1},d(y){y&&i(e),Me(b)}}}function $n(s){let e,t,l,a=s[3].t("Memory")+"",n,c,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,g,p,m,w,b,k,E,y=s[3].t("Add Memory")+"",T,I,V,D=s[3].t("Clear memory")+"",S,C,$,W;const B=[Zn,zn],G=[];function Y(L,x){return L[1].length>0?0:1}return m=Y(s),w=G[m]=B[m](s),{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),u.innerHTML=f,_=M(),g=d("div"),p=d("div"),w.c(),b=M(),k=d("div"),E=d("button"),T=H(y),I=M(),V=d("button"),S=H(D),this.h()},l(L){e=h(L,"DIV",{});var x=v(e);t=h(x,"DIV",{class:!0});var Z=v(t);l=h(Z,"DIV",{class:!0});var j=v(l);n=N(j,a),j.forEach(i),c=A(Z),u=h(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),He(u)!=="svelte-745w2y"&&(u.innerHTML=f),Z.forEach(i),_=A(x),g=h(x,"DIV",{class:!0});var O=v(g);p=h(O,"DIV",{class:!0});var U=v(p);w.l(U),U.forEach(i),b=A(O),k=h(O,"DIV",{class:!0});var P=v(k);E=h(P,"BUTTON",{class:!0});var K=v(E);T=N(K,y),K.forEach(i),I=A(P),V=h(P,"BUTTON",{class:!0});var J=v(V);S=N(J,D),J.forEach(i),P.forEach(i),O.forEach(i),x.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),o(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(V,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),o(k,"class","flex text-sm font-medium gap-1.5"),o(g,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(L,x){R(L,e,x),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(e,_),r(e,g),r(g,p),G[m].m(p,null),r(g,b),r(g,k),r(k,E),r(E,T),r(k,I),r(k,V),r(V,S),C=!0,$||(W=[le(u,"click",s[5]),le(E,"click",s[7]),le(V,"click",s[8])],$=!0)},p(L,x){(!C||x&8)&&a!==(a=L[3].t("Memory")+"")&&z(n,a);let Z=m;m=Y(L),m===Z?G[m].p(L,x):(Ct(),oe(G[Z],1,1,()=>{G[Z]=null}),Mt(),w=G[m],w?w.p(L,x):(w=G[m]=B[m](L),w.c()),re(w,1),w.m(p,null)),(!C||x&8)&&y!==(y=L[3].t("Add Memory")+"")&&z(T,y),(!C||x&8)&&D!==(D=L[3].t("Clear memory")+"")&&z(S,D)},i(L){C||(re(w),C=!0)},o(L){oe(w),C=!1},d(L){L&&i(e),G[m].d(),$=!1,et(W)}}}function Wn(s){let e,t,l,a,n,c;function u(p){s[9](p)}let f={size:"xl",$$slots:{default:[$n]},$$scope:{ctx:s}};s[0]!==void 0&&(f.show=s[0]),e=new cl({props:f}),yt.push(()=>Dt(e,"show",u));function _(p){s[10](p)}let g={};return s[2]!==void 0&&(g.show=s[2]),a=new jn({props:g}),yt.push(()=>Dt(a,"show",_)),a.$on("save",s[11]),{c(){Te(e.$$.fragment),l=M(),Te(a.$$.fragment)},l(p){Ve(e.$$.fragment,p),l=A(p),Ve(a.$$.fragment,p)},m(p,m){Ce(e,p,m),R(p,l,m),Ce(a,p,m),c=!0},p(p,[m]){const w={};m&65551&&(w.$$scope={dirty:m,ctx:p}),!t&&m&1&&(t=!0,w.show=p[0],It(()=>t=!1)),e.$set(w);const b={};!n&&m&4&&(n=!0,b.show=p[2],It(()=>n=!1)),a.$set(b)},i(p){c||(re(e.$$.fragment,p),re(a.$$.fragment,p),c=!0)},o(p){oe(e.$$.fragment,p),oe(a.$$.fragment,p),c=!1},d(p){p&&i(l),Me(e,p),Me(a,p)}}}function qn(s,e,t){let l;Kt();const a=Et("i18n");Ue(s,a,k=>t(3,l=k));let{show:n=!1}=e,c=[],u=!1;const f=()=>{t(0,n=!1)},_=async k=>{await Ga(localStorage.token,k.id).catch(y=>(Qe.error(y),null))&&(Qe.success("Memory deleted successfully"),t(1,c=await Il(localStorage.token)))},g=()=>{t(2,u=!0)},p=async()=>{await Ka(localStorage.token).catch(E=>(Qe.error(E),null))&&(Qe.success("Memory cleared successfully"),t(1,c=[]))};function m(k){n=k,t(0,n)}function w(k){u=k,t(2,u)}const b=async()=>{t(1,c=await Il(localStorage.token))};return s.$$set=k=>{"show"in k&&t(0,n=k.show)},s.$$.update=()=>{s.$$.dirty&1&&n&&(async()=>t(1,c=await Il(localStorage.token)))()},[n,c,u,l,a,f,_,g,p,m,w,b]}class Yn extends mt{constructor(e){super(),pt(this,e,qn,Wn,_t,{show:0})}}function Fn(s){let e,t=s[3].t("Memory")+"",l,a,n,c,u=s[3].t("Experimental")+"",f,_;return{c(){e=d("div"),l=H(t),a=M(),n=d("span"),c=H("("),f=H(u),_=H(")"),this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);l=N(p,t),a=A(p),n=h(p,"SPAN",{class:!0});var m=v(n);c=N(m,"("),f=N(m,u),_=N(m,")"),m.forEach(i),p.forEach(i),this.h()},h(){o(n,"class","text-xs text-gray-500"),o(e,"class","text-sm font-medium")},m(g,p){R(g,e,p),r(e,l),r(e,a),r(e,n),r(n,c),r(n,f),r(n,_)},p(g,p){p&8&&t!==(t=g[3].t("Memory")+"")&&z(l,t),p&8&&u!==(u=g[3].t("Experimental")+"")&&z(f,u)},d(g){g&&i(e)}}}function Gn(s){let e,t,l,a,n,c,u,f,_,g,p,m,w,b,k,E=s[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",y,T,I,V,D=s[3].t("Manage")+"",S,C,$,W,B=s[3].t("Save")+"",G,Y,L,x;function Z(P){s[6](P)}let j={};s[1]!==void 0&&(j.show=s[1]),e=new Yn({props:j}),yt.push(()=>Dt(e,"show",Z)),f=new Gt({props:{content:s[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[Fn]},$$scope:{ctx:s}}});function O(P){s[7](P)}let U={};return s[2]!==void 0&&(U.state=s[2]),p=new fa({props:U}),yt.push(()=>Dt(p,"state",O)),p.$on("change",s[8]),{c(){Te(e.$$.fragment),l=M(),a=d("form"),n=d("div"),c=d("div"),u=d("div"),Te(f.$$.fragment),_=M(),g=d("div"),Te(p.$$.fragment),w=M(),b=d("div"),k=d("div"),y=H(E),T=M(),I=d("div"),V=d("button"),S=H(D),C=M(),$=d("div"),W=d("button"),G=H(B),this.h()},l(P){Ve(e.$$.fragment,P),l=A(P),a=h(P,"FORM",{class:!0});var K=v(a);n=h(K,"DIV",{class:!0});var J=v(n);c=h(J,"DIV",{});var F=v(c);u=h(F,"DIV",{class:!0});var Q=v(u);Ve(f.$$.fragment,Q),_=A(Q),g=h(Q,"DIV",{class:!0});var te=v(g);Ve(p.$$.fragment,te),te.forEach(i),Q.forEach(i),F.forEach(i),w=A(J),b=h(J,"DIV",{class:!0});var ae=v(b);k=h(ae,"DIV",{});var ce=v(k);y=N(ce,E),ce.forEach(i),ae.forEach(i),T=A(J),I=h(J,"DIV",{class:!0});var ne=v(I);V=h(ne,"BUTTON",{type:!0,class:!0});var _e=v(V);S=N(_e,D),_e.forEach(i),ne.forEach(i),J.forEach(i),C=A(K),$=h(K,"DIV",{class:!0});var Ae=v($);W=h(Ae,"BUTTON",{class:!0,type:!0});var pe=v(W);G=N(pe,B),pe.forEach(i),Ae.forEach(i),K.forEach(i),this.h()},h(){o(g,"class","mt-1"),o(u,"class","flex items-center justify-between mb-1"),o(b,"class","text-xs text-gray-600 dark:text-gray-400"),o(V,"type","button"),o(V,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(I,"class","mt-3 mb-1 ml-1"),o(n,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),o(W,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(W,"type","submit"),o($,"class","flex justify-end text-sm font-medium"),o(a,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(P,K){Ce(e,P,K),R(P,l,K),R(P,a,K),r(a,n),r(n,c),r(c,u),Ce(f,u,null),r(u,_),r(u,g),Ce(p,g,null),r(n,w),r(n,b),r(b,k),r(k,y),r(n,T),r(n,I),r(I,V),r(V,S),r(a,C),r(a,$),r($,W),r(W,G),Y=!0,L||(x=[le(V,"click",s[9]),le(a,"submit",il(s[10]))],L=!0)},p(P,[K]){const J={};!t&&K&2&&(t=!0,J.show=P[1],It(()=>t=!1)),e.$set(J);const F={};K&8&&(F.content=P[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),K&4104&&(F.$$scope={dirty:K,ctx:P}),f.$set(F);const Q={};!m&&K&4&&(m=!0,Q.state=P[2],It(()=>m=!1)),p.$set(Q),(!Y||K&8)&&E!==(E=P[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&z(y,E),(!Y||K&8)&&D!==(D=P[3].t("Manage")+"")&&z(S,D),(!Y||K&8)&&B!==(B=P[3].t("Save")+"")&&z(G,B)},i(P){Y||(re(e.$$.fragment,P),re(f.$$.fragment,P),re(p.$$.fragment,P),Y=!0)},o(P){oe(e.$$.fragment,P),oe(f.$$.fragment,P),oe(p.$$.fragment,P),Y=!1},d(P){P&&(i(l),i(a)),Me(e,P),Me(f),Me(p),L=!1,et(x)}}}function Kn(s,e,t){let l,a;Ue(s,jt,k=>t(11,l=k));const n=Kt(),c=Et("i18n");Ue(s,c,k=>t(3,a=k));let{saveSettings:u}=e,f=!1,_=!1;Bt(async()=>{t(2,_=(l==null?void 0:l.memory)??!1)});function g(k){f=k,t(1,f)}function p(k){_=k,t(2,_)}const m=async()=>{u({memory:_})},w=()=>{t(1,f=!0)},b=()=>{n("save")};return s.$$set=k=>{"saveSettings"in k&&t(0,u=k.saveSettings)},[u,f,_,a,n,c,g,p,m,w,b]}class Jn extends mt{constructor(e){super(),pt(this,e,Kn,Gn,_t,{saveSettings:0})}}function Cs(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',a,n,c=s[2].t("Admin Settings")+"",u,f,_,g;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),n=d("div"),u=H(c),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-wp87ko"&&(t.innerHTML=l),a=A(m),n=h(m,"DIV",{class:!0});var w=v(n);u=N(w,c),w.forEach(i),m.forEach(i),this.h()},h(){o(t,"class","self-center mr-2"),o(n,"class","self-center"),o(e,"class",f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="admin"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(p,m){R(p,e,m),r(e,t),r(e,a),r(e,n),r(n,u),_||(g=le(e,"click",s[9]),_=!0)},p(p,m){m&4&&c!==(c=p[2].t("Admin Settings")+"")&&z(u,c),m&2&&f!==(f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(p[1]==="admin"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",f)},d(p){p&&i(e),_=!1,g()}}}function Xn(s){let e,t;return e=new Zr({}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function Qn(s){let e,t;return e=new Ur({props:{saveHandler:s[20]}}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p(l,a){const n={};a&4&&(n.saveHandler=l[20]),e.$set(n)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function eo(s){let e,t;return e=new Ln({props:{saveSettings:s[5]}}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function to(s){let e,t;return e=new In({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function lo(s){let e,t;return e=new Jn({props:{saveSettings:s[5]}}),e.$on("save",s[18]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function so(s){let e,t;return e=new _n({props:{saveSettings:s[5]}}),e.$on("save",s[17]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function ao(s){let e,t;return e=new Jr({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[16]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function ro(s){let e,t,l,a=s[2].t("Settings")+"",n,c,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,g,p,m,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',k,E,y=s[2].t("General")+"",T,I,V,D,S,C,$='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',W,B,G=s[2].t("Interface")+"",Y,L,x,Z,j,O,U,P,K=s[2].t("Personalization")+"",J,F,Q,te,ae,ce='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',ne,_e,Ae=s[2].t("Audio")+"",pe,ie,ue,ge,ee,se='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',fe,me,Ne=s[2].t("Chats")+"",be,Fe,Se,xe,X,q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',de,ke,Be=s[2].t("Account")+"",Ee,ye,De,Ie,$e,nt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',st,ot,gt=s[2].t("About")+"",Je,wt,Tt,tt,ze,We,Xe,it,ft,Le=s[3].role==="admin"&&Cs(s);O=new Nn({});const we=[ao,so,lo,to,eo,Qn,Xn],Oe=[];function Ze(ve,Ke){return ve[1]==="general"?0:ve[1]==="interface"?1:ve[1]==="personalization"?2:ve[1]==="audio"?3:ve[1]==="chats"?4:ve[1]==="account"?5:ve[1]==="about"?6:-1}return~(ze=Ze(s))&&(We=Oe[ze]=we[ze](s)),{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),u.innerHTML=f,_=M(),g=d("div"),p=d("div"),m=d("button"),w=d("div"),w.innerHTML=b,k=M(),E=d("div"),T=H(y),V=M(),Le&&Le.c(),D=M(),S=d("button"),C=d("div"),C.innerHTML=$,W=M(),B=d("div"),Y=H(G),x=M(),Z=d("button"),j=d("div"),Te(O.$$.fragment),U=M(),P=d("div"),J=H(K),Q=M(),te=d("button"),ae=d("div"),ae.innerHTML=ce,ne=M(),_e=d("div"),pe=H(Ae),ue=M(),ge=d("button"),ee=d("div"),ee.innerHTML=se,fe=M(),me=d("div"),be=H(Ne),Se=M(),xe=d("button"),X=d("div"),X.innerHTML=q,de=M(),ke=d("div"),Ee=H(Be),De=M(),Ie=d("button"),$e=d("div"),$e.innerHTML=nt,st=M(),ot=d("div"),Je=H(gt),Tt=M(),tt=d("div"),We&&We.c(),this.h()},l(ve){e=h(ve,"DIV",{class:!0});var Ke=v(e);t=h(Ke,"DIV",{class:!0});var dt=v(t);l=h(dt,"DIV",{class:!0});var bt=v(l);n=N(bt,a),bt.forEach(i),c=A(dt),u=h(dt,"BUTTON",{class:!0,"data-svelte-h":!0}),He(u)!=="svelte-745w2y"&&(u.innerHTML=f),dt.forEach(i),_=A(Ke),g=h(Ke,"DIV",{class:!0});var at=v(g);p=h(at,"DIV",{class:!0});var lt=v(p);m=h(lt,"BUTTON",{class:!0});var At=v(m);w=h(At,"DIV",{class:!0,"data-svelte-h":!0}),He(w)!=="svelte-qy1dha"&&(w.innerHTML=b),k=A(At),E=h(At,"DIV",{class:!0});var kt=v(E);T=N(kt,y),kt.forEach(i),At.forEach(i),V=A(lt),Le&&Le.l(lt),D=A(lt),S=h(lt,"BUTTON",{class:!0});var Nt=v(S);C=h(Nt,"DIV",{class:!0,"data-svelte-h":!0}),He(C)!=="svelte-16cea28"&&(C.innerHTML=$),W=A(Nt),B=h(Nt,"DIV",{class:!0});var Ot=v(B);Y=N(Ot,G),Ot.forEach(i),Nt.forEach(i),x=A(lt),Z=h(lt,"BUTTON",{class:!0});var ht=v(Z);j=h(ht,"DIV",{class:!0});var xt=v(j);Ve(O.$$.fragment,xt),xt.forEach(i),U=A(ht),P=h(ht,"DIV",{class:!0});var ct=v(P);J=N(ct,K),ct.forEach(i),ht.forEach(i),Q=A(lt),te=h(lt,"BUTTON",{class:!0});var he=v(te);ae=h(he,"DIV",{class:!0,"data-svelte-h":!0}),He(ae)!=="svelte-36jwmy"&&(ae.innerHTML=ce),ne=A(he),_e=h(he,"DIV",{class:!0});var Re=v(_e);pe=N(Re,Ae),Re.forEach(i),he.forEach(i),ue=A(lt),ge=h(lt,"BUTTON",{class:!0});var Ge=v(ge);ee=h(Ge,"DIV",{class:!0,"data-svelte-h":!0}),He(ee)!=="svelte-1gtbwe5"&&(ee.innerHTML=se),fe=A(Ge),me=h(Ge,"DIV",{class:!0});var ut=v(me);be=N(ut,Ne),ut.forEach(i),Ge.forEach(i),Se=A(lt),xe=h(lt,"BUTTON",{class:!0});var zt=v(xe);X=h(zt,"DIV",{class:!0,"data-svelte-h":!0}),He(X)!=="svelte-amityv"&&(X.innerHTML=q),de=A(zt),ke=h(zt,"DIV",{class:!0});var Zt=v(ke);Ee=N(Zt,Be),Zt.forEach(i),zt.forEach(i),De=A(lt),Ie=h(lt,"BUTTON",{class:!0});var Lt=v(Ie);$e=h(Lt,"DIV",{class:!0,"data-svelte-h":!0}),He($e)!=="svelte-15t8s7e"&&($e.innerHTML=nt),st=A(Lt),ot=h(Lt,"DIV",{class:!0});var Rt=v(ot);Je=N(Rt,gt),Rt.forEach(i),Lt.forEach(i),lt.forEach(i),Tt=A(at),tt=h(at,"DIV",{class:!0});var $t=v(tt);We&&We.l($t),$t.forEach(i),at.forEach(i),Ke.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(w,"class","self-center mr-2"),o(E,"class","self-center"),o(m,"class",I="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(C,"class","self-center mr-2"),o(B,"class","self-center"),o(S,"class",L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(j,"class","self-center mr-2"),o(P,"class","self-center"),o(Z,"class",F="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="personalization"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ae,"class","self-center mr-2"),o(_e,"class","self-center"),o(te,"class",ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ee,"class","self-center mr-2"),o(me,"class","self-center"),o(ge,"class",Fe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(X,"class","self-center mr-2"),o(ke,"class","self-center"),o(xe,"class",ye="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o($e,"class","self-center mr-2"),o(ot,"class","self-center"),o(Ie,"class",wt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),o(tt,"class","flex-1 md:min-h-[28rem]"),o(g,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),o(e,"class","text-gray-700 dark:text-gray-100")},m(ve,Ke){R(ve,e,Ke),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(e,_),r(e,g),r(g,p),r(p,m),r(m,w),r(m,k),r(m,E),r(E,T),r(p,V),Le&&Le.m(p,null),r(p,D),r(p,S),r(S,C),r(S,W),r(S,B),r(B,Y),r(p,x),r(p,Z),r(Z,j),Ce(O,j,null),r(Z,U),r(Z,P),r(P,J),r(p,Q),r(p,te),r(te,ae),r(te,ne),r(te,_e),r(_e,pe),r(p,ue),r(p,ge),r(ge,ee),r(ge,fe),r(ge,me),r(me,be),r(p,Se),r(p,xe),r(xe,X),r(xe,de),r(xe,ke),r(ke,Ee),r(p,De),r(p,Ie),r(Ie,$e),r(Ie,st),r(Ie,ot),r(ot,Je),r(g,Tt),r(g,tt),~ze&&Oe[ze].m(tt,null),Xe=!0,it||(ft=[le(u,"click",s[7]),le(m,"click",s[8]),le(S,"click",s[10]),le(Z,"click",s[11]),le(te,"click",s[12]),le(ge,"click",s[13]),le(xe,"click",s[14]),le(Ie,"click",s[15])],it=!0)},p(ve,Ke){(!Xe||Ke&4)&&a!==(a=ve[2].t("Settings")+"")&&z(n,a),(!Xe||Ke&4)&&y!==(y=ve[2].t("General")+"")&&z(T,y),(!Xe||Ke&2&&I!==(I="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(m,"class",I),ve[3].role==="admin"?Le?Le.p(ve,Ke):(Le=Cs(ve),Le.c(),Le.m(p,D)):Le&&(Le.d(1),Le=null),(!Xe||Ke&4)&&G!==(G=ve[2].t("Interface")+"")&&z(Y,G),(!Xe||Ke&2&&L!==(L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(S,"class",L),(!Xe||Ke&4)&&K!==(K=ve[2].t("Personalization")+"")&&z(J,K),(!Xe||Ke&2&&F!==(F="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="personalization"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Z,"class",F),(!Xe||Ke&4)&&Ae!==(Ae=ve[2].t("Audio")+"")&&z(pe,Ae),(!Xe||Ke&2&&ie!==(ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(te,"class",ie),(!Xe||Ke&4)&&Ne!==(Ne=ve[2].t("Chats")+"")&&z(be,Ne),(!Xe||Ke&2&&Fe!==(Fe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(ge,"class",Fe),(!Xe||Ke&4)&&Be!==(Be=ve[2].t("Account")+"")&&z(Ee,Be),(!Xe||Ke&2&&ye!==(ye="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(xe,"class",ye),(!Xe||Ke&4)&&gt!==(gt=ve[2].t("About")+"")&&z(Je,gt),(!Xe||Ke&2&&wt!==(wt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Ie,"class",wt);let dt=ze;ze=Ze(ve),ze===dt?~ze&&Oe[ze].p(ve,Ke):(We&&(Ct(),oe(Oe[dt],1,1,()=>{Oe[dt]=null}),Mt()),~ze?(We=Oe[ze],We?We.p(ve,Ke):(We=Oe[ze]=we[ze](ve),We.c()),re(We,1),We.m(tt,null)):We=null)},i(ve){Xe||(re(O.$$.fragment,ve),re(We),Xe=!0)},o(ve){oe(O.$$.fragment,ve),oe(We),Xe=!1},d(ve){ve&&i(e),Le&&Le.d(),Me(O),~ze&&Oe[ze].d(),it=!1,et(ft)}}}function no(s){let e,t,l;function a(c){s[21](c)}let n={$$slots:{default:[ro]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new cl({props:n}),yt.push(()=>Dt(e,"show",a)),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&8388623&&(f.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,f.show=c[0],It(()=>t=!1)),e.$set(f)},i(c){l||(re(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}function oo(s,e,t){let l,a,n;Ue(s,jt,B=>t(22,l=B)),Ue(s,ol,B=>t(3,n=B));const c=Et("i18n");Ue(s,c,B=>t(2,a=B));let{show:u=!1}=e;const f=async B=>{console.log(B),await jt.set({...l,...B}),await xl.set(await _()),await na(localStorage.token,{ui:l})},_=async()=>await ra(localStorage.token);let g="general";const p=()=>{t(0,u=!1)},m=()=>{t(1,g="general")},w=async()=>{await Yt("/admin/settings"),t(0,u=!1)},b=()=>{t(1,g="interface")},k=()=>{t(1,g="personalization")},E=()=>{t(1,g="audio")},y=()=>{t(1,g="chats")},T=()=>{t(1,g="account")},I=()=>{t(1,g="about")},V=()=>{Qe.success(a.t("Settings saved successfully!"))},D=()=>{Qe.success(a.t("Settings saved successfully!"))},S=()=>{Qe.success(a.t("Settings saved successfully!"))},C=()=>{Qe.success(a.t("Settings saved successfully!"))},$=()=>{Qe.success(a.t("Settings saved successfully!"))};function W(B){u=B,t(0,u)}return s.$$set=B=>{"show"in B&&t(0,u=B.show)},[u,g,a,n,c,f,_,p,m,w,b,k,E,y,T,I,V,D,S,C,$,W]}class io extends mt{constructor(e){super(),pt(this,e,oo,no,_t,{show:0})}}function co(s){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=je(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(i),a.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,a){R(l,e,a),r(e,t)},p(l,[a]){a&2&&o(e,"stroke-width",l[1]),a&1&&o(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&i(e)}}}function uo(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,a=n.strokeWidth)},[l,a]}class fo extends mt{constructor(e){super(),pt(this,e,uo,co,_t,{className:0,strokeWidth:1})}}function ho(s){let e;const t=s[10].default,l=ta(t,s,s[19],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,n){l&&l.m(a,n),e=!0},p(a,n){l&&l.p&&(!e||n&524288)&&la(l,t,a,a[19],e?aa(t,a[19],n,null):sa(a[19]),null)},i(a){e||(re(l,a),e=!0)},o(a){oe(l,a),e=!1},d(a){l&&l.d(a)}}}function vo(s){let e,t;return e=new Gt({props:{content:s[8].t("More"),$$slots:{default:[ho]},$$scope:{ctx:s}}}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p(l,a){const n={};a&256&&(n.content=l[8].t("More")),a&524288&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function _o(s){let e,t,l,a=s[8].t("Rename")+"",n,c;return e=new fo({props:{strokeWidth:"2"}}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),R(u,t,f),R(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Rename")+"")&&z(n,a)},i(u){c||(re(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function mo(s){let e,t,l,a=s[8].t("Clone")+"",n,c;return e=new ar({props:{strokeWidth:"2"}}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),R(u,t,f),R(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Clone")+"")&&z(n,a)},i(u){c||(re(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function po(s){let e,t,l,a=s[8].t("Archive")+"",n,c;return e=new Xa({props:{strokeWidth:"2"}}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),R(u,t,f),R(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Archive")+"")&&z(n,a)},i(u){c||(re(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function go(s){let e,t,l,a=s[8].t("Share")+"",n,c;return e=new rr({}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),R(u,t,f),R(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Share")+"")&&z(n,a)},i(u){c||(re(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function bo(s){let e,t,l,a=s[8].t("Delete")+"",n,c;return e=new nr({props:{strokeWidth:"2"}}),{c(){Te(e.$$.fragment),t=M(),l=d("div"),n=H(a),this.h()},l(u){Ve(e.$$.fragment,u),t=A(u),l=h(u,"DIV",{class:!0});var f=v(l);n=N(f,a),f.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(u,f){Ce(e,u,f),R(u,t,f),R(u,l,f),r(l,n),c=!0},p(u,f){(!c||f&256)&&a!==(a=u[8].t("Delete")+"")&&z(n,a)},i(u){c||(re(e.$$.fragment,u),c=!0)},o(u){oe(e.$$.fragment,u),c=!1},d(u){u&&(i(t),i(l)),Me(e,u)}}}function wo(s){let e,t,l,a,n,c,u,f,_,g,p,m,w,b,k;return e=new sl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[_o]},$$scope:{ctx:s}}}),e.$on("click",s[11]),l=new sl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[mo]},$$scope:{ctx:s}}}),l.$on("click",s[12]),n=new sl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[po]},$$scope:{ctx:s}}}),n.$on("click",s[13]),u=new sl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[go]},$$scope:{ctx:s}}}),u.$on("click",s[14]),_=new sl({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[bo]},$$scope:{ctx:s}}}),_.$on("click",s[15]),b=new Ja({props:{chatId:s[6]}}),b.$on("close",s[16]),{c(){Te(e.$$.fragment),t=M(),Te(l.$$.fragment),a=M(),Te(n.$$.fragment),c=M(),Te(u.$$.fragment),f=M(),Te(_.$$.fragment),g=M(),p=d("hr"),m=M(),w=d("div"),Te(b.$$.fragment),this.h()},l(E){Ve(e.$$.fragment,E),t=A(E),Ve(l.$$.fragment,E),a=A(E),Ve(n.$$.fragment,E),c=A(E),Ve(u.$$.fragment,E),f=A(E),Ve(_.$$.fragment,E),g=A(E),p=h(E,"HR",{class:!0}),m=A(E),w=h(E,"DIV",{class:!0});var y=v(w);Ve(b.$$.fragment,y),y.forEach(i),this.h()},h(){o(p,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),o(w,"class","flex p-1")},m(E,y){Ce(e,E,y),R(E,t,y),Ce(l,E,y),R(E,a,y),Ce(n,E,y),R(E,c,y),Ce(u,E,y),R(E,f,y),Ce(_,E,y),R(E,g,y),R(E,p,y),R(E,m,y),R(E,w,y),Ce(b,w,null),k=!0},p(E,y){const T={};y&524544&&(T.$$scope={dirty:y,ctx:E}),e.$set(T);const I={};y&524544&&(I.$$scope={dirty:y,ctx:E}),l.$set(I);const V={};y&524544&&(V.$$scope={dirty:y,ctx:E}),n.$set(V);const D={};y&524544&&(D.$$scope={dirty:y,ctx:E}),u.$set(D);const S={};y&524544&&(S.$$scope={dirty:y,ctx:E}),_.$set(S);const C={};y&64&&(C.chatId=E[6]),b.$set(C)},i(E){k||(re(e.$$.fragment,E),re(l.$$.fragment,E),re(n.$$.fragment,E),re(u.$$.fragment,E),re(_.$$.fragment,E),re(b.$$.fragment,E),k=!0)},o(E){oe(e.$$.fragment,E),oe(l.$$.fragment,E),oe(n.$$.fragment,E),oe(u.$$.fragment,E),oe(_.$$.fragment,E),oe(b.$$.fragment,E),k=!1},d(E){E&&(i(t),i(a),i(c),i(f),i(g),i(p),i(m),i(w)),Me(e,E),Me(l,E),Me(n,E),Me(u,E),Me(_,E),Me(b)}}}function ko(s){let e,t,l;return t=new lr({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:sr,$$slots:{default:[wo]},$$scope:{ctx:s}}}),{c(){e=d("div"),Te(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{slot:!0});var n=v(e);Ve(t.$$.fragment,n),n.forEach(i),this.h()},h(){o(e,"slot","content")},m(a,n){R(a,e,n),Ce(t,e,null),l=!0},p(a,n){const c={};n&524799&&(c.$$scope={dirty:n,ctx:a}),t.$set(c)},i(a){l||(re(t.$$.fragment,a),l=!0)},o(a){oe(t.$$.fragment,a),l=!1},d(a){a&&i(e),Me(t)}}}function yo(s){let e,t,l;function a(c){s[17](c)}let n={$$slots:{content:[ko],default:[vo]},$$scope:{ctx:s}};return s[7]!==void 0&&(n.show=s[7]),e=new tr({props:n}),yt.push(()=>Dt(e,"show",a)),e.$on("change",s[18]),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&524799&&(f.$$scope={dirty:u,ctx:c}),!t&&u&128&&(t=!0,f.show=c[7],It(()=>t=!1)),e.$set(f)},i(c){l||(re(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}function Eo(s,e,t){let l,{$$slots:a={},$$scope:n}=e;const c=Et("i18n");Ue(s,c,C=>t(8,l=C));let{shareHandler:u}=e,{cloneChatHandler:f}=e,{archiveChatHandler:_}=e,{renameHandler:g}=e,{deleteHandler:p}=e,{onClose:m}=e,{chatId:w=""}=e,b=!1;const k=()=>{g()},E=()=>{f()},y=()=>{_()},T=()=>{u()},I=()=>{p()},V=()=>{t(7,b=!1),m()};function D(C){b=C,t(7,b)}const S=C=>{C.detail===!1&&m()};return s.$$set=C=>{"shareHandler"in C&&t(0,u=C.shareHandler),"cloneChatHandler"in C&&t(1,f=C.cloneChatHandler),"archiveChatHandler"in C&&t(2,_=C.archiveChatHandler),"renameHandler"in C&&t(3,g=C.renameHandler),"deleteHandler"in C&&t(4,p=C.deleteHandler),"onClose"in C&&t(5,m=C.onClose),"chatId"in C&&t(6,w=C.chatId),"$$scope"in C&&t(19,n=C.$$scope)},[u,f,_,g,p,m,w,b,l,c,a,k,E,y,T,I,V,D,S,n]}class Io extends mt{constructor(e){super(),pt(this,e,Eo,yo,_t,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6})}}function Ms(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Do(s){let e,t=s[3].t("You have no archived conversations.")+"",l;return{c(){e=d("div"),l=H(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","text-left text-sm w-full mb-8")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n&8&&t!==(t=a[3].t("You have no archived conversations.")+"")&&z(l,t)},i:Ye,o:Ye,d(a){a&&i(e)}}}function To(s){let e,t,l,a,n,c,u,f=s[3].t("Name")+"",_,g,p,m=s[3].t("Created At")+"",w,b,k,E,y,T,I,V,D="Export All Archived Chats",S,C,$,W=rt(s[2].filter(s[10])),B=[];for(let Y=0;Y<W.length;Y+=1)B[Y]=As(Ms(s,W,Y));const G=Y=>oe(B[Y],1,1,()=>{B[Y]=null});return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("table"),n=d("thead"),c=d("tr"),u=d("th"),_=H(f),g=M(),p=d("th"),w=H(m),b=M(),k=d("th"),E=M(),y=d("tbody");for(let Y=0;Y<B.length;Y+=1)B[Y].c();T=M(),I=d("div"),V=d("button"),V.textContent=D,this.h()},l(Y){e=h(Y,"DIV",{class:!0});var L=v(e);t=h(L,"DIV",{class:!0});var x=v(t);l=h(x,"DIV",{class:!0});var Z=v(l);a=h(Z,"TABLE",{class:!0});var j=v(a);n=h(j,"THEAD",{class:!0});var O=v(n);c=h(O,"TR",{});var U=v(c);u=h(U,"TH",{scope:!0,class:!0});var P=v(u);_=N(P,f),P.forEach(i),g=A(U),p=h(U,"TH",{scope:!0,class:!0});var K=v(p);w=N(K,m),K.forEach(i),b=A(U),k=h(U,"TH",{scope:!0,class:!0}),v(k).forEach(i),U.forEach(i),O.forEach(i),E=A(j),y=h(j,"TBODY",{});var J=v(y);for(let Q=0;Q<B.length;Q+=1)B[Q].l(J);J.forEach(i),j.forEach(i),Z.forEach(i),x.forEach(i),T=A(L),I=h(L,"DIV",{class:!0});var F=v(I);V=h(F,"BUTTON",{class:!0,"data-svelte-h":!0}),He(V)!=="svelte-1kobxt8"&&(V.textContent=D),F.forEach(i),L.forEach(i),this.h()},h(){o(u,"scope","col"),o(u,"class","px-3 py-2"),o(p,"scope","col"),o(p,"class","px-3 py-2 hidden md:flex"),o(k,"scope","col"),o(k,"class","px-3 py-2 text-right"),o(n,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),o(a,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),o(l,"class","relative overflow-x-auto"),o(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),o(V,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(I,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1"),o(e,"class","w-full")},m(Y,L){R(Y,e,L),r(e,t),r(t,l),r(l,a),r(a,n),r(n,c),r(c,u),r(u,_),r(c,g),r(c,p),r(p,w),r(c,b),r(c,k),r(a,E),r(a,y);for(let x=0;x<B.length;x+=1)B[x]&&B[x].m(y,null);r(e,T),r(e,I),r(I,V),S=!0,C||($=le(V,"click",s[13]),C=!0)},p(Y,L){if((!S||L&8)&&f!==(f=Y[3].t("Name")+"")&&z(_,f),(!S||L&8)&&m!==(m=Y[3].t("Created At")+"")&&z(w,m),L&110){W=rt(Y[2].filter(Y[10]));let x;for(x=0;x<W.length;x+=1){const Z=Ms(Y,W,x);B[x]?(B[x].p(Z,L),re(B[x],1)):(B[x]=As(Z),B[x].c(),re(B[x],1),B[x].m(y,null))}for(Ct(),x=W.length;x<B.length;x+=1)G(x);Mt()}},i(Y){if(!S){for(let L=0;L<W.length;L+=1)re(B[L]);S=!0}},o(Y){B=B.filter(Boolean);for(let L=0;L<B.length;L+=1)oe(B[L]);S=!1},d(Y){Y&&i(e),Ht(B,Y),C=!1,$()}}}function Vo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,a;function n(){return s[11](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(c,u){R(c,e,u),l||(a=le(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function Co(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function n(){return s[12](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(c,u){R(c,e,u),l||(a=le(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function As(s){let e,t,l,a,n=s[17].title+"",c,u,f,_,g,p=gl(s[17].created_at*1e3).format(s[3].t("MMMM DD, YYYY HH:mm"))+"",m,w,b,k,E,y,T,I,V,D;return E=new Gt({props:{content:"Unarchive Chat",$$slots:{default:[Vo]},$$scope:{ctx:s}}}),T=new Gt({props:{content:"Delete Chat",$$slots:{default:[Co]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),a=d("div"),c=H(n),f=M(),_=d("td"),g=d("div"),m=H(p),w=M(),b=d("td"),k=d("div"),Te(E.$$.fragment),y=M(),Te(T.$$.fragment),I=M(),this.h()},l(S){e=h(S,"TR",{class:!0});var C=v(e);t=h(C,"TD",{class:!0});var $=v(t);l=h($,"A",{href:!0,target:!0});var W=v(l);a=h(W,"DIV",{class:!0});var B=v(a);c=N(B,n),B.forEach(i),W.forEach(i),$.forEach(i),f=A(C),_=h(C,"TD",{class:!0});var G=v(_);g=h(G,"DIV",{class:!0});var Y=v(g);m=N(Y,p),Y.forEach(i),G.forEach(i),w=A(C),b=h(C,"TD",{class:!0});var L=v(b);k=h(L,"DIV",{class:!0});var x=v(k);Ve(E.$$.fragment,x),y=A(x),Ve(T.$$.fragment,x),x.forEach(i),L.forEach(i),I=A(C),C.forEach(i),this.h()},h(){o(a,"class","underline line-clamp-1"),o(l,"href",u="/c/"+s[17].id),o(l,"target","_blank"),o(t,"class","px-3 py-1 w-2/3"),o(g,"class","my-auto"),o(_,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),o(k,"class","flex justify-end w-full"),o(b,"class","px-3 py-1 text-right"),o(e,"class",V="bg-transparent "+(s[19]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(S,C){R(S,e,C),r(e,t),r(t,l),r(l,a),r(a,c),r(e,f),r(e,_),r(_,g),r(g,m),r(e,w),r(e,b),r(b,k),Ce(E,k,null),r(k,y),Ce(T,k,null),r(e,I),D=!0},p(S,C){(!D||C&6)&&n!==(n=S[17].title+"")&&z(c,n),(!D||C&6&&u!==(u="/c/"+S[17].id))&&o(l,"href",u),(!D||C&14)&&p!==(p=gl(S[17].created_at*1e3).format(S[3].t("MMMM DD, YYYY HH:mm"))+"")&&z(m,p);const $={};C&1048582&&($.$$scope={dirty:C,ctx:S}),E.$set($);const W={};C&1048582&&(W.$$scope={dirty:C,ctx:S}),T.$set(W),(!D||C&4&&V!==(V="bg-transparent "+(S[19]!==S[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&o(e,"class",V)},i(S){D||(re(E.$$.fragment,S),re(T.$$.fragment,S),D=!0)},o(S){oe(E.$$.fragment,S),oe(T.$$.fragment,S),D=!1},d(S){S&&i(e),Me(E),Me(T)}}}function Mo(s){let e,t,l,a=s[3].t("Archived Chats")+"",n,c,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,g,p,m,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',k,E,y,T,I,V,D,S,C,$,W,B;const G=[To,Do],Y=[];function L(x,Z){return x[2].length>0?0:1}return S=L(s),C=Y[S]=G[S](s),{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("button"),u.innerHTML=f,_=M(),g=d("div"),p=d("div"),m=d("div"),w=d("div"),w.innerHTML=b,k=M(),E=d("input"),T=M(),I=d("hr"),V=M(),D=d("div"),C.c(),this.h()},l(x){e=h(x,"DIV",{});var Z=v(e);t=h(Z,"DIV",{class:!0});var j=v(t);l=h(j,"DIV",{class:!0});var O=v(l);n=N(O,a),O.forEach(i),c=A(j),u=h(j,"BUTTON",{class:!0,"data-svelte-h":!0}),He(u)!=="svelte-745w2y"&&(u.innerHTML=f),j.forEach(i),_=A(Z),g=h(Z,"DIV",{class:!0});var U=v(g);p=h(U,"DIV",{class:!0});var P=v(p);m=h(P,"DIV",{class:!0});var K=v(m);w=h(K,"DIV",{class:!0,"data-svelte-h":!0}),He(w)!=="svelte-kinl2y"&&(w.innerHTML=b),k=A(K),E=h(K,"INPUT",{class:!0,placeholder:!0}),K.forEach(i),P.forEach(i),T=A(U),I=h(U,"HR",{class:!0}),V=A(U),D=h(U,"DIV",{class:!0});var J=v(D);C.l(J),J.forEach(i),U.forEach(i),Z.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(w,"class","self-center ml-1 mr-3"),o(E,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),o(E,"placeholder",y=s[3].t("Search Chats")),o(m,"class","flex flex-1"),o(p,"class","flex w-full mt-2 space-x-2"),o(I,"class","dark:border-gray-850 my-2"),o(D,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(g,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(x,Z){R(x,e,Z),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(e,_),r(e,g),r(g,p),r(p,m),r(m,w),r(m,k),r(m,E),qe(E,s[1]),r(g,T),r(g,I),r(g,V),r(g,D),Y[S].m(D,null),$=!0,W||(B=[le(u,"click",s[8]),le(E,"input",s[9])],W=!0)},p(x,Z){(!$||Z&8)&&a!==(a=x[3].t("Archived Chats")+"")&&z(n,a),(!$||Z&8&&y!==(y=x[3].t("Search Chats")))&&o(E,"placeholder",y),Z&2&&E.value!==x[1]&&qe(E,x[1]);let j=S;S=L(x),S===j?Y[S].p(x,Z):(Ct(),oe(Y[j],1,1,()=>{Y[j]=null}),Mt(),C=Y[S],C?C.p(x,Z):(C=Y[S]=G[S](x),C.c()),re(C,1),C.m(D,null))},i(x){$||(re(C),$=!0)},o(x){oe(C),$=!1},d(x){x&&i(e),Y[S].d(),W=!1,et(B)}}}function Ao(s){let e,t,l;function a(c){s[14](c)}let n={size:"lg",$$slots:{default:[Mo]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new cl({props:n}),yt.push(()=>Dt(e,"show",a)),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&1048591&&(f.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,f.show=c[0],It(()=>t=!1)),e.$set(f)},i(c){l||(re(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}function So(s,e,t){let l;const{saveAs:a}=Sl,n=Kt(),c=Et("i18n");Ue(s,c,V=>t(3,l=V));let{show:u=!1}=e,f="",_=[];const g=async V=>{await oa(localStorage.token,V).catch(D=>{Qe.error(D)}),t(2,_=await kl(localStorage.token)),n("change")},p=async V=>{await ia(localStorage.token,V).catch(D=>{Qe.error(D)}),t(2,_=await kl(localStorage.token))},m=async()=>{const V=await Ea(localStorage.token);let D=new Blob([JSON.stringify(V)],{type:"application/json"});a(D,`archived-chat-export-${Date.now()}.json`)},w=()=>{t(0,u=!1)};function b(){f=this.value,t(1,f)}const k=V=>f===""||V.title.toLowerCase().includes(f.toLowerCase()),E=async V=>{g(V.id)},y=async V=>{p(V.id)},T=()=>{m()};function I(V){u=V,t(0,u)}return s.$$set=V=>{"show"in V&&t(0,u=V.show)},s.$$.update=()=>{s.$$.dirty&1&&u&&(async()=>t(2,_=await kl(localStorage.token)))()},[u,f,_,l,c,g,p,m,w,b,k,E,y,T,I]}class xo extends mt{constructor(e){super(),pt(this,e,So,Ao,_t,{show:0})}}function Ss(s,e,t){const l=s.slice();return l[60]=e[t],l[62]=t,l}function xs(s,e,t){const l=s.slice();return l[63]=e[t],l}function Ls(s){let e,t,l;return{c(){e=d("div"),this.h()},l(a){e=h(a,"DIV",{class:!0}),v(e).forEach(i),this.h()},h(){o(e,"class","fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(a,n){R(a,e,n),t||(l=le(e,"mousedown",s[30]),t=!0)},p:Ye,d(a){a&&i(e),t=!1,l()}}}function Bs(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',n,c,u,f=s[13].t("Workspace")+"",_,g,p;return{c(){e=d("div"),t=d("a"),l=d("div"),l.innerHTML=a,n=M(),c=d("div"),u=d("div"),_=H(f),this.h()},l(m){e=h(m,"DIV",{class:!0});var w=v(e);t=h(w,"A",{class:!0,href:!0,draggable:!0});var b=v(t);l=h(b,"DIV",{class:!0,"data-svelte-h":!0}),He(l)!=="svelte-zod9jr"&&(l.innerHTML=a),n=A(b),c=h(b,"DIV",{class:!0});var k=v(c);u=h(k,"DIV",{class:!0});var E=v(u);_=N(E,f),E.forEach(i),k.forEach(i),b.forEach(i),w.forEach(i),this.h()},h(){o(l,"class","self-center"),o(u,"class","self-center font-medium text-sm"),o(c,"class","flex self-center"),o(t,"class","flex-grow flex space-x-3 rounded-xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(t,"href","/workspace"),o(t,"draggable","false"),o(e,"class","px-2.5 flex justify-center text-gray-800 dark:text-gray-200")},m(m,w){R(m,e,w),r(e,t),r(t,l),r(t,n),r(t,c),r(c,u),r(u,_),g||(p=le(t,"click",s[33]),g=!0)},p(m,w){w[0]&8192&&f!==(f=m[13].t("Workspace")+"")&&z(_,f)},d(m){m&&i(e),g=!1,p()}}}function Hs(s){let e,t,l,a=s[13].t("Chat History is off for this browser.")+"",n,c,u,f=s[13].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"",_,g,p,m=s[13].t("This setting does not sync across browsers or devices.")+"",w,b,k,E,y,T,I,V,D=s[13].t("Enable Chat History")+"",S,C,$;return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=d("div"),_=H(f),g=M(),p=d("span"),w=H(m),b=M(),k=d("div"),E=d("button"),y=Pe("svg"),T=Pe("path"),I=M(),V=d("div"),S=H(D),this.h()},l(W){e=h(W,"DIV",{class:!0});var B=v(e);t=h(B,"DIV",{class:!0});var G=v(t);l=h(G,"DIV",{class:!0});var Y=v(l);n=N(Y,a),Y.forEach(i),c=A(G),u=h(G,"DIV",{class:!0});var L=v(u);_=N(L,f),g=A(L),p=h(L,"SPAN",{class:!0});var x=v(p);w=N(x,m),x.forEach(i),L.forEach(i),b=A(G),k=h(G,"DIV",{class:!0});var Z=v(k);E=h(Z,"BUTTON",{class:!0,type:!0});var j=v(E);y=je(j,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var O=v(y);T=je(O,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(T).forEach(i),O.forEach(i),I=A(j),V=h(j,"DIV",{});var U=v(V);S=N(U,D),U.forEach(i),j.forEach(i),Z.forEach(i),G.forEach(i),B.forEach(i),this.h()},h(){o(l,"class","font-medium"),o(p,"class","font-semibold"),o(u,"class","text-xs mt-2"),o(T,"fill-rule","evenodd"),o(T,"d","M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z"),o(T,"clip-rule","evenodd"),o(y,"xmlns","http://www.w3.org/2000/svg"),o(y,"viewBox","0 0 16 16"),o(y,"fill","currentColor"),o(y,"class","w-3 h-3"),o(E,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-100 hover:bg-gray-200 transition text-gray-800 font-medium w-full"),o(E,"type","button"),o(k,"class","mt-3"),o(t,"class","text-left px-5 py-2"),o(e,"class","absolute z-40 w-full h-full bg-gray-50/90 dark:bg-black/90 flex justify-center")},m(W,B){R(W,e,B),r(e,t),r(t,l),r(l,n),r(t,c),r(t,u),r(u,_),r(u,g),r(u,p),r(p,w),r(t,b),r(t,k),r(k,E),r(E,y),r(y,T),r(E,I),r(E,V),r(V,S),C||($=le(E,"click",s[34]),C=!0)},p(W,B){B[0]&8192&&a!==(a=W[13].t("Chat History is off for this browser.")+"")&&z(n,a),B[0]&8192&&f!==(f=W[13].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"")&&z(_,f),B[0]&8192&&m!==(m=W[13].t("This setting does not sync across browsers or devices.")+"")&&z(w,m),B[0]&8192&&D!==(D=W[13].t("Enable Chat History")+"")&&z(S,D)},d(W){W&&i(e),C=!1,$()}}}function Ns(s){let e,t,l=s[13].t("all")+"",a,n,c,u,f=rt(s[18]),_=[];for(let g=0;g<f.length;g+=1)_[g]=Os(xs(s,f,g));return{c(){e=d("div"),t=d("button"),a=H(l),n=M();for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"BUTTON",{class:!0});var m=v(t);a=N(m,l),m.forEach(i),n=A(p);for(let w=0;w<_.length;w+=1)_[w].l(p);p.forEach(i),this.h()},h(){o(t,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full"),o(e,"class","px-2.5 mb-2 flex gap-1 flex-wrap")},m(g,p){R(g,e,p),r(e,t),r(t,a),r(e,n);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(e,null);c||(u=le(t,"click",s[37]),c=!0)},p(g,p){if(p[0]&8192&&l!==(l=g[13].t("all")+"")&&z(a,l),p[0]&262144){f=rt(g[18]);let m;for(m=0;m<f.length;m+=1){const w=xs(g,f,m);_[m]?_[m].p(w,p):(_[m]=Os(w),_[m].c(),_[m].m(e,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=f.length}},d(g){g&&i(e),Ht(_,g),c=!1,u()}}}function Os(s){let e,t=s[63].name+"",l,a,n,c;function u(){return s[38](s[63])}return{c(){e=d("button"),l=H(t),a=M(),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var _=v(e);l=N(_,t),a=A(_),_.forEach(i),this.h()},h(){o(e,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full")},m(f,_){R(f,e,_),r(e,l),r(e,a),n||(c=le(e,"click",u),n=!0)},p(f,_){s=f,_[0]&262144&&t!==(t=s[63].name+"")&&z(l,t)},d(f){f&&i(e),n=!1,c()}}}function Us(s){let e,t=s[13].t(s[60].time_range)+"",l;return{c(){e=d("div"),l=H(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=v(e);l=N(n,t),n.forEach(i),this.h()},h(){o(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[62]===0?"":"pt-5")+" pb-0.5")},m(a,n){R(a,e,n),r(e,l)},p(a,n){n[0]&9216&&t!==(t=a[13].t(a[60].time_range)+"")&&z(l,t)},d(a){a&&i(e)}}}function Lo(s){let e,t,l,a=s[60].title+"",n,c,u,f,_;function g(){return s[40](s[60])}function p(){return s[41](s[60])}return{c(){e=d("a"),t=d("div"),l=d("div"),n=H(a),this.h()},l(m){e=h(m,"A",{class:!0,href:!0,draggable:!0});var w=v(e);t=h(w,"DIV",{class:!0});var b=v(t);l=h(b,"DIV",{class:!0});var k=v(l);n=N(k,a),k.forEach(i),b.forEach(i),w.forEach(i),this.h()},h(){o(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),o(t,"class","flex self-center flex-1 w-full"),o(e,"class",c="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),o(e,"href",u="/c/"+s[60].id),o(e,"draggable","false")},m(m,w){R(m,e,w),r(e,t),r(t,l),r(l,n),f||(_=[le(e,"click",g),le(e,"dblclick",p)],f=!0)},p(m,w){s=m,w[0]&1024&&a!==(a=s[60].title+"")&&z(n,a),w[0]&5232&&c!==(c="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",c),w[0]&1024&&u!==(u="/c/"+s[60].id)&&o(e,"href",u)},d(m){m&&i(e),f=!1,et(_)}}}function Bo(s){let e,t,l,a,n;return{c(){e=d("div"),t=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var u=v(e);t=h(u,"INPUT",{class:!0}),u.forEach(i),this.h()},h(){o(t,"class","bg-transparent w-full outline-none mr-10"),o(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(c,u){R(c,e,u),r(e,t),qe(t,s[7]),a||(n=[va(s[26].call(null,t)),le(t,"input",s[39])],a=!0)},p(c,u){u[0]&128&&t.value!==c[7]&&qe(t,c[7]),u[0]&5232&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(c[60].id===c[12]||c[60].id===c[6]||c[60].id===c[5]?"bg-gray-200 dark:bg-gray-900":c[60].id===c[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",l)},d(c){c&&i(e),a=!1,et(n)}}}function Ho(s){let e,t,l,a;function n(){return s[47](s[60])}function c(){return s[49](s[60])}function u(){return s[50](s[60])}function f(){return s[51](s[60])}t=new Io({props:{chatId:s[60].id,cloneChatHandler:n,shareHandler:s[48],archiveChatHandler:c,renameHandler:u,deleteHandler:f,onClose:s[52],$$slots:{default:[Uo]},$$scope:{ctx:s}}});let _=s[60].id===s[12]&&Ps(s);return{c(){e=d("div"),Te(t.$$.fragment),l=M(),_&&_.c(),this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);Ve(t.$$.fragment,p),l=A(p),_&&_.l(p),p.forEach(i),this.h()},h(){o(e,"class","flex self-center space-x-1 z-10")},m(g,p){R(g,e,p),Ce(t,e,null),r(e,l),_&&_.m(e,null),a=!0},p(g,p){s=g;const m={};p[0]&1024&&(m.chatId=s[60].id),p[0]&1024&&(m.cloneChatHandler=n),p[0]&280&&(m.shareHandler=s[48]),p[0]&1024&&(m.archiveChatHandler=c),p[0]&1216&&(m.renameHandler=u),p[0]&1056&&(m.deleteHandler=f),p[0]&16&&(m.onClose=s[52]),p[0]&1040|p[2]&16&&(m.$$scope={dirty:p,ctx:s}),t.$set(m),s[60].id===s[12]?_?_.p(s,p):(_=Ps(s),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i(g){a||(re(t.$$.fragment,g),a=!0)},o(g){oe(t.$$.fragment,g),a=!1},d(g){g&&i(e),Me(t),_&&_.d()}}}function No(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',a,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,f;function _(){return s[44](s[60])}return{c(){e=d("div"),t=d("button"),t.innerHTML=l,a=M(),n=d("button"),n.innerHTML=c,this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"BUTTON",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-b43ps3"&&(t.innerHTML=l),a=A(p),n=h(p,"BUTTON",{class:!0,"data-svelte-h":!0}),He(n)!=="svelte-1rs1rrb"&&(n.innerHTML=c),p.forEach(i),this.h()},h(){o(t,"class","self-center dark:hover:text-white transition"),o(n,"class","self-center dark:hover:text-white transition"),o(e,"class","flex self-center space-x-1.5 z-10")},m(g,p){R(g,e,p),r(e,t),r(e,a),r(e,n),u||(f=[le(t,"click",_),le(n,"click",s[45])],u=!0)},p(g,p){s=g},i:Ye,o:Ye,d(g){g&&i(e),u=!1,et(f)}}}function Oo(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',a,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,f;function _(){return s[42](s[60])}return{c(){e=d("div"),t=d("button"),t.innerHTML=l,a=M(),n=d("button"),n.innerHTML=c,this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"BUTTON",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-s5m6yg"&&(t.innerHTML=l),a=A(p),n=h(p,"BUTTON",{class:!0,"data-svelte-h":!0}),He(n)!=="svelte-tqhykr"&&(n.innerHTML=c),p.forEach(i),this.h()},h(){o(t,"class","self-center dark:hover:text-white transition"),o(n,"class","self-center dark:hover:text-white transition"),o(e,"class","flex self-center space-x-1.5 z-10")},m(g,p){R(g,e,p),r(e,t),r(e,a),r(e,n),u||(f=[le(t,"click",_),le(n,"click",s[43])],u=!0)},p(g,p){s=g},i:Ye,o:Ye,d(g){g&&i(e),u=!1,et(f)}}}function Uo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;function n(){return s[46](s[60])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),He(e)!=="svelte-pdrw69"&&(e.innerHTML=t),this.h()},h(){o(e,"aria-label","Chat Menu"),o(e,"class","self-center dark:hover:text-white transition")},m(c,u){R(c,e,u),l||(a=le(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function Ps(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;function n(){return s[53](s[60])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(c){e=h(c,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),He(e)!=="svelte-u345si"&&(e.innerHTML=t),this.h()},h(){o(e,"id","delete-chat-button"),o(e,"class","hidden")},m(c,u){R(c,e,u),l||(a=le(e,"click",n),l=!0)},p(c,u){s=c},d(c){c&&i(e),l=!1,a()}}}function js(s){let e,t,l,a,n,c,u,f,_,g=(s[62]===0||s[62]>0&&s[60].time_range!==s[10][s[62]-1].time_range)&&Us(s);function p(y,T){return y[6]===y[60].id?Bo:Lo}let m=p(s),w=m(s);const b=[Oo,No,Ho],k=[];function E(y,T){return y[6]===y[60].id?0:y[5]===y[60].id?1:2}return n=E(s),c=k[n]=b[n](s),{c(){g&&g.c(),e=M(),t=d("div"),w.c(),l=M(),a=d("div"),c.c(),f=M(),this.h()},l(y){g&&g.l(y),e=A(y),t=h(y,"DIV",{class:!0});var T=v(t);w.l(T),l=A(T),a=h(T,"DIV",{class:!0});var I=v(a);c.l(I),I.forEach(i),f=A(T),T.forEach(i),this.h()},h(){o(a,"class",u=(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"from-gray-200 dark:from-gray-900":s[60].id===s[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),o(t,"class","w-full pr-2 relative group")},m(y,T){g&&g.m(y,T),R(y,e,T),R(y,t,T),w.m(t,null),r(t,l),r(t,a),k[n].m(a,null),r(t,f),_=!0},p(y,T){y[62]===0||y[62]>0&&y[60].time_range!==y[10][y[62]-1].time_range?g?g.p(y,T):(g=Us(y),g.c(),g.m(e.parentNode,e)):g&&(g.d(1),g=null),m===(m=p(y))&&w?w.p(y,T):(w.d(1),w=m(y),w&&(w.c(),w.m(t,l)));let I=n;n=E(y),n===I?k[n].p(y,T):(Ct(),oe(k[I],1,1,()=>{k[I]=null}),Mt(),c=k[n],c?c.p(y,T):(c=k[n]=b[n](y),c.c()),re(c,1),c.m(a,null)),(!_||T[0]&5232&&u!==(u=(y[60].id===y[12]||y[60].id===y[6]||y[60].id===y[5]?"from-gray-200 dark:from-gray-900":y[60].id===y[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&o(a,"class",u)},i(y){_||(re(c),_=!0)},o(y){oe(c),_=!1},d(y){y&&(i(e),i(t)),g&&g.d(y),w.d(),k[n].d()}}}function zs(s){let e,t;return e=new er({props:{role:s[17].role,$$slots:{default:[Po]},$$scope:{ctx:s}}}),e.$on("show",s[55]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p(l,a){const n={};a[0]&131072&&(n.role=l[17].role),a[0]&131584|a[2]&16&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function Po(s){let e,t,l,a,n,c,u=s[17].name+"",f,_,g;return{c(){e=d("button"),t=d("div"),l=d("img"),n=M(),c=d("div"),f=H(u),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var w=v(t);l=h(w,"IMG",{src:!0,class:!0,alt:!0}),w.forEach(i),n=A(m),c=h(m,"DIV",{class:!0});var b=v(c);f=N(b,u),b.forEach(i),m.forEach(i),this.h()},h(){ml(l.src,a=s[17].profile_image_url)||o(l,"src",a),o(l,"class","max-w-[30px] object-cover rounded-full"),o(l,"alt","User profile"),o(t,"class","self-center mr-3"),o(c,"class","self-center font-semibold"),o(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(p,m){R(p,e,m),r(e,t),r(t,l),r(e,n),r(e,c),r(c,f),_||(g=le(e,"click",s[54]),_=!0)},p(p,m){m[0]&131072&&!ml(l.src,a=p[17].profile_image_url)&&o(l,"src",a),m[0]&131072&&u!==(u=p[17].name+"")&&z(f,u)},d(p){p&&i(e),_=!1,g()}}}function jo(s){var xe;let e,t,l,a,n,c,u,f,_,g,p,m,w=`<img crossorigin="anonymous" src="${Sa}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,b,k,E=s[13].t("New Chat")+"",y,T,I,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',D,S,C='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',$,W,B,G,Y,L,x,Z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',j,O,U,P,K,J,F,Q,te,ae,ce,ne,_e,Ae;function pe(X){s[27](X)}let ie={chatId:s[3]};s[8]!==void 0&&(ie.show=s[8]),e=new Qa({props:ie}),yt.push(()=>Dt(e,"show",pe));function ue(X){s[28](X)}let ge={};s[15]!==void 0&&(ge.show=s[15]),a=new xo({props:ge}),yt.push(()=>Dt(a,"show",ue)),a.$on("change",s[29]);let ee=s[14]&&Ls(s),se=((xe=s[17])==null?void 0:xe.role)==="admin"&&Bs(s),fe=!(s[11].saveChatHistory??!0)&&Hs(s),me=s[18].length>0&&Ns(s),Ne=rt(s[10]),be=[];for(let X=0;X<Ne.length;X+=1)be[X]=js(Ss(s,Ne,X));const Fe=X=>oe(be[X],1,1,()=>{be[X]=null});let Se=s[17]!==void 0&&zs(s);return{c(){Te(e.$$.fragment),l=M(),Te(a.$$.fragment),c=M(),ee&&ee.c(),u=M(),f=d("div"),_=d("div"),g=d("div"),p=d("a"),m=d("div"),m.innerHTML=w,b=M(),k=d("div"),y=H(E),T=M(),I=d("div"),I.innerHTML=V,D=M(),S=d("button"),S.innerHTML=C,$=M(),se&&se.c(),W=M(),B=d("div"),fe&&fe.c(),G=M(),Y=d("div"),L=d("div"),x=d("div"),x.innerHTML=Z,j=M(),O=d("input"),P=M(),me&&me.c(),K=M(),J=d("div");for(let X=0;X<be.length;X+=1)be[X].c();F=M(),Q=d("div"),te=d("div"),Se&&Se.c(),this.h()},l(X){Ve(e.$$.fragment,X),l=A(X),Ve(a.$$.fragment,X),c=A(X),ee&&ee.l(X),u=A(X),f=h(X,"DIV",{id:!0,class:!0,"data-state":!0});var q=v(f);_=h(q,"DIV",{class:!0});var de=v(_);g=h(de,"DIV",{class:!0});var ke=v(g);p=h(ke,"A",{id:!0,class:!0,href:!0,draggable:!0});var Be=v(p);m=h(Be,"DIV",{class:!0,"data-svelte-h":!0}),He(m)!=="svelte-r2hfwb"&&(m.innerHTML=w),b=A(Be),k=h(Be,"DIV",{class:!0});var Ee=v(k);y=N(Ee,E),Ee.forEach(i),T=A(Be),I=h(Be,"DIV",{class:!0,"data-svelte-h":!0}),He(I)!=="svelte-aq723q"&&(I.innerHTML=V),Be.forEach(i),D=A(ke),S=h(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),He(S)!=="svelte-bwmtc9"&&(S.innerHTML=C),ke.forEach(i),$=A(de),se&&se.l(de),W=A(de),B=h(de,"DIV",{class:!0});var ye=v(B);fe&&fe.l(ye),G=A(ye),Y=h(ye,"DIV",{class:!0});var De=v(Y);L=h(De,"DIV",{class:!0,id:!0});var Ie=v(L);x=h(Ie,"DIV",{class:!0,"data-svelte-h":!0}),He(x)!=="svelte-1yg7etj"&&(x.innerHTML=Z),j=A(Ie),O=h(Ie,"INPUT",{class:!0,placeholder:!0}),Ie.forEach(i),De.forEach(i),P=A(ye),me&&me.l(ye),K=A(ye),J=h(ye,"DIV",{class:!0});var $e=v(J);for(let ot=0;ot<be.length;ot+=1)be[ot].l($e);$e.forEach(i),ye.forEach(i),F=A(de),Q=h(de,"DIV",{class:!0});var nt=v(Q);te=h(nt,"DIV",{class:!0});var st=v(te);Se&&Se.l(st),st.forEach(i),nt.forEach(i),de.forEach(i),q.forEach(i),this.h()},h(){o(m,"class","self-center mx-1.5"),o(k,"class","self-center font-medium text-sm text-gray-850 dark:text-white"),o(I,"class","self-center ml-auto"),o(p,"id","sidebar-new-chat-button"),o(p,"class","flex flex-1 justify-between rounded-xl px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),o(p,"href","/"),o(p,"draggable","false"),o(S,"class","cursor-pointer px-2 py-2 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition"),o(g,"class","px-2.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),o(x,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),o(O,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),o(O,"placeholder",U=s[13].t("Search")),o(L,"class","flex w-full rounded-xl"),o(L,"id","chat-search"),o(Y,"class","px-2 mt-0.5 mb-2 flex justify-center space-x-2"),o(J,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-hidden svelte-141e0sl"),o(B,"class","relative flex flex-col flex-1 overflow-y-auto"),o(te,"class","flex flex-col"),o(Q,"class","px-2.5"),o(_,"class",ae="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(s[14]?"":"invisible")),o(f,"id","sidebar"),o(f,"class",ce="h-screen max-h-[100dvh] min-h-screen select-none "+(s[14]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"),o(f,"data-state",s[14])},m(X,q){Ce(e,X,q),R(X,l,q),Ce(a,X,q),R(X,c,q),ee&&ee.m(X,q),R(X,u,q),R(X,f,q),r(f,_),r(_,g),r(g,p),r(p,m),r(p,b),r(p,k),r(k,y),r(p,T),r(p,I),r(g,D),r(g,S),r(_,$),se&&se.m(_,null),r(_,W),r(_,B),fe&&fe.m(B,null),r(B,G),r(B,Y),r(Y,L),r(L,x),r(L,j),r(L,O),qe(O,s[0]),r(B,P),me&&me.m(B,null),r(B,K),r(B,J);for(let de=0;de<be.length;de+=1)be[de]&&be[de].m(J,null);r(_,F),r(_,Q),r(Q,te),Se&&Se.m(te,null),s[56](f),ne=!0,_e||(Ae=[le(p,"click",s[31]),le(S,"click",s[32]),le(O,"input",s[35]),le(O,"focus",s[36])],_e=!0)},p(X,q){var Be;const de={};q[0]&8&&(de.chatId=X[3]),!t&&q[0]&256&&(t=!0,de.show=X[8],It(()=>t=!1)),e.$set(de);const ke={};if(!n&&q[0]&32768&&(n=!0,ke.show=X[15],It(()=>n=!1)),a.$set(ke),X[14]?ee?ee.p(X,q):(ee=Ls(X),ee.c(),ee.m(u.parentNode,u)):ee&&(ee.d(1),ee=null),(!ne||q[0]&8192)&&E!==(E=X[13].t("New Chat")+"")&&z(y,E),((Be=X[17])==null?void 0:Be.role)==="admin"?se?se.p(X,q):(se=Bs(X),se.c(),se.m(_,W)):se&&(se.d(1),se=null),X[11].saveChatHistory??!0?fe&&(fe.d(1),fe=null):fe?fe.p(X,q):(fe=Hs(X),fe.c(),fe.m(B,G)),(!ne||q[0]&8192&&U!==(U=X[13].t("Search")))&&o(O,"placeholder",U),q[0]&1&&O.value!==X[0]&&qe(O,X[0]),X[18].length>0?me?me.p(X,q):(me=Ns(X),me.c(),me.m(B,K)):me&&(me.d(1),me=null),q[0]&48313848){Ne=rt(X[10]);let Ee;for(Ee=0;Ee<Ne.length;Ee+=1){const ye=Ss(X,Ne,Ee);be[Ee]?(be[Ee].p(ye,q),re(be[Ee],1)):(be[Ee]=js(ye),be[Ee].c(),re(be[Ee],1),be[Ee].m(J,null))}for(Ct(),Ee=Ne.length;Ee<be.length;Ee+=1)Fe(Ee);Mt()}X[17]!==void 0?Se?(Se.p(X,q),q[0]&131072&&re(Se,1)):(Se=zs(X),Se.c(),re(Se,1),Se.m(te,null)):Se&&(Ct(),oe(Se,1,1,()=>{Se=null}),Mt()),(!ne||q[0]&16384&&ae!==(ae="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(X[14]?"":"invisible")))&&o(_,"class",ae),(!ne||q[0]&16384&&ce!==(ce="h-screen max-h-[100dvh] min-h-screen select-none "+(X[14]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"))&&o(f,"class",ce),(!ne||q[0]&16384)&&o(f,"data-state",X[14])},i(X){if(!ne){re(e.$$.fragment,X),re(a.$$.fragment,X);for(let q=0;q<Ne.length;q+=1)re(be[q]);re(Se),ne=!0}},o(X){oe(e.$$.fragment,X),oe(a.$$.fragment,X),be=be.filter(Boolean);for(let q=0;q<be.length;q+=1)oe(be[q]);oe(Se),ne=!1},d(X){X&&(i(l),i(c),i(u),i(f)),Me(e,X),Me(a,X),ee&&ee.d(X),se&&se.d(),fe&&fe.d(),me&&me.d(),Ht(be,X),Se&&Se.d(),s[56](null),_e=!1,et(Ae)}}}const zo=768;function Zo(s,e,t){let l,a,n,c,u,f,_,g,p;Ue(s,jt,q=>t(11,l=q)),Ue(s,es,q=>t(12,a=q)),Ue(s,Ut,q=>t(14,c=q)),Ue(s,St,q=>t(1,u=q)),Ue(s,yl,q=>t(15,f=q)),Ue(s,ts,q=>t(16,_=q)),Ue(s,ol,q=>t(17,g=q)),Ue(s,Cl,q=>t(18,p=q));const m=Et("i18n");Ue(s,m,q=>t(13,n=q));let w,b="",k=null,E=null,y=null,T=null,I="",V=!1,D=!1,S=[];Bt(async()=>{ts.subscribe(ye=>{c&&ye&&Ut.set(!1),!c&&!ye&&Ut.set(!0)}),Ut.set(window.innerWidth>zo),await St.set(await Pt(localStorage.token));let q,de;function ke(){const ye=window.innerWidth,De=Math.abs(de.screenX-q.screenX);q.clientX<40&&De>=ye/8&&(de.screenX<q.screenX&&Ut.set(!1),de.screenX>q.screenX&&Ut.set(!0))}const Be=ye=>{q=ye.changedTouches[0],console.log(q.clientX)},Ee=ye=>{de=ye.changedTouches[0],ke()};return window.addEventListener("touchstart",Be),window.addEventListener("touchend",Ee),()=>{window.removeEventListener("touchstart",Be),window.removeEventListener("touchend",Ee)}});const C=async q=>{const de=await Promise.all(q.map(async ke=>{const Be=await Ia(localStorage.token,ke.id).catch(Ee=>null);return Be&&(ke.chat=Be.chat),ke}));await St.set(de)},$=async(q,de)=>{de===""?Qe.error(n.t("Title cannot be an empty string.")):(await Da(localStorage.token,q,{title:de}),await St.set(await Pt(localStorage.token)))},W=async q=>{await ia(localStorage.token,q).catch(ke=>(Qe.error(ke),t(5,y=null),null))&&(a===q&&Yt("/"),await St.set(await Pt(localStorage.token)))},B=async q=>{const de=await Ta(localStorage.token,q).catch(ke=>(Qe.error(ke),null));de&&(Yt(`/c/${de.id}`),await St.set(await Pt(localStorage.token)))},G=async q=>{await jt.set({...l,...q}),await na(localStorage.token,{ui:l}),location.href="/"},Y=async q=>{await oa(localStorage.token,q),await St.set(await Pt(localStorage.token))},L=async q=>{q.focus()};function x(q){V=q,t(8,V)}function Z(q){f=q,yl.set(f)}const j=async()=>{await St.set(await Pt(localStorage.token))},O=()=>{Ut.set(!c)},U=async()=>{t(4,E=null),await Yt("/");const q=document.getElementById("new-chat-button");setTimeout(()=>{q==null||q.click(),_&&Ut.set(!1)},0)},P=()=>{Ut.set(!c)},K=()=>{t(4,E=null),es.set(""),_&&Ut.set(!1)},J=()=>{G({saveChatHistory:!0})};function F(){b=this.value,t(0,b)}const Q=()=>{C(u)},te=async()=>{await St.set(await Pt(localStorage.token))},ae=async q=>{let de=await Va(localStorage.token,q.name);de.length===0&&(await Cl.set(await ca(localStorage.token)),de=await Pt(localStorage.token)),await St.set(de)};function ce(){I=this.value,t(7,I)}const ne=q=>{t(4,E=q.id),_&&Ut.set(!1)},_e=q=>{t(7,I=q.title),t(6,T=q.id)},Ae=q=>{$(q.id,I),t(6,T=null),t(7,I="")},pe=()=>{t(6,T=null),t(7,I="")},ie=q=>{W(q.id)},ue=()=>{t(5,y=null)},ge=q=>{t(4,E=q.id)},ee=q=>{B(q.id)},se=()=>{t(3,k=E),t(8,V=!0)},fe=q=>{Y(q.id)},me=q=>{t(7,I=q.title),t(6,T=q.id)},Ne=q=>{t(5,y=q.id)},be=()=>{t(4,E=null)},Fe=q=>{t(5,y=q.id)},Se=()=>{t(9,D=!D)},xe=q=>{q.detail==="archived-chat"&&yl.set(!0)};function X(q){yt[q?"unshift":"push"](()=>{w=q,t(2,w)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(10,S=u.filter(q=>{if(b==="")return!0;{let de=q.title.toLowerCase();const ke=b.toLowerCase();let Be=!1;return q.chat&&q.chat.messages&&Array.isArray(q.chat.messages)&&(Be=q.chat.messages.some(Ee=>Ee.content&&Ee.content.toLowerCase().includes(ke))),de.includes(ke)||Be}}))},[b,u,w,k,E,y,T,I,V,D,S,l,a,n,c,f,_,g,p,m,C,$,W,B,G,Y,L,x,Z,j,O,U,P,K,J,F,Q,te,ae,ce,ne,_e,Ae,pe,ie,ue,ge,ee,se,fe,me,Ne,be,Fe,Se,xe,X]}class Ro extends mt{constructor(e){super(),pt(this,e,Zo,jo,_t,{},null,[-1,-1,-1])}}function Zs(s,e,t){const l=s.slice();return l[18]=e[t],l}function Rs(s){let e,t=rt({length:s[6]}),l=[];for(let a=0;a<t.length;a+=1)l[a]=$s(Zs(s,t,a));return{c(){e=d("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var n=v(e);for(let c=0;c<l.length;c+=1)l[c].l(n);n.forEach(i),this.h()},h(){o(e,"class","confetti-holder svelte-io58ff"),Xt(e,"rounded",s[9]),Xt(e,"cone",s[10]),Xt(e,"no-gravity",s[11])},m(a,n){R(a,e,n);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(a,n){if(n&20991){t=rt({length:a[6]});let c;for(c=0;c<t.length;c+=1){const u=Zs(a,t,c);l[c]?l[c].p(u,n):(l[c]=$s(u),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}n&512&&Xt(e,"rounded",a[9]),n&1024&&Xt(e,"cone",a[10]),n&2048&&Xt(e,"no-gravity",a[11])},d(a){a&&i(e),Ht(l,a)}}}function $s(s){let e;return{c(){e=d("div"),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0}),v(e).forEach(i),this.h()},h(){o(e,"class","confetti svelte-io58ff"),vt(e,"--fall-distance",s[8]),vt(e,"--size",s[0]+"px"),vt(e,"--color",s[14]()),vt(e,"--skew",Vt(-45,45)+"deg,"+Vt(-45,45)+"deg"),vt(e,"--rotation-xyz",Vt(-10,10)+", "+Vt(-10,10)+", "+Vt(-10,10)),vt(e,"--rotation-deg",Vt(0,360)+"deg"),vt(e,"--translate-y-multiplier",Vt(s[2][0],s[2][1])),vt(e,"--translate-x-multiplier",Vt(s[1][0],s[1][1])),vt(e,"--scale",.1*Vt(2,10)),vt(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),vt(e,"--transition-delay",Vt(s[5][0],s[5][1])+"ms"),vt(e,"--transition-iteration-count",s[4]?"infinite":s[7]),vt(e,"--x-spread",1-s[12])},m(t,l){R(t,e,l)},p(t,l){l&256&&vt(e,"--fall-distance",t[8]),l&1&&vt(e,"--size",t[0]+"px"),l&4&&vt(e,"--translate-y-multiplier",Vt(t[2][0],t[2][1])),l&2&&vt(e,"--translate-x-multiplier",Vt(t[1][0],t[1][1])),l&24&&vt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&vt(e,"--transition-delay",Vt(t[5][0],t[5][1])+"ms"),l&144&&vt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&vt(e,"--x-spread",1-t[12])},d(t){t&&i(e)}}}function $o(s){let e,t=!s[13]&&Rs(s);return{c(){t&&t.c(),e=pl()},l(l){t&&t.l(l),e=pl()},m(l,a){t&&t.m(l,a),R(l,e,a)},p(l,[a]){l[13]?t&&(t.d(1),t=null):t?t.p(l,a):(t=Rs(l),t.c(),t.m(e.parentNode,e))},i:Ye,o:Ye,d(l){l&&i(e),t&&t.d(l)}}}function Vt(s,e){return Math.random()*(e-s)+s}function Wo(s,e,t){let{size:l=10}=e,{x:a=[-.5,.5]}=e,{y:n=[.25,1]}=e,{duration:c=2e3}=e,{infinite:u=!1}=e,{delay:f=[0,50]}=e,{colorRange:_=[0,360]}=e,{colorArray:g=[]}=e,{amount:p=50}=e,{iterationCount:m=1}=e,{fallDistance:w="100px"}=e,{rounded:b=!1}=e,{cone:k=!1}=e,{noGravity:E=!1}=e,{xSpread:y=.15}=e,{destroyOnComplete:T=!0}=e,I=!1;Bt(()=>{!T||u||m=="infinite"||setTimeout(()=>t(13,I=!0),(c+f[1])*m)});function V(){return g.length?g[Math.round(Math.random()*(g.length-1))]:`hsl(${Math.round(Vt(_[0],_[1]))}, 75%, 50%)`}return s.$$set=D=>{"size"in D&&t(0,l=D.size),"x"in D&&t(1,a=D.x),"y"in D&&t(2,n=D.y),"duration"in D&&t(3,c=D.duration),"infinite"in D&&t(4,u=D.infinite),"delay"in D&&t(5,f=D.delay),"colorRange"in D&&t(15,_=D.colorRange),"colorArray"in D&&t(16,g=D.colorArray),"amount"in D&&t(6,p=D.amount),"iterationCount"in D&&t(7,m=D.iterationCount),"fallDistance"in D&&t(8,w=D.fallDistance),"rounded"in D&&t(9,b=D.rounded),"cone"in D&&t(10,k=D.cone),"noGravity"in D&&t(11,E=D.noGravity),"xSpread"in D&&t(12,y=D.xSpread),"destroyOnComplete"in D&&t(17,T=D.destroyOnComplete)},[l,a,n,c,u,f,p,m,w,b,k,E,y,I,V,_,g,T]}class qo extends mt{constructor(e){super(),pt(this,e,Wo,$o,_t,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function Ws(s,e,t){const l=s.slice();return l[9]=e[t],l}function qs(s,e,t){const l=s.slice();return l[12]=e[t],l}function Ys(s,e,t){const l=s.slice();return l[15]=e[t],l}function Fs(s){let e,t=rt(Object.keys(s[1])),l=[];for(let a=0;a<t.length;a+=1)l[a]=Js(Ws(s,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=pl()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=pl()},m(a,n){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,n);R(a,e,n)},p(a,n){if(n&2){t=rt(Object.keys(a[1]));let c;for(c=0;c<t.length;c+=1){const u=Ws(a,t,c);l[c]?l[c].p(u,n):(l[c]=Js(u),l[c].c(),l[c].m(e.parentNode,e))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},d(a){a&&i(e),Ht(l,a)}}}function Gs(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",a,n,c,u=s[1][s[9]][s[12]][s[15]].content+"",f;return{c(){e=d("div"),t=d("div"),a=H(l),n=M(),c=d("div"),f=H(u),this.h()},l(_){e=h(_,"DIV",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0});var p=v(t);a=N(p,l),p.forEach(i),n=A(g),c=h(g,"DIV",{class:!0});var m=v(c);f=N(m,u),m.forEach(i),g.forEach(i),this.h()},h(){o(t,"class","font-semibold uppercase"),o(c,"class","mb-2 mt-1"),o(e,"class","text-sm mb-2")},m(_,g){R(_,e,g),r(e,t),r(t,a),r(e,n),r(e,c),r(c,f)},p(_,g){g&2&&l!==(l=_[1][_[9]][_[12]][_[15]].title+"")&&z(a,l),g&2&&u!==(u=_[1][_[9]][_[12]][_[15]].content+"")&&z(f,u)},d(_){_&&i(e)}}}function Ks(s){let e,t,l=s[12]+"",a,n,c,u,f=rt(Object.keys(s[1][s[9]][s[12]])),_=[];for(let g=0;g<f.length;g+=1)_[g]=Gs(Ys(s,f,g));return{c(){e=d("div"),t=d("div"),a=H(l),c=M(),u=d("div");for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0});var m=v(t);a=N(m,l),m.forEach(i),c=A(p),u=h(p,"DIV",{class:!0});var w=v(u);for(let b=0;b<_.length;b+=1)_[b].l(w);w.forEach(i),p.forEach(i),this.h()},h(){o(t,"class",n="font-bold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),o(u,"class","my-2.5 px-1.5"),o(e,"class","")},m(g,p){R(g,e,p),r(e,t),r(t,a),r(e,c),r(e,u);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(u,null)},p(g,p){if(p&2&&l!==(l=g[12]+"")&&z(a,l),p&2&&n!==(n="font-bold uppercase text-xs "+(g[12]==="added"?"text-white bg-blue-600":g[12]==="fixed"?"text-white bg-green-600":g[12]==="changed"?"text-white bg-yellow-600":g[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&o(t,"class",n),p&2){f=rt(Object.keys(g[1][g[9]][g[12]]));let m;for(m=0;m<f.length;m+=1){const w=Ys(g,f,m);_[m]?_[m].p(w,p):(_[m]=Gs(w),_[m].c(),_[m].m(u,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=f.length}},d(g){g&&i(e),Ht(_,g)}}}function Js(s){let e,t,l,a=s[9]+"",n,c,u=s[1][s[9]].date+"",f,_,g,p,m,w=rt(Object.keys(s[1][s[9]]).filter(Xs)),b=[];for(let k=0;k<w.length;k+=1)b[k]=Ks(qs(s,w,k));return{c(){e=d("div"),t=d("div"),l=H("v"),n=H(a),c=H(" - "),f=H(u),_=M(),g=d("hr"),p=M();for(let k=0;k<b.length;k+=1)b[k].c();m=M(),this.h()},l(k){e=h(k,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var y=v(t);l=N(y,"v"),n=N(y,a),c=N(y," - "),f=N(y,u),y.forEach(i),_=A(E),g=h(E,"HR",{class:!0}),p=A(E);for(let T=0;T<b.length;T+=1)b[T].l(E);m=A(E),E.forEach(i),this.h()},h(){o(t,"class","font-bold text-xl mb-1 dark:text-white"),o(g,"class","dark:border-gray-800 my-2"),o(e,"class","mb-3 pr-2")},m(k,E){R(k,e,E),r(e,t),r(t,l),r(t,n),r(t,c),r(t,f),r(e,_),r(e,g),r(e,p);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(e,null);r(e,m)},p(k,E){if(E&2&&a!==(a=k[9]+"")&&z(n,a),E&2&&u!==(u=k[1][k[9]].date+"")&&z(f,u),E&2){w=rt(Object.keys(k[1][k[9]]).filter(Xs));let y;for(y=0;y<w.length;y+=1){const T=qs(k,w,y);b[y]?b[y].p(T,E):(b[y]=Ks(T),b[y].c(),b[y].m(e,m))}for(;y<b.length;y+=1)b[y].d(1);b.length=w.length}},d(k){k&&i(e),Ht(b,k)}}}function Yo(s){let e,t,l,a=s[2].t("What’s New in")+"",n,c,u,f,_,g,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,b,k,E=s[2].t("Release Notes")+"",y,T,I,V,D,S,C,$,W,B,G,Y,L,x,Z,j=s[2].t("Okay, Let's Go!")+"",O,U,P,K;_=new qo({props:{x:[-1,-.25],y:[0,.5]}});let J=s[1]&&Fs(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=H(a),c=M(),u=H(s[3]),f=M(),Te(_.$$.fragment),g=M(),p=d("button"),p.innerHTML=m,w=M(),b=d("div"),k=d("div"),y=H(E),T=M(),I=d("div"),V=M(),D=d("div"),S=H("v"),C=H(Qt),$=M(),W=d("div"),B=d("div"),G=d("div"),J&&J.c(),Y=M(),L=d("div"),x=d("button"),Z=d("span"),O=H(j),this.h()},l(F){e=h(F,"DIV",{class:!0});var Q=v(e);t=h(Q,"DIV",{class:!0});var te=v(t);l=h(te,"DIV",{class:!0});var ae=v(l);n=N(ae,a),c=A(ae),u=N(ae,s[3]),f=A(ae),Ve(_.$$.fragment,ae),ae.forEach(i),g=A(te),p=h(te,"BUTTON",{class:!0,"data-svelte-h":!0}),He(p)!=="svelte-14wj4tl"&&(p.innerHTML=m),te.forEach(i),w=A(Q),b=h(Q,"DIV",{class:!0});var ce=v(b);k=h(ce,"DIV",{class:!0});var ne=v(k);y=N(ne,E),ne.forEach(i),T=A(ce),I=h(ce,"DIV",{class:!0}),v(I).forEach(i),V=A(ce),D=h(ce,"DIV",{class:!0});var _e=v(D);S=N(_e,"v"),C=N(_e,Qt),_e.forEach(i),ce.forEach(i),Q.forEach(i),$=A(F),W=h(F,"DIV",{class:!0});var Ae=v(W);B=h(Ae,"DIV",{class:!0});var pe=v(B);G=h(pe,"DIV",{class:!0});var ie=v(G);J&&J.l(ie),ie.forEach(i),pe.forEach(i),Y=A(Ae),L=h(Ae,"DIV",{class:!0});var ue=v(L);x=h(ue,"BUTTON",{class:!0});var ge=v(x);Z=h(ge,"SPAN",{class:!0});var ee=v(Z);O=N(ee,j),ee.forEach(i),ge.forEach(i),ue.forEach(i),Ae.forEach(i),this.h()},h(){o(l,"class","text-xl font-bold"),o(p,"class","self-center"),o(t,"class","flex justify-between items-start"),o(k,"class","text-sm dark:text-gray-200"),o(I,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),o(D,"class","text-sm dark:text-gray-200"),o(b,"class","flex items-center mt-1"),o(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),o(G,"class","mb-3"),o(B,"class","overflow-y-scroll max-h-80 scrollbar-hidden"),o(Z,"class","relative"),o(x,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(L,"class","flex justify-end pt-3 text-sm font-medium"),o(W,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(F,Q){R(F,e,Q),r(e,t),r(t,l),r(l,n),r(l,c),r(l,u),r(l,f),Ce(_,l,null),r(t,g),r(t,p),r(e,w),r(e,b),r(b,k),r(k,y),r(b,T),r(b,I),r(b,V),r(b,D),r(D,S),r(D,C),R(F,$,Q),R(F,W,Q),r(W,B),r(B,G),J&&J.m(G,null),r(W,Y),r(W,L),r(L,x),r(x,Z),r(Z,O),U=!0,P||(K=[le(p,"click",s[6]),le(x,"click",s[7])],P=!0)},p(F,Q){(!U||Q&4)&&a!==(a=F[2].t("What’s New in")+"")&&z(n,a),(!U||Q&8)&&z(u,F[3]),(!U||Q&4)&&E!==(E=F[2].t("Release Notes")+"")&&z(y,E),F[1]?J?J.p(F,Q):(J=Fs(F),J.c(),J.m(G,null)):J&&(J.d(1),J=null),(!U||Q&4)&&j!==(j=F[2].t("Okay, Let's Go!")+"")&&z(O,j)},i(F){U||(re(_.$$.fragment,F),U=!0)},o(F){oe(_.$$.fragment,F),U=!1},d(F){F&&(i(e),i($),i(W)),Me(_),J&&J.d(),P=!1,et(K)}}}function Fo(s){let e,t,l;function a(c){s[8](c)}let n={$$slots:{default:[Yo]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new cl({props:n}),yt.push(()=>Dt(e,"show",a)),{c(){Te(e.$$.fragment)},l(c){Ve(e.$$.fragment,c)},m(c,u){Ce(e,c,u),l=!0},p(c,[u]){const f={};u&262175&&(f.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,f.show=c[0],It(()=>t=!1)),e.$set(f)},i(c){l||(re(e.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),l=!1},d(c){Me(e,c)}}}const Xs=s=>s!=="date";function Go(s,e,t){let l,a,n;Ue(s,ua,m=>t(3,a=m)),Ue(s,Ll,m=>t(4,n=m));const c=Et("i18n");Ue(s,c,m=>t(2,l=m));let{show:u=!1}=e,f=null;Bt(async()=>{const m=await pa();t(1,f=m)});const _=()=>{localStorage.version=n.version,t(0,u=!1)},g=()=>{localStorage.version=n.version,t(0,u=!1)};function p(m){u=m,t(0,u)}return s.$$set=m=>{"show"in m&&t(0,u=m.show)},[u,f,l,a,n,c,_,g,p]}class Ko extends mt{constructor(e){super(),pt(this,e,Go,Fo,_t,{show:0})}}function Qs(s){let e,t,l=s[1].t("Admin")+"",a,n,c=s[0].name+"",u,f,_=s[0].email+"",g,p;return{c(){e=d("div"),t=d("div"),a=H(l),n=H(": "),u=H(c),f=H(" ("),g=H(_),p=H(")"),this.h()},l(m){e=h(m,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{});var b=v(t);a=N(b,l),n=N(b,": "),u=N(b,c),f=N(b," ("),g=N(b,_),p=N(b,")"),b.forEach(i),w.forEach(i),this.h()},h(){o(e,"class","mt-4 text-sm font-medium text-center")},m(m,w){R(m,e,w),r(e,t),r(t,a),r(t,n),r(t,u),r(t,f),r(t,g),r(t,p)},p(m,w){w&2&&l!==(l=m[1].t("Admin")+"")&&z(a,l),w&1&&c!==(c=m[0].name+"")&&z(u,c),w&1&&_!==(_=m[0].email+"")&&z(g,_)},d(m){m&&i(e)}}}function Jo(s){let e,t,l,a,n,c=s[1].t("Account Activation Pending")+"",u,f,_,g=s[1].t("Contact Admin for WebUI Access")+"",p,m,w,b=s[1].t("Your account status is currently pending activation.")+"",k,E,y,T=s[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",I,V,D,S,C,$=s[1].t("Check Again")+"",W,B,G,Y=s[1].t("Sign Out")+"",L,x,Z,j=s[0]&&Qs(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=d("div"),u=H(c),f=d("br"),_=M(),p=H(g),m=M(),w=d("div"),k=H(b),E=d("br"),y=M(),I=H(T),V=M(),j&&j.c(),D=M(),S=d("div"),C=d("button"),W=H($),B=M(),G=d("button"),L=H(Y),this.h()},l(O){e=h(O,"DIV",{class:!0});var U=v(e);t=h(U,"DIV",{class:!0});var P=v(t);l=h(P,"DIV",{class:!0});var K=v(l);a=h(K,"DIV",{class:!0});var J=v(a);n=h(J,"DIV",{class:!0});var F=v(n);u=N(F,c),f=h(F,"BR",{}),_=A(F),p=N(F,g),F.forEach(i),m=A(J),w=h(J,"DIV",{class:!0});var Q=v(w);k=N(Q,b),E=h(Q,"BR",{}),y=A(Q),I=N(Q,T),Q.forEach(i),V=A(J),j&&j.l(J),D=A(J),S=h(J,"DIV",{class:!0});var te=v(S);C=h(te,"BUTTON",{class:!0});var ae=v(C);W=N(ae,$),ae.forEach(i),B=A(te),G=h(te,"BUTTON",{class:!0});var ce=v(G);L=N(ce,Y),ce.forEach(i),te.forEach(i),J.forEach(i),K.forEach(i),P.forEach(i),U.forEach(i),this.h()},h(){o(n,"class","text-center dark:text-white text-2xl font-medium z-50"),o(w,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(C,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),o(G,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(S,"class","mt-6 mx-auto relative group w-fit"),o(a,"class","max-w-md"),o(l,"class","m-auto pb-10 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-[999]")},m(O,U){R(O,e,U),r(e,t),r(t,l),r(l,a),r(a,n),r(n,u),r(n,f),r(n,_),r(n,p),r(a,m),r(a,w),r(w,k),r(w,E),r(w,y),r(w,I),r(a,V),j&&j.m(a,null),r(a,D),r(a,S),r(S,C),r(C,W),r(S,B),r(S,G),r(G,L),x||(Z=[le(C,"click",s[3]),le(G,"click",s[4])],x=!0)},p(O,[U]){U&2&&c!==(c=O[1].t("Account Activation Pending")+"")&&z(u,c),U&2&&g!==(g=O[1].t("Contact Admin for WebUI Access")+"")&&z(p,g),U&2&&b!==(b=O[1].t("Your account status is currently pending activation.")+"")&&z(k,b),U&2&&T!==(T=O[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&z(I,T),O[0]?j?j.p(O,U):(j=Qs(O),j.c(),j.m(a,D)):j&&(j.d(1),j=null),U&2&&$!==($=O[1].t("Check Again")+"")&&z(W,$),U&2&&Y!==(Y=O[1].t("Sign Out")+"")&&z(L,Y)},i:Ye,o:Ye,d(O){O&&i(e),j&&j.d(),x=!1,et(Z)}}}function Xo(s,e,t){let l;const a=Et("i18n");Ue(s,a,f=>t(1,l=f));let n=null;return Bt(async()=>{t(0,n=await Pa(localStorage.token).catch(f=>(console.error(f),null)))}),[n,l,a,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class Qo extends mt{constructor(e){super(),pt(this,e,Xo,Jo,_t,{})}}function ea(s){let e,t,l,a,n,c,u;const f=[ti,ei],_=[];function g(w,b){return b&8&&(e=null),e==null&&(e=!["user","admin"].includes(w[3].role)),e?0:w[2].length>0?1:-1}~(t=g(s,-1))&&(l=_[t]=f[t](s)),n=new Ro({});const p=s[10].default,m=ta(p,s,s[9],null);return{c(){l&&l.c(),a=M(),Te(n.$$.fragment),c=M(),m&&m.c()},l(w){l&&l.l(w),a=A(w),Ve(n.$$.fragment,w),c=A(w),m&&m.l(w)},m(w,b){~t&&_[t].m(w,b),R(w,a,b),Ce(n,w,b),R(w,c,b),m&&m.m(w,b),u=!0},p(w,b){let k=t;t=g(w,b),t===k?~t&&_[t].p(w,b):(l&&(Ct(),oe(_[k],1,1,()=>{_[k]=null}),Mt()),~t?(l=_[t],l?l.p(w,b):(l=_[t]=f[t](w),l.c()),re(l,1),l.m(a.parentNode,a)):l=null),m&&m.p&&(!u||b&512)&&la(m,p,w,w[9],u?aa(p,w[9],b,null):sa(w[9]),null)},i(w){u||(re(l),re(n.$$.fragment,w),re(m,w),u=!0)},o(w){oe(l),oe(n.$$.fragment,w),oe(m,w),u=!1},d(w){w&&(i(a),i(c)),~t&&_[t].d(w),Me(n,w),m&&m.d(w)}}}function ei(s){let e,t,l,a,n,c="Important Update<br/> Action Required for Chat Log Storage",u,f,_=s[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",g,p,m,w=s[6].t("Settings")+"",b,k,E=s[6].t("Chats")+"",y,T,I=s[6].t("Import Chats")+"",V,D,S=s[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",C,$,W,B,G="Download & Delete",Y,L,x=s[6].t("Close")+"",Z,j,O;return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=d("div"),n.innerHTML=c,u=M(),f=d("div"),g=H(_),p=M(),m=d("span"),b=H(w),k=H(" > "),y=H(E),T=H(" > "),V=H(I),D=H(". "),C=H(S),$=M(),W=d("div"),B=d("button"),B.textContent=G,Y=M(),L=d("button"),Z=H(x),this.h()},l(U){e=h(U,"DIV",{class:!0});var P=v(e);t=h(P,"DIV",{class:!0});var K=v(t);l=h(K,"DIV",{class:!0});var J=v(l);a=h(J,"DIV",{class:!0});var F=v(a);n=h(F,"DIV",{class:!0,"data-svelte-h":!0}),He(n)!=="svelte-mnqwc6"&&(n.innerHTML=c),u=A(F),f=h(F,"DIV",{class:!0});var Q=v(f);g=N(Q,_),p=A(Q),m=h(Q,"SPAN",{class:!0});var te=v(m);b=N(te,w),k=N(te," > "),y=N(te,E),T=N(te," > "),V=N(te,I),te.forEach(i),D=N(Q,". "),C=N(Q,S),Q.forEach(i),$=A(F),W=h(F,"DIV",{class:!0});var ae=v(W);B=h(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),He(B)!=="svelte-1ia8i9q"&&(B.textContent=G),Y=A(ae),L=h(ae,"BUTTON",{class:!0});var ce=v(L);Z=N(ce,x),ce.forEach(i),ae.forEach(i),F.forEach(i),J.forEach(i),K.forEach(i),P.forEach(i),this.h()},h(){o(n,"class","text-center dark:text-white text-2xl font-medium z-50"),o(m,"class","font-semibold dark:text-white"),o(f,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(B,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(L,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(W,"class","mt-6 mx-auto relative group w-fit"),o(a,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(U,P){R(U,e,P),r(e,t),r(t,l),r(l,a),r(a,n),r(a,u),r(a,f),r(f,g),r(f,p),r(f,m),r(m,b),r(m,k),r(m,y),r(m,T),r(m,V),r(f,D),r(f,C),r(a,$),r(a,W),r(W,B),r(W,Y),r(W,L),r(L,Z),j||(O=[le(B,"click",s[13]),le(L,"click",s[14])],j=!0)},p(U,P){P&64&&_!==(_=U[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&z(g,_),P&64&&w!==(w=U[6].t("Settings")+"")&&z(b,w),P&64&&E!==(E=U[6].t("Chats")+"")&&z(y,E),P&64&&I!==(I=U[6].t("Import Chats")+"")&&z(V,I),P&64&&S!==(S=U[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&z(C,S),P&64&&x!==(x=U[6].t("Close")+"")&&z(Z,x)},i:Ye,o:Ye,d(U){U&&i(e),j=!1,et(O)}}}function ti(s){let e,t;return e=new Qo({}),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:Ye,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function li(s){let e,t,l,a,n,c,u,f,_;function g(k){s[11](k)}let p={};s[4]!==void 0&&(p.show=s[4]),e=new io({props:p}),yt.push(()=>Dt(e,"show",g));function m(k){s[12](k)}let w={};s[5]!==void 0&&(w.show=s[5]),a=new Ko({props:w}),yt.push(()=>Dt(a,"show",m));let b=s[0]&&ea(s);return{c(){Te(e.$$.fragment),l=M(),Te(a.$$.fragment),c=M(),u=d("div"),f=d("div"),b&&b.c(),this.h()},l(k){Ve(e.$$.fragment,k),l=A(k),Ve(a.$$.fragment,k),c=A(k),u=h(k,"DIV",{class:!0});var E=v(u);f=h(E,"DIV",{class:!0});var y=v(f);b&&b.l(y),y.forEach(i),E.forEach(i),this.h()},h(){o(f,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row"),o(u,"class","app relative")},m(k,E){Ce(e,k,E),R(k,l,E),Ce(a,k,E),R(k,c,E),R(k,u,E),r(u,f),b&&b.m(f,null),_=!0},p(k,[E]){const y={};!t&&E&16&&(t=!0,y.show=k[4],It(()=>t=!1)),e.$set(y);const T={};!n&&E&32&&(n=!0,T.show=k[5],It(()=>n=!1)),a.$set(T),k[0]?b?(b.p(k,E),E&1&&re(b,1)):(b=ea(k),b.c(),re(b,1),b.m(f,null)):b&&(Ct(),oe(b,1,1,()=>{b=null}),Mt())},i(k){_||(re(e.$$.fragment,k),re(a.$$.fragment,k),re(b),_=!0)},o(k){oe(e.$$.fragment,k),oe(a.$$.fragment,k),oe(b),_=!1},d(k){k&&(i(l),i(c),i(u)),Me(e,k),Me(a,k),b&&b.d()}}}function si(s,e,t){let l,a,n,c,u;Ue(s,Ll,V=>t(15,l=V)),Ue(s,ol,V=>t(3,a=V)),Ue(s,El,V=>t(4,n=V)),Ue(s,_l,V=>t(5,c=V));let{$$slots:f={},$$scope:_}=e;const{saveAs:g}=Sl,p=Et("i18n");Ue(s,p,V=>t(6,u=V));let m=!1,w=null,b=[];const k=async()=>ra(localStorage.token);Bt(async()=>{if(a===void 0)await Yt("/auth");else if(["user","admin"].includes(a.role)){try{if(t(1,w=await mr("Chats",1)),w){const D=await w.getAllFromIndex("chats","timestamp");t(2,b=D.map((S,C)=>D[D.length-1-C])),b.length===0&&await rs("Chats")}console.log(w)}catch{}const V=await Ca(localStorage.token).catch(D=>(console.error(D),null));V?await jt.set(V.ui):await jt.set(JSON.parse(localStorage.getItem("settings")??"{}")),await Promise.all([(async()=>{xl.set(await k())})(),(async()=>{xa.set(await ga(localStorage.token))})(),(async()=>{La.set(await ba(localStorage.token))})(),(async()=>{Ba.set(await or(localStorage.token))})(),(async()=>{Cl.set(await ca(localStorage.token))})()]),document.addEventListener("keydown",function(D){var $,W,B,G,Y;const S=D.ctrlKey||D.metaKey,C=D.shiftKey;if(S&&C&&D.key.toLowerCase()==="o"&&(D.preventDefault(),console.log("newChat"),($=document.getElementById("sidebar-new-chat-button"))==null||$.click()),C&&D.key==="Escape"&&(D.preventDefault(),console.log("focusInput"),(W=document.getElementById("chat-textarea"))==null||W.focus()),S&&C&&D.key===";"){D.preventDefault(),console.log("copyLastCodeBlock");const L=[...document.getElementsByClassName("copy-code-button")].at(-1);L==null||L.click()}if(S&&C&&D.key.toLowerCase()==="c"){D.preventDefault(),console.log("copyLastResponse");const L=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(L),L==null||L.click()}S&&C&&D.key.toLowerCase()==="s"&&(D.preventDefault(),console.log("toggleSidebar"),(B=document.getElementById("sidebar-toggle-button"))==null||B.click()),S&&C&&D.key==="Backspace"&&(D.preventDefault(),console.log("deleteChat"),(G=document.getElementById("delete-chat-button"))==null||G.click()),S&&D.key==="."&&(D.preventDefault(),console.log("openSettings"),El.set(!n)),S&&D.key==="/"&&(D.preventDefault(),console.log("showShortcuts"),(Y=document.getElementById("show-shortcuts-button"))==null||Y.click())}),a.role==="admin"&&_l.set(localStorage.version!==l.version),await _a()}t(0,m=!0)});function E(V){n=V,El.set(n)}function y(V){c=V,_l.set(c)}const T=async()=>{let V=new Blob([JSON.stringify(b)],{type:"application/json"});g(V,`chat-export-${Date.now()}.json`);const D=w.transaction("chats","readwrite");await Promise.all([D.store.clear(),D.done]),await rs("Chats"),t(2,b=[])},I=async()=>{t(2,b=[])};return s.$$set=V=>{"$$scope"in V&&t(9,_=V.$$scope)},[m,w,b,a,n,c,u,g,p,_,f,E,y,T,I]}class xi extends mt{constructor(e){super(),pt(this,e,si,li,_t,{})}}export{xi as component};
//# sourceMappingURL=2.3c821d1e.js.map
