stages:
  - py36
  - py37
  - py38
  - py39
  - py310
  - py311
  - py312
test-py3.6:
  image: python:3.6
  stage: py36
  script:
  - pip3 install -r requirements.txt
  - python3.6 -m pytest --cov rpg tests
test-py3.7:
  image: python:3.7
  stage: py37
  script:
  - pip3 install -r requirements.txt
  - python3.7 -m pytest --cov rpg tests
test-py3.8:
  image: python:3.8
  stage: py38
  script:
  - pip3 install -r requirements.txt
  - python3.8 -m pytest --cov rpg tests
test-py3.9:
  image: python:3.9
  stage: py39
  script:
  - pip3 install -r requirements.txt
  - python3.9 -m pytest --cov rpg tests
test-py3.10:
  image: python:3.10
  stage: py310
  script:
  - pip3 install -r requirements.txt
  - python3.10 -m pytest --cov rpg tests
test-py3.11:
  image: python:3.11
  stage: py311
  script:
  - pip3 install -r requirements.txt
  - python3.11 -m pytest --cov rpg tests
test-py3.12:
  image: python:3.12
  stage: py312
  script:
  - pip3 install -r requirements.txt
  - python3.12 -m pytest --cov rpg tests
  coverage: '/(?i)total.*? (100(?:\.0+)?\%|[1-9]?\d(?:\.\d+)?\%)$/'