{% set model_list = models_name+'List' -%}
{% set table_name = lower_model_name+'Table' -%}
{% set left = '{{' -%}
{% set right = '}}' -%}
<div *ngIf="{{ model_list }}"  class="page">
    <nz-row>
        <nz-col nzSpan="3">
            <h2 nz-typography>{{ model_readable_name }}列表</h2>
        </nz-col>
        <nz-col class="center-content">
            <nz-breadcrumb>
                <nz-breadcrumb-item routerLink="/">首页</nz-breadcrumb-item>
                <nz-breadcrumb-item routerLink="/{{ app_name }}">
                    <a>{{ app_readable_name }}</a>
                </nz-breadcrumb-item>
                <nz-breadcrumb-item routerLink="/{{ app_name }}/{{ lower_models_name }}">
                    <a>{{ model_readable_name }}列表</a>
                </nz-breadcrumb-item>
            </nz-breadcrumb>
        </nz-col>
    </nz-row>
      <nz-divider></nz-divider>
      <div>
        <nz-row>
          <nz-col nzSpan="3">
            <nz-statistic [nzValue]="{{ models_name }}List.length" [nzTitle]="'{{ model_readable_name }}数量'"></nz-statistic>
          </nz-col>
          <nz-col nzSpan="3" class="center-content">
            <a nz-button nzType="primary" nzShape="round" nzSize="large" routerLink="/{{ app_name }}/{{ lower_models_name }}/creator">添加{{ model_readable_name }}</a>
          </nz-col>
        </nz-row>
      </div>
      <nz-divider></nz-divider>
    <nz-table #{{ table_name }} [nzData]="{{ model_list }}"  [nzPageSize]="100">
      <thead>
        <tr>
            {% for tf in list_display_restraint_translate -%}
                <th>{{ tf }}</th>
            {% endfor -%}
            <th>action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of {{ table_name }}.data">
            {% for ldf,ldf_type in list_display_restraint_type_map.items() -%}
                {%- if cls.extract_py_type(ldf_type)=='bool' -%}
                <td [ngSwitch]="data.{{ ldf }}">
                  <span *ngSwitchCase="true" nz-icon nzType="check-circle" nzTheme="twotone"></span>
                  <span *ngSwitchCase="false" nz-icon nzType="close-circle" nzTheme="twotone" [twoToneColor]="'red'"></span>
                </td>
                {%- else -%}
                    <td>{{ left }}data.{{ ldf }}{{ right }}</td>
                {%- endif %}
            {% endfor -%}
            <td>
                <nz-space>
                  <a nz-button *nzSpaceItem nzShape="round" routerLink="/{{ app_name }}/{{ lower_models_name }}/{{left}} data.id {{ right }}/updater">更新</a>
                  <button nz-button *nzSpaceItem nzType="primary" nzShape="round" nzDanger
                          nz-popconfirm
                          nzPopconfirmTitle="确定删除{{ model_readable_name }}吗?"
                          (nzOnConfirm)="delete{{ model_name }}(data.id)"
                          (nzOnCancel)="giveUpDelete{{ model_name }}()">删除
                  </button>
                </nz-space>
            </td>
        </tr>
      </tbody>
    </nz-table>
</div>